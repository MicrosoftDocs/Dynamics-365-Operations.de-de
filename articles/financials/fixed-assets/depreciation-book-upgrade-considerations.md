---
title: Übersicht zum Abschreibungsbuchupgrade
description: 'In älteren Versionen gab es zwei Bewertungskonzepte für Anlagen: Wertmodelle und Abschreibungsbücher. In Microsoft Dynamics 365 for Operations (1611) wurden die Wertmodellfunktionalität und die Abschreibungsbuchfunktionalität zu einem einzigen Konzept zusammengeführt, das als Buch bekannt ist. Dieses Thema bietet mehrere Dinge, die für das Upgrade zu berücksichtigen sind.'
author: ShylaThompson
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User, Developer
ms.reviewer: shylaw
ms.search.scope: Core, Operations
ms.custom: 221624
ms.assetid: cf434099-36f9-4b0f-a7c8-bed091e34f39
ms.search.region: global
ms.author: saraschi
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
ms.openlocfilehash: 805f6ab1cd1d0996e685278cc997f532213c76c3
ms.sourcegitcommit: 9d4c7edd0ae2053c37c7d81cdd180b16bf3a9d3b
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 05/15/2019
ms.locfileid: "1546454"
---
# <a name="depreciation-book-upgrade-overview"></a><span data-ttu-id="3350d-105">Übersicht zum Abschreibungsbuchupgrade</span><span class="sxs-lookup"><span data-stu-id="3350d-105">Depreciation book upgrade overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="3350d-106">In älteren Versionen gab es zwei Bewertungskonzepte für Anlagen: Wertmodelle und Abschreibungsbücher.</span><span class="sxs-lookup"><span data-stu-id="3350d-106">In previous releases, there were two valuation concepts for fixed assets -  value models and depreciation books.</span></span> <span data-ttu-id="3350d-107">In Microsoft Dynamics 365 for Operations (1611) wurden die Wertmodellfunktionalität und die Abschreibungsbuchfunktionalität zu einem einzigen Konzept zusammengeführt, das als Buch bekannt ist.</span><span class="sxs-lookup"><span data-stu-id="3350d-107">In Microsoft Dynamics 365 for Operations (1611), the value model functionality and depreciation book functionality have been merged into a single concept that is known as a book.</span></span> <span data-ttu-id="3350d-108">Dieses Thema bietet mehrere Dinge, die für das Upgrade zu berücksichtigen sind.</span><span class="sxs-lookup"><span data-stu-id="3350d-108">This topic provides some things to consider for the upgrade.</span></span> 

<span data-ttu-id="3350d-109">Durch den Upgradeprozess werden Ihre vorhandenen Einstellungen und alle Ihre vorhandenen Transaktionen zur neuen Buchstruktur verschoben.</span><span class="sxs-lookup"><span data-stu-id="3350d-109">The upgrade process will move your existing setup and all existing transactions to the new book structure.</span></span> <span data-ttu-id="3350d-110">Wertmodelle bleiben, wie sie zurzeit sind, als Buch, das zum Hauptbuch bucht.</span><span class="sxs-lookup"><span data-stu-id="3350d-110">Value models will remain as they currently are, as a book that posts to the general ledger.</span></span> <span data-ttu-id="3350d-111">Abschreibungsbücher werden zu einem Buch verschoben, bei dem die Option **Ins Hauptbuch buchen** auf **Nein** festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="3350d-111">Depreciation books will be moved to a book that has the **Post to general ledger** option set to **No**.</span></span> <span data-ttu-id="3350d-112">Abschreibungsbuch-Erfassungsnamen werden zu einem Hauptbuch-Erfassungsnamen verschoben, bei dem die Buchungsebene auf **Keine** festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="3350d-112">Depreciation book journal names will be moved to a general ledger journal name with the posting layer set to **None**.</span></span> <span data-ttu-id="3350d-113">Abschreibungsbuchtransaktionen werden auf eine Anlagenbuchung verschoben.</span><span class="sxs-lookup"><span data-stu-id="3350d-113">Depreciation book transactions will be moved to Fixed asset transactions.</span></span> 

<span data-ttu-id="3350d-114">Bevor Sie das Datenupgrade ausführen, sollten Sie die zwei Optionen verstehen, die für die Aktualisierung der Abschreibungsbuch-Erfassungspositionen zu Buchungsbelegen verfügbar sind, sowie der Nummernkreis, der für Belegreihen verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="3350d-114">Before running the data upgrade, you should understand the two options available for upgrading depreciation book journal lines to transaction vouchers, and the number sequence that will be used for the voucher series.</span></span> 

<span data-ttu-id="3350d-115">Option 1:  **Systemdefinierter Nummernkreis** – Dies ist die Standardoption, um die Aktualisierungsleistung zu optimieren.</span><span class="sxs-lookup"><span data-stu-id="3350d-115">Option 1:  **System-defined number sequence** - This is the default option to optimize upgrade performance.</span></span> <span data-ttu-id="3350d-116">Beim Upgrade wird nicht das Nummernkreis-Framework verwendet. Statt dessen werden Belege mit einem satzbasierten Ansatz zugeteilt.</span><span class="sxs-lookup"><span data-stu-id="3350d-116">The upgrade will not use the number sequences framework, but instead will allocate vouchers with a set-based approach.</span></span> <span data-ttu-id="3350d-117">Nach Abschluss der Aktualisierung wird der neue Nummernkreis mit **Nächste Nummer festgelegt** basierend auf den aktualisierten Buchungen erstellt.</span><span class="sxs-lookup"><span data-stu-id="3350d-117">After the upgrade, the new number sequence will be created with the **Next number set** appropriately based on the upgraded transactions.</span></span> <span data-ttu-id="3350d-118">Standardmäßig ist der verwendete Nummernkreis im Format FADBUpgr\#\#\#\#\#\#\#\#\# angezeigt.</span><span class="sxs-lookup"><span data-stu-id="3350d-118">By default, the number sequence used will be in the FADBUpgr\#\#\#\#\#\#\#\#\# format.</span></span> <span data-ttu-id="3350d-119">Es gibt einige Parameter, die Ihnen zur Verfügung stehen, um das Format anzupassen, wenn dieser Ansatz verwendet wird:</span><span class="sxs-lookup"><span data-stu-id="3350d-119">There are a few parameters available to you to adjust the format when using this approach:</span></span>

-   <span data-ttu-id="3350d-120">**Nummernkreiscode** – Der Code, um die Nummernkreise zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="3350d-120">**Number sequence code** – The code to identify the number sequence.</span></span> <span data-ttu-id="3350d-121">Dieser Nummernkreiscode kann nicht bestehen, da er durch das Upgrade erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="3350d-121">This number sequence code cannot exist since it will be created by the upgrade.</span></span>
    -   <span data-ttu-id="3350d-122">Konstantenname: **NumberSequenceDefaultCode**</span><span class="sxs-lookup"><span data-stu-id="3350d-122">Constant name: **NumberSequenceDefaultCode**</span></span>
    -   <span data-ttu-id="3350d-123">Standardwert: "FADBUpgr"</span><span class="sxs-lookup"><span data-stu-id="3350d-123">Default value: "FADBUpgr"</span></span>
-   <span data-ttu-id="3350d-124">**Präfix** – Der Konstanten-Zeichenfolgenwert, der als Präfix für die Belegnummern verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="3350d-124">**Prefix** – The constant string value that will be used as a prefix for the voucher numbers.</span></span>
    -   <span data-ttu-id="3350d-125">Konstantenname: **NumberSequenceDefaultParameterPrefix**</span><span class="sxs-lookup"><span data-stu-id="3350d-125">Constant name: **NumberSequenceDefaultParameterPrefix**</span></span>
    -   <span data-ttu-id="3350d-126">Standardwert: "FADBUpgr"</span><span class="sxs-lookup"><span data-stu-id="3350d-126">Default value: "FADBUpgr"</span></span>
-   <span data-ttu-id="3350d-127">**Alphanumerische Länge** – Die Länge des alphanumerischen Segments des Nummernkreises.</span><span class="sxs-lookup"><span data-stu-id="3350d-127">**Alphanumeric length** – The length of the alphanumeric segment of the number sequence.</span></span>
    -   <span data-ttu-id="3350d-128">Konstantenname: **NumberSequenceDefaultParameterAlpanumericLength**</span><span class="sxs-lookup"><span data-stu-id="3350d-128">Constant name: \*\*NumberSequenceDefaultParameterAlpanumericLength \*\*</span></span>
    -   <span data-ttu-id="3350d-129">Standardwert: 9</span><span class="sxs-lookup"><span data-stu-id="3350d-129">Default value: 9</span></span>
-   <span data-ttu-id="3350d-130">**Startnummer** – Die erste Nummer, die im Nummernkreis zu verwenden ist.</span><span class="sxs-lookup"><span data-stu-id="3350d-130">**Start number** - The first number to be used in the number sequence.</span></span>
    -   <span data-ttu-id="3350d-131">Konstantenname: **NumberSequenceDefaultParameterStartNumber**</span><span class="sxs-lookup"><span data-stu-id="3350d-131">Constant name: \*\*NumberSequenceDefaultParameterStartNumber  \*\*</span></span>
    -   <span data-ttu-id="3350d-132">Standardwert: 1</span><span class="sxs-lookup"><span data-stu-id="3350d-132">Default value: 1</span></span>

<span data-ttu-id="3350d-133">Option 2: **Vorhandener benutzerdefinierter Nummernkreis** - Diese Option ermöglicht Ihnen, Die Zahlensequenz zu definieren, die für die Aktualisierung verwendendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="3350d-133">Option 2: **Existing user-defined number sequence** - This option will allow you to define the number sequence to be used for the upgrade.</span></span> <span data-ttu-id="3350d-134">Es ist besser, diese Option zu verwenden, wenn Sie ausführlichere Nummernkreiskonfiguration erfordern.</span><span class="sxs-lookup"><span data-stu-id="3350d-134">Consider using this option if you need advanced number sequence configuration.</span></span> <span data-ttu-id="3350d-135">Wenn Sie einen Nummernkreis verwenden, müssen Sie die Aktualisierungsklasse ReleaseUpdateDB70 \_FixedAssetJournalDepBookRemovalDepBookJournalTrans mit den folgenden Informationen ändern:</span><span class="sxs-lookup"><span data-stu-id="3350d-135">To use a number sequence, you must modify the upgrade class ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans with the following information:</span></span>

-   <span data-ttu-id="3350d-136">**Nummernkreiscode** – Der Code des Nummernkreises.</span><span class="sxs-lookup"><span data-stu-id="3350d-136">**Number sequence code** – The code of the number sequence.</span></span>
    -   <span data-ttu-id="3350d-137">Konstantenname: **NumberSequenceExistingCode**</span><span class="sxs-lookup"><span data-stu-id="3350d-137">Constant name: \*\*NumberSequenceExistingCode \*\*</span></span>
    -   <span data-ttu-id="3350d-138">Standardwert: Kein Standard, dieser muss zum Nummernkreiscode aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="3350d-138">Default value: No default, this must be updated to the number sequence code.</span></span>
-   <span data-ttu-id="3350d-139">**Freigegebener Nummernkreis** – Ein boolescher Wert, um den Bereich des Nummernkreises zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="3350d-139">**Shared number sequence** – A boolean value to identify the scope of the number sequence.</span></span> <span data-ttu-id="3350d-140">Verwenden Sie "wahr" für freigegebene Nummernkreise über alle Unternehmen hinweg und "falsch" für einen unternehmensspezifischen Bereich.</span><span class="sxs-lookup"><span data-stu-id="3350d-140">Use "true" for shared number sequences across all companies, and "false" for a company-specific scope.</span></span> <span data-ttu-id="3350d-141">Wenn Sie "false" verwenden, muss die Zahlensequenz mit dem angegebenen Namen in jedem Unternehmen vorhanden sein, das Abschreibungsbuchbuchungen enthält.</span><span class="sxs-lookup"><span data-stu-id="3350d-141">When using "false", the number sequence with the specified name must exist in every company that contains depreciation book transactions.</span></span> <span data-ttu-id="3350d-142">Freigegebene Nummernkreise  sind in jeder Partition vorhanden, die Abschreibungsbuchbuchungen enthält.</span><span class="sxs-lookup"><span data-stu-id="3350d-142">Shared number sequences exist in every partition that contains depreciation book transactions.</span></span>
    -   <span data-ttu-id="3350d-143">Konstantenname: **NumberSequenceExistingIsShared**</span><span class="sxs-lookup"><span data-stu-id="3350d-143">Constant name: \*\*NumberSequenceExistingIsShared \*\*</span></span>
    -   <span data-ttu-id="3350d-144">Standardwert: wahr</span><span class="sxs-lookup"><span data-stu-id="3350d-144">Default value: true</span></span>

<span data-ttu-id="3350d-145">Die Parameter befinden sich am Anfang der Klasse  ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans.</span><span class="sxs-lookup"><span data-stu-id="3350d-145">The parameters are located at the beginning of the ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans class.</span></span> 

<span data-ttu-id="3350d-146">*//Geben Sie einen vorzuziehenden der Zuteilung von Belege an*  
 *// true, wenn Sie einen vorhandenen Nummernkreiscode verwenden möchten* 
*false, wenn Sie den vom System definierten Nummernkreis (Standard) verwende möchten*  const  boolesches NumberSequenceUseExistingCode = false;</span><span class="sxs-lookup"><span data-stu-id="3350d-146">*// Specify a preferable approach of vouchers allocation* 
 *// true, if you want to use an existing number sequence code* 
 *// false, if you intend to use the system-defined number sequence (default)* const boolean NumberSequenceUseExistingCode = false;</span></span>  

<span data-ttu-id="3350d-147">*//Wenn der vom System definierte Nummernkreisansatz verwendet wird, geben Sie die Parameter für die Nummersequenz an*
 *//Ein neuer Nummernkreis wird mit mit diesen Parametern erstellt.*</span><span class="sxs-lookup"><span data-stu-id="3350d-147">*// If using the system-defined number sequence approach, specify the parameters for the number sequence.*
 *// A new number sequence will be created with these parameters.*</span></span> <span data-ttu-id="3350d-148">const str NumberSequenceDefaultCode = 'FADBUpgr'; const str NumberSequenceDefaultParameterPrefix = 'FADBUpgr'; const int NumberSequenceDefaultParameterAlpanumericLength = 9; const int NumberSequenceDefaultParameterStartNumber = 1;</span><span class="sxs-lookup"><span data-stu-id="3350d-148">const str NumberSequenceDefaultCode = 'FADBUpgr'; const str NumberSequenceDefaultParameterPrefix = 'FADBUpgr'; const int NumberSequenceDefaultParameterAlpanumericLength = 9; const int NumberSequenceDefaultParameterStartNumber = 1;</span></span>   

<span data-ttu-id="3350d-149">*//Wenn der vorhandene Nummernkreisansatz verwendet wird, geben Sie den bestehenden Nummernsequenzcode ein* 
 *//Beleg-Zuweisung geht Zeile-für-Zeile für bestehende Nummernsequenzen.*</span><span class="sxs-lookup"><span data-stu-id="3350d-149">*// If using the existing number sequence approach, specify the existing number sequence code.* 
 *// Voucher allocation will go row-by-row for existing number sequences.*</span></span> <span data-ttu-id="3350d-150">const str = NumberSequenceExistingCode ''; *//Geben Sie den Umfang des vorhandenen Nummernkreiscode an* 
 *//true, wenn der Nummernkreis der angegebenen Anzahl geteilt wird* 
 *//false wenn der angegebene Nummernkreis pro Unternehmen ist* 
 *// Der vom System definierte Nummernkreis wird verwendet, wenn ein Nummernkreiscode mit dem angegebenen Bereich nicht gefunden wird.*</span><span class="sxs-lookup"><span data-stu-id="3350d-150">const str NumberSequenceExistingCode = ''; *// Specify the scope of the existing number sequence code* 
 *// true, if the specified number sequence is shared* 
 *// false, if the specified number sequence is per-company* 
 *// The default system-defined number sequence will be used if a number sequence code with the specified scope is not found.*</span></span> <span data-ttu-id="3350d-151">const boolean NumberSequenceExistingIsShared = true;</span><span class="sxs-lookup"><span data-stu-id="3350d-151">const boolean NumberSequenceExistingIsShared = true;</span></span> 

<span data-ttu-id="3350d-152">Erstellen Sie das Projekt erneut, das die Klasse enthält, nachdem die Konstanten geändert wurden.</span><span class="sxs-lookup"><span data-stu-id="3350d-152">Rebuild the project that contains the class after the constants have been modified.</span></span> 

<span data-ttu-id="3350d-153">Wenn der vom System generierte Nummernkreisansatz Option verwendet wird (1), nutz die Aktualisierung die die satzbasierte Verarbeitung, um die Belegnummern wie in den Aktualisierungsskriptparametern angegeben zuzuweisen.</span><span class="sxs-lookup"><span data-stu-id="3350d-153">When using the system-generated number sequence approach (option 1), the upgrade will use set-based processing to allocate the voucher numbers as specified in the upgrade script parameters.</span></span> <span data-ttu-id="3350d-154">Er erstellt auch einen neuen Nummernkreis mit angegebenen Parametern für die Zuweisung.</span><span class="sxs-lookup"><span data-stu-id="3350d-154">It will also create a new number sequence with specified parameters after the allocation.</span></span> 

<span data-ttu-id="3350d-155">Wenn der Ansatz mit dem benutzerdefinierten vorhandenen Nummernkreis verwendet wird (Option 2), überprüft das Datenupgrade, ob der Nummernkreis mit dem angegebenen Bereich in der Datenbank für jede Partition sowie ein Unternehmen mit Abschreibungsbuchbuchungen vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="3350d-155">When using the user-defined existing number sequence approach (option 2), the data upgrade checks whether the number sequence with the specified scope exists in the database for each partition and company with depreciation book transactions.</span></span> <span data-ttu-id="3350d-156">Ist dies der Fall, wird die Aktualisierung den Prozess Zeile-für-Zeile verarbeiten verwenden, um die Belegnummern zuzuweisen, wie durch den Nummernkreis im Nummernkreisframeworks angegeben.</span><span class="sxs-lookup"><span data-stu-id="3350d-156">If it does exist, the upgrade will use row-by-row processing to allocate the voucher numbers as specified by the number sequence using the number sequence framework.</span></span> <span data-ttu-id="3350d-157">Wenn der Nummernkreis nicht in dem angegebenen Bereich vorhanden ist, wird die Aktualisierung des Nummernkreisansatz systemdefiniert erfolgen, um die Belegnummernserie zuzuweisen und es erstellt einen neuen Nummernkreis mit angegebenen Standardparametern für die Zuweisung.</span><span class="sxs-lookup"><span data-stu-id="3350d-157">If the number sequence does not exist with the specified scope, the upgrade will use the default system-defined number sequence approach to allocate the voucher numbers, and will create a new number sequence with specified default parameters after the allocation.</span></span>

<span data-ttu-id="3350d-158">Bei jedem dieser Ansätze verwendet das Datenupgradeskript auch den Nummernkreis für das Feld **Belegreihen** bei den neuen Hauptbuch-Erfassungsnamen, der für die vorherigen Abschreibungsbuch-Erfassungsnamen erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="3350d-158">With either approach, the data upgrade script will also use the number sequence for the **Voucher series** field on the new general ledger journal names created for the former depreciation book journal names.</span></span>



