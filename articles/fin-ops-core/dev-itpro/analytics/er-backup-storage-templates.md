---
title: Sicherungsspeicher von ER-Vorlagen
description: In diesem Thema wird erläutert, wie der Sicherungsspeicher der elektronischen Berichterstellung (Electronic Reporting, ER) zum Wiederherstellen von Vorlagen verwendet wird.
author: NickSelin
manager: AnnBe
ms.date: 08/19/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERWorkspace, ERSolutionTable
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: Operations
ms.custom: 27621
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-08-13
ms.dyn365.ops.version: 10.0.5
ms.openlocfilehash: 932ba44b4223bf9c9d93ffb19e17f6e57bb303b5
ms.sourcegitcommit: bbb64b3475eef155b3f9d1bdc440545da8a7182f
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 10/04/2019
ms.locfileid: "2553090"
---
# <a name="backup-storage-of-er-templates"></a><span data-ttu-id="34c58-103">Sicherungsspeicher von ER-Vorlagen</span><span class="sxs-lookup"><span data-stu-id="34c58-103">Backup storage of ER templates</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="34c58-104">Mit dem [Electronic Reporting (ER)-Framework](general-electronic-reporting.md) können geschäftliche Benutzer Formate für ausgehende Dokumente in Übereinstimmung mit den rechtlichen Anforderungen verschiedener Länder und Regionen konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="34c58-104">The [Electronic reporting (ER) framework](general-electronic-reporting.md) lets business users configure formats for outbound documents according to the legal requirements of various countries and regions.</span></span> <span data-ttu-id="34c58-105">Konfigurierte ER-Formate können vordefinierte Vorlagen verwenden, um ausgehende Dokumente in verschiedenen Formaten zu generieren, z. B. Microsoft Excel-Arbeitsmappen, Microsoft Word-Dokumente oder PDF-Dokumente.</span><span class="sxs-lookup"><span data-stu-id="34c58-105">Configured ER formats can use predefined templates to generate outbound documents in various formats, such as Microsoft Excel workbooks, Microsoft Word documents, or PDF documents.</span></span> <span data-ttu-id="34c58-106">Die Vorlagen sind mit den Daten gefüllt, die der konfigurierte Datenfluss für generierte Dokumente erfordert.</span><span class="sxs-lookup"><span data-stu-id="34c58-106">The templates are filled with data that the configured dataflow for generated documents requires.</span></span>

<span data-ttu-id="34c58-107">Jedes konfigurierte Format kann als Teil einer ER-Lösung veröffentlicht werden.</span><span class="sxs-lookup"><span data-stu-id="34c58-107">Each configured format can be published as part of an ER solution.</span></span> <span data-ttu-id="34c58-108">Jede ER-Lösung kann von einer Finance and Operations-Instanz exportiert und in eine andere Instanz importiert werden.</span><span class="sxs-lookup"><span data-stu-id="34c58-108">Each ER solution can be exported from one instance of Finance and Operations and imported into another instance.</span></span>

<span data-ttu-id="34c58-109">Das ER-Framework verwendet das [Dokumentverwaltungsframework](../../fin-ops/organization-administration/configure-document-management.md), um erforderliche Vorlagen für die aktuelle Finance and Operations-Instanz beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="34c58-109">The ER framework uses the [Document management framework](../../fin-ops/organization-administration/configure-document-management.md) to keep the required templates for the current Finance and Operations instance.</span></span> <span data-ttu-id="34c58-110">Je nach Einstellungen des ER-Frameworks kann Microsoft Azure BLOB-Speicher oder ein Microsoft SharePoint-Ordner als physischer Primärspeicherort für Vorlagen ausgewählt werden.</span><span class="sxs-lookup"><span data-stu-id="34c58-110">Depending on the settings of the ER framework, Microsoft Azure Blob storage or a Microsoft SharePoint folder can be selected as the physical primary storage location for templates.</span></span> <span data-ttu-id="34c58-111">(Weitere Informationen, finden Sie unter [Konfigurieren des ER-Frameworks](electronic-reporting-er-configure-parameters.md).) Die DocuValue-Tabelle enthält einen einzelnen Datensatz für jede Vorlage.</span><span class="sxs-lookup"><span data-stu-id="34c58-111">(For more information, see [Configure the ER framework](electronic-reporting-er-configure-parameters.md).) The DocuValue table holds an individual record for each template.</span></span> <span data-ttu-id="34c58-112">In jedem Datensatz speichert das Feld **AccessInformation** den Pfad einer Vorlagendatei, die sich im konfigurierten Speicherort befindet.</span><span class="sxs-lookup"><span data-stu-id="34c58-112">In each record, the **AccessInformation** field stores the path of a template file that is located in the configured storage location.</span></span>

<span data-ttu-id="34c58-113">Wenn Sie Ihre Finance and Operations-Instanzen verwalten, können Sie die aktuelle Instanz zu einem anderem Speicherort migrieren.</span><span class="sxs-lookup"><span data-stu-id="34c58-113">When you manage your Finance and Operations instances, you might decide to migrate the current instance to another location.</span></span> <span data-ttu-id="34c58-114">Sie können Ihre Produktionsinstanz beispielsweise zu einer neuen Sandboxumgebung migrieren.</span><span class="sxs-lookup"><span data-stu-id="34c58-114">For example, you might migrate your production instance to a new sandbox environment.</span></span> <span data-ttu-id="34c58-115">Wenn Sie das ER-Framework konfigurieren, um Vorlagen im BLOB-Speicher zu speichern, verweist die DocuValue-Tabelle in der neuen Sandboxumgebung auf die BLOB-Speicherinstanz in der Produktionsumgebung.</span><span class="sxs-lookup"><span data-stu-id="34c58-115">If you configured the ER framework to store templates in Blob storage, the DocuValue table in the new sandbox environment refers to the instance of Blob storage in the production environment.</span></span> <span data-ttu-id="34c58-116">Auf diese Instanz kann jedoch nicht über die Sandboxumgebung zugegriffen werden, da der Migrationsvorgang die Migration von Artefakten im BLOB-Speicher nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="34c58-116">However, this instance can't be accessed from the sandbox environment, because the migration process doesn't support the migration of artifacts in Blob storage.</span></span> <span data-ttu-id="34c58-117">Daher tritt eine Ausnahme auf, wenn Sie versuchen, ein ER-Format auszuführen, das eine Vorlage zum Generieren von Geschäftsdokumenten verwendet, und Sie erhalten eine Benachrichtigung, dass die Vorlage fehlt.</span><span class="sxs-lookup"><span data-stu-id="34c58-117">Therefore, if you try to run an ER format that uses a template to generate business documents, an exception occurs, and you're notified about the missing template.</span></span> <span data-ttu-id="34c58-118">Sie erhalten eine Anleitung dazu, wie Sie die in der ER-Formatkonfiguration enthaltene Vorlage mit dem ER-Bereinigungstool löschen und erneut importiert.</span><span class="sxs-lookup"><span data-stu-id="34c58-118">You're also guided to use the ER cleanup tool to delete and then re-import the ER format configuration that contains the template.</span></span> <span data-ttu-id="34c58-119">Dieser Vorgang kann zeitaufwändig sein, da Sie möglicherweise über mehrere ER-Formatkonfigurationen verfügen.</span><span class="sxs-lookup"><span data-stu-id="34c58-119">Because you might have several ER format configurations, this process can be time consuming.</span></span>

<span data-ttu-id="34c58-120">Mithilfe des Sicherungsspeichers der ER-Vorlagenfunktion können Sie Ihre Vorlagen so erstellen, dass sie immer zum Generieren von Geschäftsdokumenten verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="34c58-120">The Backup storage of ER templates feature can help you make your templates so that they are always available to generate business documents.</span></span>

> [!NOTE]
> <span data-ttu-id="34c58-121">Diese Funktion kann nur verwendet werden, wenn BLOB-Speicher als physischer Speicherort für ER-Vorlagen ausgewählt wurde.</span><span class="sxs-lookup"><span data-stu-id="34c58-121">This feature can be used only when Blob storage has been selected as the physical storage location for ER templates.</span></span>

<span data-ttu-id="34c58-122">Für diese Funktion wird jede Vorlage einer neuen ER-Formatkonfiguration in der aktuellen Umgebung automatisch am Sicherungsspeicherort für Vorlagen (die ERDocuDatabaseStorage-Datenbanktabelle) gespeichert, wenn die folgenden Ereignisse auftreten:</span><span class="sxs-lookup"><span data-stu-id="34c58-122">For this feature, every template of a new ER format configuration in the current environment is automatically saved to the backup storage location for templates (the ERDocuDatabaseStorage database table) when the following events occur:</span></span>

- <span data-ttu-id="34c58-123">Sie importieren eine neue ER-Formatkonfiguration, die eine Vorlage beinhaltet.</span><span class="sxs-lookup"><span data-stu-id="34c58-123">You import a new ER format configuration that contains a template.</span></span>
- <span data-ttu-id="34c58-124">Sie schließen die Entwurfsversion einer ER-Formatkonfiguration ab, die eine Vorlage beinhaltet.</span><span class="sxs-lookup"><span data-stu-id="34c58-124">You complete the draft version of an ER format configuration that contains a template.</span></span>

<span data-ttu-id="34c58-125">Sicherungskopien von Vorlagen werden als Teil der Anwendungsdatenbank zu einer neuen Finance and Operations-Instanz migriert.</span><span class="sxs-lookup"><span data-stu-id="34c58-125">Backup copies of templates are migrated to a new instance of Finance and Operations as part of the application database.</span></span>

<span data-ttu-id="34c58-126">Wenn für die Erstellung ausgehender Dokumente die Vorlage eines ER-Formats erforderlich ist, beispielsweise zum Verarbeiten von Kreditorenzahlungen einschließlich der Erstellung von Zahlungsavis- und Kontrollberichten, die erforderliche Vorlage am primären Speicherort jedoch nicht gefunden wird, treten die folgenden Ereignisse auf:</span><span class="sxs-lookup"><span data-stu-id="34c58-126">If a template of an ER format is required for generation of outbound documents, to process vendor payments including generation of payment advice and control reports, for example, but the required template isn't found in the primary storage location, the following events occur:</span></span>

- <span data-ttu-id="34c58-127">Wenn die Vorlage am Sicherungsspeicherort verfügbar ist, wird sie automatisch vom Sicherungsspeicherort übernommen, am primären Speicherort wiederhergestellt und für die aktuelle Ausführung verwendet.</span><span class="sxs-lookup"><span data-stu-id="34c58-127">If the template is available in the backup storage location, it is automatically taken from the backup storage location, restored to the primary storage location, and used for the current execution.</span></span>
- <span data-ttu-id="34c58-128">Jeder Benutzer, der der Rolle **Elektronischer Berichterstellungsentwickler** oder **Systemadministrator** zugeordnet ist, erhält über das Aktivitätszentrum eine Benachrichtigung, dass die Vorlage fehlt.</span><span class="sxs-lookup"><span data-stu-id="34c58-128">Every user who is assigned to the **Electronic reporting developer** or **System administrator** role is notified about the missing template issue through the Action center.</span></span> <span data-ttu-id="34c58-129">Die angezeigte Meldung hängt vom Wert des Parameters **Prozedur zur Wiederherstellung der fehlerhaften Vorlagen automatisch im Stapelverarbeitungsmodus ausführen** ab.</span><span class="sxs-lookup"><span data-stu-id="34c58-129">The message that appears depends on the value of the **Automatically run the procedure of restoring the broken templates in batch** parameter:</span></span>

    - <span data-ttu-id="34c58-130">Wenn dieser Parameter auf **Aus** festgelegt ist, empfiehlt die Meldung, die Stapelverarbeitung zu starten, damit ähnliche Probleme für andere ER-Formatkonfigurationsvorlagen automatisch behoben werden.</span><span class="sxs-lookup"><span data-stu-id="34c58-130">If this parameter is set to **Off**, the message recommends that you start the batch process to automatically fix similar issues for other ER format configuration templates.</span></span> <span data-ttu-id="34c58-131">Die Meldung enthält einen Link, über den Sie die Stapelverarbeitung starten können.</span><span class="sxs-lookup"><span data-stu-id="34c58-131">The message includes a link that you can use to start the batch process.</span></span>
    - <span data-ttu-id="34c58-132">Wenn dieser Parameter auf **Aktiviert** festgelegt ist, erhalten Sie eine Benachrichtigung, dass das Problem einer fehlenden Vorlage erkannt wurde und der neue Stapelverarbeitungsprozess **Fehlerhafte Vorlagen aus interner Datenbanksicherung wiederherstellen** automatisch geplant wurde.</span><span class="sxs-lookup"><span data-stu-id="34c58-132">If this parameter is set to **On**, the message notifies you that a missing templates issue has been discovered, and that a new batch process, **Restore broken templates from internal database backup**, has been automatically scheduled.</span></span> <span data-ttu-id="34c58-133">Dieser Stapelverarbeitungsvorgang behebt automatisch ähnliche Probleme für andere Vorlagen.</span><span class="sxs-lookup"><span data-stu-id="34c58-133">This batch process will automatically fix similar issues for other templates.</span></span>

<span data-ttu-id="34c58-134">Um den Parameter **Prozedur zur Wiederherstellung der fehlerhaften Vorlagen automatisch im Stapelverarbeitungsmodus ausführen** einzurichten, führen Sie die folgenden Schritte aus.</span><span class="sxs-lookup"><span data-stu-id="34c58-134">To set up the he **Automatically run the procedure of restoring the broken templates in batch** parameter, complete the following steps:</span></span>

1. <span data-ttu-id="34c58-135">Öffnen Sie in Finance and Operations die Seite **Organisationsverwaltung \> Elektronische Berichterstellung \> Konfigurationen**.</span><span class="sxs-lookup"><span data-stu-id="34c58-135">In Finance and Operations, open the **Organization administration \> Electronic reporting \> Configurations page**.</span></span>
2. <span data-ttu-id="34c58-136">Auf der Seite **Konfigurationen** im Aktivitätsbereich, auf der Registerkarte **Konfigurationen** in der Gruppe **Erweiterte Einstellungen** wählen Sie **Benutzerparameter** aus.</span><span class="sxs-lookup"><span data-stu-id="34c58-136">On the **Configurations** page, on the Action Pane, on the **Configurations** tab, in the **Advanced settings** group, select **User parameters**.</span></span>
3. <span data-ttu-id="34c58-137">Legen Sie im Dialogfeld **Benutzerparameter** den erforderlichen Wert für den Parameter **Prozedur zur Wiederherstellung der fehlerhaften Vorlagen automatisch im Stapelverarbeitungsmodus ausführen** fest.</span><span class="sxs-lookup"><span data-stu-id="34c58-137">In the **User parameters** dialog box, set the required value for the **Automatically run the procedure of restoring the broken templates in batch** parameter.</span></span>

> [!NOTE]
> <span data-ttu-id="34c58-138">Dieser Parameter ist als Anwendungsbenutzer definiert und als unternehmensspezifisch protokolliert.</span><span class="sxs-lookup"><span data-stu-id="34c58-138">This parameter is defined as application user and logged company specific.</span></span>

![ER-Konfigurationsseite](./media/GER-BackupTemplates-1.png)

<span data-ttu-id="34c58-140">Die folgende Abbildung zeigt ein Beispiel der Meldung an, die angezeigt wird, wenn der Parameter **Prozedur zur Wiederherstellung der fehlerhaften Vorlagen automatisch im Stapelverarbeitungsmodus ausführen** auf **Aktiviert** festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="34c58-140">The following illustration shows an example of the message that appears when the **Automatically run the procedure of restoring the broken templates in batch** parameter is set to **On**.</span></span>

![Seite „Kreditorenzahlungserfassung“](./media/GER-BackupTemplates-2.png)

<span data-ttu-id="34c58-142">Die folgende Abbildung zeigt den Stapelverarbeitungsvorgang **Fehlerhafte Vorlagen aus interner Datenbanksicherung wiederherstellen** auf der Seite **Stapelverarbeitungsauftrag**.</span><span class="sxs-lookup"><span data-stu-id="34c58-142">The following illustration shows the **Restore broken templates from internal database backup** batch process on the **Batch job** page.</span></span>

![Seite „Batchaufträge“](./media/GER-BackupTemplates-3.png)

<span data-ttu-id="34c58-144">Das Ausführungsprotokoll des abgeschlossenen Stapelverarbeitungsvorgangs **Fehlerhafte Vorlagen aus interner Datenbanksicherung wiederherstellen** enthält Informationen zu den Vorlagen, die aus dem Sicherungsspeicherort im primären Speicherort wiederhergestellt wurden.</span><span class="sxs-lookup"><span data-stu-id="34c58-144">The execution log of the completed **Restore broken templates from internal database backup** batch process includes information about the templates that have been restored from the backup storage location to the primary storage location.</span></span>

![Seite „Historie des Stapelverarbeitungsauftrags“](./media/GER-BackupTemplates-4.png)

<span data-ttu-id="34c58-146">Die automatische Erstellung von Sicherungskopien, die sich in ER-Formatkonfigurationen befinden, ist standardmäßig aktiviert.</span><span class="sxs-lookup"><span data-stu-id="34c58-146">By default, the process of automatically creating backup copies of templates that reside in ER format configurations is turned on.</span></span> <span data-ttu-id="34c58-147">Um die Erstellung von Sicherungskopien von Vorlagen zu beenden, legen Sie die Option **Erstellung von Sicherungskopien von Vorlagen beenden** auf der Registerkarte **Anhänge** der Seite **Elektronische Berichterstellungsparameter** auf **Ja** fest.</span><span class="sxs-lookup"><span data-stu-id="34c58-147">To stop making backup copies of templates, set the **Stop making backup copies of template** option to **Yes** on the **Attachments** tab of the **Electronic reporting parameters** page.</span></span> <span data-ttu-id="34c58-148">Sie können diese Seite über den Arbeitsbereich **Elektronische Berichterstellung** öffnen.</span><span class="sxs-lookup"><span data-stu-id="34c58-148">You can open this page from the **Electronic reporting** workspace.</span></span>

<span data-ttu-id="34c58-149">Wenn Sie die Option **Erstellung von Sicherungskopien von Vorlagen beenden** auf **Ja** festlegen und die zuvor aus Vorlagen erstellten Sicherungskopien nicht beibehalten möchten, wählen Sie **Sicherungsspeicher bereinigen** auf der Seite **Parameter für elektronische Berichterstellung** aus.</span><span class="sxs-lookup"><span data-stu-id="34c58-149">If you set the **Stop making backup copies of templates** option to **Yes** and don't want to keep the backup copies that were previously made of templates, select **Clean up backup storage** on the **Electronic reporting parameters** page.</span></span>

<span data-ttu-id="34c58-150">Wenn Sie Ihre Umgebung auf Finance and Operations 10.0.5 (Oktober 2019 )aktualisiert haben und zu einer neuen Umgebung migrieren möchten, die ER-Formatkonfigurationen enthält, die ausgeführt werden können, wählen Sie **Sicherungsspeicher füllen** auf der Seite **Elektronische Berichterstellungsparameter** aus, bevor die Migration ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="34c58-150">If you upgraded your environment to Finance and Operations version 10.0.5 (October 2019) and want to migrate to a new environment that includes ER format configurations that can be run, select **Fill in backup storage** on the **Electronic reporting parameters** page before the migration occurs.</span></span> <span data-ttu-id="34c58-151">Mit dieser Schaltfläche wird die Erstellung von Sicherungskopien aller verfügbaren Vorlagen gestartet, sodass sie im ER-Sicherungsspeicherort für Vorlagen gespeichert werden können.</span><span class="sxs-lookup"><span data-stu-id="34c58-151">This button starts the process of making backup copies of all available templates, so that they can be stored in the ER backup storage location for templates.</span></span>

![Parameterseite der elektronischen Berichterstellung](./media/GER-BackupTemplates-5.png)

## <a name="supported-deployments"></a><span data-ttu-id="34c58-153">Unterstützte Bereitstellungen</span><span class="sxs-lookup"><span data-stu-id="34c58-153">Supported deployments</span></span>

<span data-ttu-id="34c58-154">In Finance and Operations 10.0.5 ist die Sicherungsspeicherung der ER-Vorlagenfunktion nur in den Cloudbereitstellungen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="34c58-154">In Finance and Operations version 10.0.5, the Backup storage of ER templates feature is available only in cloud deployments.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="34c58-155">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="34c58-155">Additional resources</span></span>

[<span data-ttu-id="34c58-156">Überblick über die elektronische Berichterstellung</span><span class="sxs-lookup"><span data-stu-id="34c58-156">Electronic reporting overview</span></span>](general-electronic-reporting.md)

[<span data-ttu-id="34c58-157">Konfigurieren des Rahmens für die elektronische Berichterstellung</span><span class="sxs-lookup"><span data-stu-id="34c58-157">Configure the Electronic reporting framework</span></span>](electronic-reporting-er-configure-parameters.md)
