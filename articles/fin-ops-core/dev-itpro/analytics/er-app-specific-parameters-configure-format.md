---
title: Konfigurieren von EB-Formaten zur Verwendung von Parametern, die pro juristischer Person angegeben werden
description: In diesem Thema wird erläutert, wie Sie Elektronische Berichterstellungs(EB)-Formate konfigurieren können, um Parameter zu verwenden, die pro juristischer Person angegeben werden.
author: NickSelin
ms.date: 03/24/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, EROperationDesigner, ERLookupDesigner, ERComponentLookupStructureEditing
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: Release 8.1.3
ms.openlocfilehash: 16eab3ffa7d4a780ec9709f5c8a5c263b1e75365
ms.sourcegitcommit: 074b6e212d19dd5d84881d1cdd096611a18c207f
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 03/31/2021
ms.locfileid: "5751177"
---
# <a name="configure-er-formats-to-use-parameters-that-are-specified-per-legal-entity"></a><span data-ttu-id="78b18-103">Konfigurieren von EB-Formaten zur Verwendung von Parametern, die pro juristischer Person angegeben werden</span><span class="sxs-lookup"><span data-stu-id="78b18-103">Configure ER formats to use parameters that are specified per legal entity</span></span>

[!include[banner](../includes/banner.md)]

## <a name="overview"></a><span data-ttu-id="78b18-104">Übersicht</span><span class="sxs-lookup"><span data-stu-id="78b18-104">Overview</span></span>

<span data-ttu-id="78b18-105">In vielen der Elektronischen Berichterstellungs(EB)-Formate, die Sie gestalten, müssen Sie Daten mithilfe einer Gruppe von Werten filtern, die für jede juristische Person Ihrer Instanz (zum Beispiel, eine Gruppe von Steuercodes, um Steuertransaktionen zu filtern) spezifisch sind.</span><span class="sxs-lookup"><span data-stu-id="78b18-105">In many of the Electronic reporting (ER) formats that you will design, you must filter data by using a set of values that are specific to each legal entity of your instance (for example, a set of tax codes to filter tax transactions).</span></span> <span data-ttu-id="78b18-106">Wenn dieser Typ momentan in einem EB-Format gefiltert wird, werden Werte, die von der juristischen Person abhängig sind (zum Beispiel Steuercodes) in Ausdrücken des EB-Formats verwendet, um Datenfilterungsregeln anzugeben.</span><span class="sxs-lookup"><span data-stu-id="78b18-106">Currently, when filtering of this type is configured in an ER format, values that are dependent on the legal entity (for example, tax codes) are used in expressions of the ER format to specify data filtering rules.</span></span> <span data-ttu-id="78b18-107">Daher wird das EB-Format an die juristischen Person angepasst. Um die erforderlichen Berichte zu erzeugen, müssen Sie abgeleitete Kopien des ursprünglichen EB-Formats für jede juristische Person erstellen, für die Sie das EB-Format ausgeführt haben.</span><span class="sxs-lookup"><span data-stu-id="78b18-107">Therefore, the ER format is made legal entity–specific, and to generate the required reports, you must create derived copies of the original ER format for each legal entity where you have to run the ER format.</span></span> <span data-ttu-id="78b18-108">Jedes abgeleitete EB-Format muss bearbeitet werden, um Werte speziell für die juristische Person dort hinzuzufügen. Es muss umbasiert werden, sobald die ursprüngliche (Basis-)Version aktualisiert, sie aus einer Testumgebung exportiert und in eine Produktionsumgebung importiert wurde, wenn sie für die Verwendung in der Produktion bereitgestellt werden muss usw.</span><span class="sxs-lookup"><span data-stu-id="78b18-108">Each derived ER format must be edited to bring legal entity–specific values into it, rebased whenever the original (base) version has been updated, exported from a test environment and imported into a production environment when it must be deployed for production use, and so on.</span></span> <span data-ttu-id="78b18-109">Daher ist die Wartung dieses Typs der konfigurierten EB-Lösung aus verschiedenen Gründen ziemlich komplex und zeitaufwändig:</span><span class="sxs-lookup"><span data-stu-id="78b18-109">Therefore, maintenance of this type of configured ER solution is quite complex and time-consuming for several reasons:</span></span>

-   <span data-ttu-id="78b18-110">Je mehr juristische Personen vorhanden sind, desto mehr EB-Formatkonfigurationen müssen verwaltet werden.</span><span class="sxs-lookup"><span data-stu-id="78b18-110">The more legal entities there are, the more ER format configurations must be maintained.</span></span>
-   <span data-ttu-id="78b18-111">Die Verwaltung von EB-Konfigurationen setzt voraus, dass geschäftliche Benutzer EB-Wissen haben.</span><span class="sxs-lookup"><span data-stu-id="78b18-111">Maintenance of ER configurations requires that business users have ER knowledge.</span></span>

<span data-ttu-id="78b18-112">Mit der anwendungsspezifischen EB-Parameterfunktion können Poweruser die Datenenfilterung in einem EB-Format konfigurieren, damit sie auf einer Gruppe von abstrakten Regeln basiert.</span><span class="sxs-lookup"><span data-stu-id="78b18-112">The ER application-specific parameters feature lets power users configure data filtering in an ER format so that it's based on a set of abstract rules.</span></span> <span data-ttu-id="78b18-113">Diese Gruppe von Regeln kann so konfiguriert werden, dass sie die Datenquellen nutzt, die in einem EB-Format verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="78b18-113">This set of rules can be configured to use the data sources that are available in an ER format.</span></span> <span data-ttu-id="78b18-114">Geschäftliche Benutzer können echte Regeln über das EB-Rahmenwerk hinaus angeben, indem sie die Benutzeroberfläche, die automatisch anhand der Einstellungen des entsprechenden EB-Formats erzeugt wird, und die aktuellen Daten der juristischen Person verwenden, auf die über die Datenquellen des EB-Formats zugegriffen werden kann.</span><span class="sxs-lookup"><span data-stu-id="78b18-114">Business users can then specify real rules beyond the ER framework by using the user interface (UI) that is automatically generated based on the settings of the corresponding ER format and the current legal entity data that will be accessed by the ER format's data sources.</span></span> <span data-ttu-id="78b18-115">Die Gruppe von Regeln, die für ein EB-Format angegeben ist, kann aus der aktuellen juristischen Person der Dynamics 365 Finance (Finance)-Instanz exportiert werden.</span><span class="sxs-lookup"><span data-stu-id="78b18-115">The set of rules that is specified for an ER format can be exported from the current legal entity of the Dynamics 365 Finance (Finance) instance.</span></span> <span data-ttu-id="78b18-116">Sie können dann in eine andere juristische Entität entweder derselben Finance-Instanz oder eine andere Instanz als Gruppe von Regeln für dasselbe EB-Format importiert werden.</span><span class="sxs-lookup"><span data-stu-id="78b18-116">It can then be imported into another legal entity of either the same Finance instance or a different instance as a set of rules for the same ER format.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="78b18-117">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="78b18-117">Prerequisites</span></span>

<span data-ttu-id="78b18-118">Um die Beispiele in diesem Thema abzuschließen, müssen Sie für eine der folgenden Rollen Zugriff auf die Instanz des Regulatory Configuration Service (RCS) haben, der für denselben Mandanten wie Finance bereitgestellt wurde:</span><span class="sxs-lookup"><span data-stu-id="78b18-118">To complete the examples in this topic, you must have access to the instance of Regulatory Configuration Services (RCS) that has been provisioned for the same tenant as Finance for one of the following roles:</span></span>

- <span data-ttu-id="78b18-119">Entwickler für elektronische Berichterstellung</span><span class="sxs-lookup"><span data-stu-id="78b18-119">Electronic reporting developer</span></span>
- <span data-ttu-id="78b18-120">Funktionaler Berater für elektronische Berichterstellung</span><span class="sxs-lookup"><span data-stu-id="78b18-120">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="78b18-121">Systemadministrator</span><span class="sxs-lookup"><span data-stu-id="78b18-121">System administrator</span></span>

<span data-ttu-id="78b18-122">Es wird empfohlen, dass Sie die Schritte im Thema [Unterstützen parametrisierter Aufrufe von EB-Datenquellen des Typs BERECHNETES FELD](er-calculated-field-type.md) ausführen.</span><span class="sxs-lookup"><span data-stu-id="78b18-122">We recommend that you complete the steps in the [Support parameterized calls of ER data sources of CALCULATED FIELD type](er-calculated-field-type.md) topic.</span></span> <span data-ttu-id="78b18-123">Wenn Sie diese Schritte bereits abgeschlossen haben, können Sie die Schritte im Abschnitt **Importieren von EB-Konfigurationen in RCS** überspringen, der darauf folgt.</span><span class="sxs-lookup"><span data-stu-id="78b18-123">If you've already completed those steps, you can skip the steps in the **Import ER configurations into RCS** section that follows.</span></span>

## <a name="import-er-configurations-into-rcs"></a><span data-ttu-id="78b18-124">Importieren von EB-Konfigurationen in RCS</span><span class="sxs-lookup"><span data-stu-id="78b18-124">Import ER configurations into RCS</span></span>

<span data-ttu-id="78b18-125">Laden Sie die folgenden ER-Konfigurationen herunter und speichern Sie sie lokal.</span><span class="sxs-lookup"><span data-stu-id="78b18-125">Download and locally store the following ER configurations.</span></span>

| <span data-ttu-id="78b18-126">**Inhaltsbeschreibung**</span><span class="sxs-lookup"><span data-stu-id="78b18-126">**Content description**</span></span>                        | <span data-ttu-id="78b18-127">**Dateiname**</span><span class="sxs-lookup"><span data-stu-id="78b18-127">**File name**</span></span>                                        |
|------------------------------------------------|------------------------------------------------------|
| <span data-ttu-id="78b18-128">Beispiel-**EB-Datenmodell**-Konfigurationsdatei</span><span class="sxs-lookup"><span data-stu-id="78b18-128">Sample **ER data model** configuration file</span></span>    | [<span data-ttu-id="78b18-129">Model to learn parameterized calls.version.1.xml</span><span class="sxs-lookup"><span data-stu-id="78b18-129">Model to learn parameterized calls.version.1.xml</span></span>](https://download.microsoft.com/download/2/d/b/2db913a0-3622-494e-91a2-97fc494af9b9/Modeltolearnparameterizedcalls.version.1.xml)     |
| <span data-ttu-id="78b18-130">Beispiel-**EB-Metadaten**-Konfigurationsdatei</span><span class="sxs-lookup"><span data-stu-id="78b18-130">Sample **ER metadata** configuration file</span></span>      | [<span data-ttu-id="78b18-131">Metadata to learn parameterized calls.version.1.xml</span><span class="sxs-lookup"><span data-stu-id="78b18-131">Metadata to learn parameterized calls.version.1.xml</span></span>](https://download.microsoft.com/download/1/b/3/1b343968-5a47-4000-b5a8-6487698ef4c0/Metadatatolearnparameterizedcalls.version.1.xml)  |
| <span data-ttu-id="78b18-132">Beispiel-**EB-Modellzuordnungs**-Konfigurationsdatei</span><span class="sxs-lookup"><span data-stu-id="78b18-132">Sample **ER model mapping** configuration file</span></span> | [<span data-ttu-id="78b18-133">Mapping to learn parameterized calls.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="78b18-133">Mapping to learn parameterized calls.version.1.1.xml</span></span>](https://download.microsoft.com/download/8/6/6/866e0ab6-2e05-4d98-9d52-d2da2038f6e4/Mappingtolearnparameterizedcalls.version.1.1.xml) |
| <span data-ttu-id="78b18-134">Beispiel-**EB-Formatkonfiguration**</span><span class="sxs-lookup"><span data-stu-id="78b18-134">Sample **ER format** configuration</span></span>             | [<span data-ttu-id="78b18-135">Format to learn parameterized calls.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="78b18-135">Format to learn parameterized calls.version.1.1.xml</span></span>](https://download.microsoft.com/download/e/3/9/e392eadc-b9b4-4834-95c3-b8066dd00b9c/Formattolearnparameterizedcalls.version.1.1.xml)  |

<span data-ttu-id="78b18-136">Melden Sie sich als Nächstes bei Ihrer RCS-Instanz an.</span><span class="sxs-lookup"><span data-stu-id="78b18-136">Next, sign in to your RCS instance.</span></span>

<span data-ttu-id="78b18-137">In diesem Beispiel erstellen Sie eine Konfiguration für das Beispielunternehmen Litware, Inc.</span><span class="sxs-lookup"><span data-stu-id="78b18-137">In this example, you will create a configuration for the Litware, Inc sample company.</span></span> <span data-ttu-id="78b18-138">Bevor Sie diese Prozedur abschließen können, müssen Sie zunächst die Schritte im RCS-Thema [Konfigurationsanbieter erstellen und als aktiv markieren](tasks/er-configuration-provider-mark-it-active-2016-11.md) abschließen.</span><span class="sxs-lookup"><span data-stu-id="78b18-138">Before you can complete this procedure, you must complete the steps in the [Create a configuration provider and mark it as active](tasks/er-configuration-provider-mark-it-active-2016-11.md) topic in RCS.</span></span>

1.  <span data-ttu-id="78b18-139">Wählen Sie im Standard-Dashboard **Elektronische Berichterstellung** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-139">On the default dashboard, select **Electronic reporting**.</span></span>
2.  <span data-ttu-id="78b18-140">Wählen Sie **Berichterstellungskonfigurationen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-140">Select **Reporting configurations**.</span></span>
3.  <span data-ttu-id="78b18-141">Importieren Sie die EB-Konfigurationen, die Sie zuvor in RCS heruntergeladen haben, in der folgenden Reihenfolge: Datenmodell, Metadaten, Modellzuordnung und Format.</span><span class="sxs-lookup"><span data-stu-id="78b18-141">Import the ER configurations that you downloaded earlier into RCS, in the following order: data model, metadata, model mapping, and format.</span></span> <span data-ttu-id="78b18-142">Führen Sie für jede EB-Konfiguration die folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="78b18-142">For each ER configuration, follow these steps:</span></span>

    1.  <span data-ttu-id="78b18-143">Wählen Sie **Wechselkurs** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-143">Select **Exchange**.</span></span>
    2.  <span data-ttu-id="78b18-144">Wählen Sie **Aus XML-Datei laden** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-144">Select **Load from XML file**.</span></span>
    3.  <span data-ttu-id="78b18-145">Wählen Sie **Durchsuchen** aus, um die Datei für die erforderliche EB-Konfiguration im XML-Format auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="78b18-145">Select **Browse** to select the file for the required ER configuration in XML format.</span></span>
    4.  <span data-ttu-id="78b18-146">Wählen Sie **OK**.</span><span class="sxs-lookup"><span data-stu-id="78b18-146">Select **OK**.</span></span>

## <a name="review-the-er-solution-that-is-provided"></a><span data-ttu-id="78b18-147">Überprüfen der bereitgestellten EB-Lösung</span><span class="sxs-lookup"><span data-stu-id="78b18-147">Review the ER solution that is provided</span></span>

1.  <span data-ttu-id="78b18-148">Erweitern Sie in der Konfigurationsstruktur die Inhalte des Elements **Modell zum Ermitteln parametrisierter Aufrufe**.</span><span class="sxs-lookup"><span data-stu-id="78b18-148">In the configuration tree, expand the contents of the **Model to learn parameterized calls** item.</span></span>
2.  <span data-ttu-id="78b18-149">Wählen Sie das Element **Format zum Ermitteln parametrisierter Aufrufe** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-149">Select the **Format to learn parameterized calls** item.</span></span>
3.  <span data-ttu-id="78b18-150">Wählen Sie **Designer** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-150">Select **Designer**.</span></span>
4.  <span data-ttu-id="78b18-151">Wählen Sie **Erweitern/Reduzieren** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-151">Select **Expand/Collapse**.</span></span>

    <span data-ttu-id="78b18-152">Das EB-Format **Format zum Ermitteln parametrisierter Anrufe** ist so gestaltet, dass ein Steuerauszug im XML-Format erzeugt wird, der verschiedene Besteuerungsstufen (regulär, reduziert und keine) enthält.</span><span class="sxs-lookup"><span data-stu-id="78b18-152">The **Format to learn parameterized calls** ER format is designed to generate a tax statement in XML format that presents several levels of taxation (regular, reduced, and none).</span></span> <span data-ttu-id="78b18-153">Jede Stufe hat eine andere Anzahl von Details.</span><span class="sxs-lookup"><span data-stu-id="78b18-153">Each level has a different number of details.</span></span>

    ![Mehrere Ebenen des ER-Formats, Format zum Erlernen parametrisierter Anrufe](./media/RCS-AppSpecParms-ReviewFormat.PNG)

5.  <span data-ttu-id="78b18-155">Erweitern Sie auf der Registerkarte **Zuordnung** die Elemente **Modell**, **Daten** und **Zusammenfassung**.</span><span class="sxs-lookup"><span data-stu-id="78b18-155">On the **Mapping** tab, expand the **Model**, **Data**, and **Summary** items.</span></span>

    <span data-ttu-id="78b18-156">Die Datenquelle **Model.Data.Summary** gibt die Liste der Steuertransaktionen zurück.</span><span class="sxs-lookup"><span data-stu-id="78b18-156">The **Model.Data.Summary** data source returns the list of tax transactions.</span></span> <span data-ttu-id="78b18-157">Diese Transaktionen werden anhand des Steuercodes zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="78b18-157">These transactions are summarized by tax code.</span></span> <span data-ttu-id="78b18-158">Für diese Datenquelle wurde das berechnete Feld **Model.Data.Summary.Level** so konfiguriert, dass es den Code für die Besteuerungsstufe jedes zusammengefassten Datensatzes zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="78b18-158">For this data source, the **Model.Data.Summary.Level** calculated field has been configured to return the code for the taxation level of each summarized record.</span></span> <span data-ttu-id="78b18-159">Für jeden Steuercode, der zur Laufzeit aus der Datenquelle **Model.Data.Summary** abgerufen werden kann, gibt das berechnete Feld den Besteuerungsstufencode (**Regulär**, **Reduziert**, **Keine** oder **Sonstige**) als Textwert zurück.</span><span class="sxs-lookup"><span data-stu-id="78b18-159">For any tax code that can be retrieved from the **Model.Data.Summary** data source at runtime, the calculated field returns the taxation level code (**Regular**, **Reduced**, **None**, or **Other**) as a text value.</span></span> <span data-ttu-id="78b18-160">Das berechnete Feld **Model.Data.Summary.Level** wird verwendet, um Datensätze der Datenquelle **Model.Data.Summary** zu filtern, und geben Sie die gefilterten Daten in jedes XML-Element ein, das eine Besteuerungsstufe darstellt, indem Sie die Felder **Model.Data2.Level1**, **Model.Data2.Level2** und **Model.Data2.Level3** verwenden.</span><span class="sxs-lookup"><span data-stu-id="78b18-160">The **Model.Data.Summary.Level** calculated field is used to filter records of the **Model.Data.Summary** data source and enter the filtered data in each XML element that represents a taxation level by using the **Model.Data2.Level1**, **Model.Data2.Level2**, and **Model.Data2.Level3** fields.</span></span>

    ![Die Model.Data.Summary-Datenquellenliste der Steuertransaktionen](./media/RCS-AppSpecParms-ReviewFormat-Data2Fld.PNG)

    <span data-ttu-id="78b18-162">Das berechnete Feld **Model.Data.Summary.Level** wurde so konfiguriert, dass es einen EB-Ausdruck enthält.</span><span class="sxs-lookup"><span data-stu-id="78b18-162">The **Model.Data.Summary.Level** calculated field has been configured so that it contains an ER expression.</span></span> <span data-ttu-id="78b18-163">Beachten Sie, dass Steuercodes (**VAT19**, **InVAT19**, **VAT7**, **InVAT7**, **THIRD** und **InVAT0**) in dieser Konfiguration hartcodiert sind.</span><span class="sxs-lookup"><span data-stu-id="78b18-163">Note that tax codes (**VAT19**, **InVAT19**, **VAT7**, **InVAT7**, **THIRD**, and **InVAT0**) are hardcoded into this configuration.</span></span> <span data-ttu-id="78b18-164">Daher hängt dieses EB-Format von der juristischen Person ab, in der diese Steuercodes konfiguriert wurden.</span><span class="sxs-lookup"><span data-stu-id="78b18-164">Therefore, this ER format is dependent on the legal entity where these tax codes were configured.</span></span>

    ![Das berechnete Feld Model.Data.Summary.Level mit fest codierten Steuercodes](./media/RCS-AppSpecParms-ReviewFormat-LevelFld.PNG)

    <span data-ttu-id="78b18-166">Um einen andere Gruppe von Steuercodes für die einzelnen juristischen Person zu unterstützen, müssen die folgenden Schritte ausgeführt werden:</span><span class="sxs-lookup"><span data-stu-id="78b18-166">To support a different set of tax codes for each legal entity, you must follow these steps:</span></span>

    - <span data-ttu-id="78b18-167">Erstellen Sie eine abgeleitete Version des EB-Formats für jede juristische Person.</span><span class="sxs-lookup"><span data-stu-id="78b18-167">Create a derived version of the ER format for each legal entity.</span></span>
    - <span data-ttu-id="78b18-168">Aktualisieren Sie die Steuercodes im berechneten Feld **Model.Data.Summary.Level** basierend auf den Einstellungen für die juristische Person.</span><span class="sxs-lookup"><span data-stu-id="78b18-168">Update the tax codes in the **Model.Data.Summary.Level** calculated field, based on the legal entity setting.</span></span>

6.  <span data-ttu-id="78b18-169">Seite **Format-Designer** schließen.</span><span class="sxs-lookup"><span data-stu-id="78b18-169">Close the **Format designer** page.</span></span>

## <a name="create-a-derived-format"></a><span data-ttu-id="78b18-170">Erstellen eines abgeleiteten Formats</span><span class="sxs-lookup"><span data-stu-id="78b18-170">Create a derived format</span></span>

<span data-ttu-id="78b18-171">Verwenden Sie als Nächstes die anwendungsspezifische EB-Parameterfunktion, um eine andere Gruppe von Steuercodes für jede juristische Person in einem einzelnen EB-Format zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="78b18-171">Next, you will use the ER application-specific parameters feature to support a different set of tax codes for each legal entity in a single ER format.</span></span>

1.  <span data-ttu-id="78b18-172">Erweitern Sie in der Konfigurationsstruktur die Inhalte des Elements **Modell zum Ermitteln parametrisierter Aufrufe**.</span><span class="sxs-lookup"><span data-stu-id="78b18-172">In the configuration tree, expand the contents of the **Model to learn parameterized calls** item.</span></span>
2.  <span data-ttu-id="78b18-173">Wählen Sie das Element **Format zum Ermitteln parametrisierter Aufrufe** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-173">Select the **Format to learn parameterized calls** item.</span></span>
3.  <span data-ttu-id="78b18-174">Wählen Sie **Konfiguration erstellen**.</span><span class="sxs-lookup"><span data-stu-id="78b18-174">Select **Create configuration**.</span></span>
4.  <span data-ttu-id="78b18-175">Wählen Sie die Option **Von Name ableiten: Formatieren zum Ermitteln parametrisierter Aufrufe, Microsoft** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-175">Select the **Derive from Name: Format to learn parameterized calls, Microsoft** option.</span></span>
5.  <span data-ttu-id="78b18-176">Geben Sie im Feld **Name** **Format zum Ermitteln der Vorgehensweise bei der Suche von Daten zu juristischen Personen** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-176">In the **Name** field, enter **Format to learn how to lookup LE data**.</span></span>
6.  <span data-ttu-id="78b18-177">Wählen Sie **Konfiguration erstellen**.</span><span class="sxs-lookup"><span data-stu-id="78b18-177">Select **Create configuration**.</span></span>

## <a name="configure-a-derived-format"></a><span data-ttu-id="78b18-178">Konfigurieren eines abgeleiteten Formats</span><span class="sxs-lookup"><span data-stu-id="78b18-178">Configure a derived format</span></span>

### <a name="add-a-format-enumeration"></a><span data-ttu-id="78b18-179">Hinzufügen einer Formatenumeration</span><span class="sxs-lookup"><span data-stu-id="78b18-179">Add a format enumeration</span></span>

<span data-ttu-id="78b18-180">Danach fügen Sie eine neue EB-Formatenumeration hinzu.</span><span class="sxs-lookup"><span data-stu-id="78b18-180">Next, you will add a new ER format enumeration.</span></span> <span data-ttu-id="78b18-181">Die Werte dieser Formatenumeration werden geschäftlichen Benutzern dargestellt, die für die verschiedenen Besteuerungsstufen, die im EB-Format verwendet werden, Gruppen von Steuercodes angeben, die von der juristischen Person abhängig sind.</span><span class="sxs-lookup"><span data-stu-id="78b18-181">The values of this format enumeration will be presented to business users, who will specify legal entity–dependent sets of tax codes for the various taxation levels that are used in the ER format.</span></span>

1.  <span data-ttu-id="78b18-182">Wählen Sie **Designer** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-182">Select **Designer**.</span></span>
2.  <span data-ttu-id="78b18-183">Wählen Sie **Formatenumerationen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-183">Select **Format enumerations**.</span></span>
3.  <span data-ttu-id="78b18-184">Wählen Sie **Hinzufügen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-184">Select **Add**.</span></span>
4.  <span data-ttu-id="78b18-185">Geben Sie im Feld **Name** **Liste der Besteuerungsstufen** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-185">In the **Name** field, enter **List of taxation levels**.</span></span>
5.  <span data-ttu-id="78b18-186">Wählen Sie **Speichern**.</span><span class="sxs-lookup"><span data-stu-id="78b18-186">Select **Save**.</span></span>
6.  <span data-ttu-id="78b18-187">Wählen Sie auf der Registerkarte **Formatenumerationswerte** die Option **Hinzufügen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-187">On the **Format enumeration values** tab, select **Add**.</span></span>
7.  <span data-ttu-id="78b18-188">Geben Sie im Feld **Name** **Reguläre Besteuerung** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-188">In the **Name** field, enter **Regular taxation**.</span></span>
8.  <span data-ttu-id="78b18-189">Wählen Sie erneut **Hinzufügen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-189">Select **Add** again.</span></span>
9.  <span data-ttu-id="78b18-190">Geben Sie im Feld **Name** **Reduzierte Besteuerung** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-190">In the **Name** field, enter **Reduced taxation**.</span></span>
10. <span data-ttu-id="78b18-191">Wählen Sie erneut **Hinzufügen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-191">Select **Add** again.</span></span>
11. <span data-ttu-id="78b18-192">Geben Sie im Feld **Name** **Keine Besteuerung** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-192">In the **Name** field, enter **No taxation**.</span></span>
12. <span data-ttu-id="78b18-193">Wählen Sie erneut **Hinzufügen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-193">Select **Add** again.</span></span>
13. <span data-ttu-id="78b18-194">Geben Sie im Feld **Name** **Sonstige** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-194">In the **Name** field, enter **Other**.</span></span>

    ![Neuer Datensatz auf der Seite „Formatenumerationen“](./media/RCS-AppSpecParms-ConfigureFormat-Enum.PNG)

    <span data-ttu-id="78b18-196">Da die geschäftlichen Benutzer möglicherweise unterschiedliche Sprachen verwenden, um Gruppen von Steuercodes anzugeben, die von der juristischen Person abhängig sind, empfiehlt es sich, die Werte dieser Enumeration in die Sprachen zu übersetzen, die als bevorzugte Sprachen für diese Benutzer in Finance konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="78b18-196">Because the business users might use different languages to specify legal entity–dependent sets of tax codes, we recommend that you translate the values of this enumeration into the languages that are configured as the preferred languages for those users in Finance.</span></span>

14. <span data-ttu-id="78b18-197">Wählen Sie den Datensatz **Keine Besteuerung** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-197">Select the **No taxation** record.</span></span>
15. <span data-ttu-id="78b18-198">Klicken Sie in das Feld **Label**.</span><span class="sxs-lookup"><span data-stu-id="78b18-198">Click in the **Label** field.</span></span>
16. <span data-ttu-id="78b18-199">Wählen Sie **Übersetzen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-199">Select **Translate**.</span></span>
17. <span data-ttu-id="78b18-200">Geben Sie im Bereich **Textübersetzung** im Feld **Beschriftungskennung** **LBL_LEVELENUM_NO** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-200">In the **Text translation** pane, in the **Label Id** field, enter **LBL_LEVELENUM_NO**.</span></span>
18. <span data-ttu-id="78b18-201">Geben Sie im Feld **Text in Standardsprache** **Keine Besteuerung** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-201">In the **Text in default language** field, enter **No taxation**.</span></span>
19. <span data-ttu-id="78b18-202">Wählen Sie im Feld **Sprache** **DE** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-202">In the **Language** field, select **DE**.</span></span>
20. <span data-ttu-id="78b18-203">Geben Sie im Feld **Übersetzter Text** **Keine Besteuerung** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-203">In the **Translated text** field, enter **keine Besteuerung**.</span></span>
21. <span data-ttu-id="78b18-204">Wählen Sie **Übersetzen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-204">Select **Translate**.</span></span>

    ![Textübersetzungsauszug](./media/RCS-AppSpecParms-ConfigureFormat-EnumTranslate.PNG)

22. <span data-ttu-id="78b18-206">Wählen Sie **Speichern** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-206">Select **Save**.</span></span>
23. <span data-ttu-id="78b18-207">Schließen Sie die Seite **Formatenumerationen**.</span><span class="sxs-lookup"><span data-stu-id="78b18-207">Close the **Format enumerations** page.</span></span>

### <a name="add-a-new-lookup-data-source"></a><span data-ttu-id="78b18-208">Hinzufügen einer neuen Datenquelle für die Suche</span><span class="sxs-lookup"><span data-stu-id="78b18-208">Add a new lookup data source</span></span>

<span data-ttu-id="78b18-209">Danach fügen Sie eine neue Datenquelle hinzu, um anzugeben, wie geschäftliche Benutzer Regeln angeben, die von der juristischen Person abhängig sind, um die korrekte Besteuerungsstufe für jeden zusammengefassten Transaktionsdatensatz zu erkennen.</span><span class="sxs-lookup"><span data-stu-id="78b18-209">Next, you will add a new data source to specify how business users will specify legal entity–dependent rules to recognize the correct taxation level for each summarized transaction record.</span></span>

1.  <span data-ttu-id="78b18-210">Wählen Sie auf der Registerkarte **Zuordnung** die Option **Hinzufügen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-210">On the **Mapping** tab, select **Add**.</span></span>
2.  <span data-ttu-id="78b18-211">Wählen Sie **Formatenumeration\Suche** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-211">Select **Format enumeration\Lookup**.</span></span>

    <span data-ttu-id="78b18-212">Sie haben gerade ermittelt, dass jede Regel, die geschäftliche Benutzer für die Erkennung der Besteuerungsstufe angeben, einen Wert einer EB-Formatenumeration zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="78b18-212">You just identified that each rule that business users specify for taxation level recognition will return a value of an ER format enumeration.</span></span> <span data-ttu-id="78b18-213">Beachten Sie, dass der Datenquellentyp **Suche** über **Datenmodell** und **Dynamics 365 for Operations**-Blöcke sowie den Block **Formatenumeration** aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="78b18-213">Notice that the **Lookup** data source type can be accessed under the **Data model** and **Dynamics 365 for Operations** blocks in addition to the **Format enumeration** block.</span></span> <span data-ttu-id="78b18-214">Daher können EB-Datenmodellenumerationen und Anwendungsenumerationen verwendet werden, um den Typ der Werte anzugeben, der für Datenquellen dieses Typs zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="78b18-214">Therefore, ER data model enumerations and application enumerations can be used to specify the type of values that is are returned for data sources of that type.</span></span>
    
3.  <span data-ttu-id="78b18-215">Geben Sie im Feld **Name** **Auswahl** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-215">In the **Name** field, enter **Selector**.</span></span>
4.  <span data-ttu-id="78b18-216">Wählen Sie im Feld **Formatenumeration** die Option **Liste der Besteuerungsstufen** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-216">In the **Format enumeration** field, select **List of taxation levels**.</span></span>

    <span data-ttu-id="78b18-217">Sie haben gerade angegeben, dass geschäftliche Benutzer für jede in dieser Datenquelle angegebene Regel einen der Werte der Formatenumeration **Liste der Besteuerungsstufen** als zurückgegebenen Wert auswählen müssen.</span><span class="sxs-lookup"><span data-stu-id="78b18-217">You just specified that, for each rule that is specified in this data source, a business user must select one of the values of the **List of taxation levels** format enumeration as a returned value.</span></span>
    
5.  <span data-ttu-id="78b18-218">Wählen Sie **Suche bearbeiten** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-218">Select **Edit lookup**.</span></span>
6.  <span data-ttu-id="78b18-219">Wählen Sie **Spalten** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-219">Select **Columns**.</span></span>
7.  <span data-ttu-id="78b18-220">Erweitern Sie das Element **Model**.</span><span class="sxs-lookup"><span data-stu-id="78b18-220">Expand the **Model** item.</span></span>
8.  <span data-ttu-id="78b18-221">Erweitern Sie das Element **Daten**.</span><span class="sxs-lookup"><span data-stu-id="78b18-221">Expand the **Data** item.</span></span>
9.  <span data-ttu-id="78b18-222">Erweitern Sie das Element **Steuer**.</span><span class="sxs-lookup"><span data-stu-id="78b18-222">Expand the **Tax** item.</span></span>
10. <span data-ttu-id="78b18-223">Wählen Sie das Element **Model.Data.Tax.Code** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-223">Select the **Model.Data.Tax.Code** item.</span></span>
11. <span data-ttu-id="78b18-224">Wählen Sie die Schaltfläche **Hinzufügen** (rechter Pfeil) aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-224">Select the **Add** button (the right arrow).</span></span>

    ![Spaltenauszug](./media/RCS-AppSpecParms-ConfigureFormat-Lookup1.PNG)

    <span data-ttu-id="78b18-226">Sie haben gerade angegeben, dass geschäftliche Benutzer für jede in dieser Datenquelle für die Erkennung der Besteuerungsstufe angegebene Regel einen der Steuercodes als Bedingung auswählen müssen.</span><span class="sxs-lookup"><span data-stu-id="78b18-226">You just specified that, for each rule that is specified in this data source for taxation level recognition, a business user must select one of the tax codes as a condition.</span></span> <span data-ttu-id="78b18-227">Die Liste der Steuercodes, die geschäftliche Benutzer auswählen können, wird von der Datenquelle **Model.Data.Tax** zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="78b18-227">The list of tax codes that the business user can select will be returned by the **Model.Data.Tax** data source.</span></span> <span data-ttu-id="78b18-228">Da diese Datenquelle das Feld **Name** enthält, wird der Name des Steuercodes für jeden Steuercodewert in der Suche angezeigt, der dem geschäftlichen Benutzer angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="78b18-228">Because this data source contains the **Name** field, the name of the tax code will be shown for each tax code value in the lookup that is presented to the business user.</span></span>
    
12. <span data-ttu-id="78b18-229">Wählen Sie **OK**.</span><span class="sxs-lookup"><span data-stu-id="78b18-229">Select **OK**.</span></span>

    ![Such-Designer-Seite](./media/RCS-AppSpecParms-ConfigureFormat-Lookup2.PNG)

    <span data-ttu-id="78b18-231">Geschäftliche Benutzer können mehrere Regeln als Datensätze dieser Datenquelle hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="78b18-231">Business users can add multiple rules as records of this data source.</span></span> <span data-ttu-id="78b18-232">Jeder Datensatz wird mithilfe eines Positionscodes nummeriert.</span><span class="sxs-lookup"><span data-stu-id="78b18-232">Each record will be numbered by a line code.</span></span> <span data-ttu-id="78b18-233">Regeln werden mit zunehmender Positionsnummer ausgewertet.</span><span class="sxs-lookup"><span data-stu-id="78b18-233">Rules will be evaluated in order of increasing line number.</span></span>

    <span data-ttu-id="78b18-234">Da Sie das Feld **Steuercode** als Bedingung für Regeln in dieser Suchdatenquelle ausgewählt haben und **Steuercode** als Feld des Datentyps **Zeichenfolge** eingerichtet ist, wird jede Regel während der Laufzeit ausgewertet, indem der Steuercode, der an die Datenquelle übergeben wird, mit dem Steuercode verglichen wird, der in diesem Datensatz der Datenquelle definiert wird.</span><span class="sxs-lookup"><span data-stu-id="78b18-234">Because you selected the **Tax code** field as a condition for rules in this lookup data source, and because **Tax code** is set up as a field of the **String** data type, each rule will be evaluated at runtime by comparing the tax code that is passed to the data source with the tax code that is defined in this record of the data source.</span></span>

    <span data-ttu-id="78b18-235">Wenn eine Regel, die die konfigurierte Bedingung erfüllt, gefunden wird, gibt diese Datenquelle den Suchwert der Regel zurück, die im Feld **Suchenergebnis** definiert ist.</span><span class="sxs-lookup"><span data-stu-id="78b18-235">When a rule that satisfies the configured condition is found, this data source returns the lookup value of the rule that is defined in the **Lookup result** field.</span></span> <span data-ttu-id="78b18-236">Wenn keine Regel gefunden wird, wird eine Ausnahme ausgelöst, um den Benutzer zu informieren, dass die aktuelle Datenquelle keinen korrekten Wert zurückgegeben kann.</span><span class="sxs-lookup"><span data-stu-id="78b18-236">If no rule is found, an exception is thrown to notify the user that the current data source can't return a correct value.</span></span>

13. <span data-ttu-id="78b18-237">Wählen Sie **Speichern**.</span><span class="sxs-lookup"><span data-stu-id="78b18-237">Select **Save**.</span></span>
14. <span data-ttu-id="78b18-238">Schließen Sie die Seite **Such-Designer**.</span><span class="sxs-lookup"><span data-stu-id="78b18-238">Close the **Lookup designer** page.</span></span>
15. <span data-ttu-id="78b18-239">Wählen Sie **OK**.</span><span class="sxs-lookup"><span data-stu-id="78b18-239">Select **OK**.</span></span>

    <span data-ttu-id="78b18-240">Beachten Sie, dass Sie eine neue Datenquelle hinzugefügt haben, die die Besteuerungsstufe als Wert der Formatenumeration **Liste der Besteuerungsstufen** für jeden Steuercode zurückgibt, der an die Datenquelle als Argument des Parameters **Code** des Datentyps **Zeichenfolge** weitergegeben wird.</span><span class="sxs-lookup"><span data-stu-id="78b18-240">Notice that you added a new data source that will return the taxation level as the value of the **List of taxation levels** format enumeration for any tax code that is passed to the data source as the argument of the **Code** parameter of the **String** data type.</span></span>
    
    ![Format-Designer-Seite mit einer neuen Datenquelle](./media/RCS-AppSpecParms-ConfigureFormat-SelectorFld.PNG)

    <span data-ttu-id="78b18-242">Beachten Sie, dass die Bewertung von konfigurierten Regeln vom Datentyp der Felder abhängt, die ausgewählt wurden, um die Bedingungen dieser Regeln zu definieren.</span><span class="sxs-lookup"><span data-stu-id="78b18-242">Note that the evaluation of configured rules depends on the data type of the fields that have been selected to define conditions of those rules.</span></span> <span data-ttu-id="78b18-243">Wenn Sie ein Feld auswählen, das als Feld des Datentyps **Numerisch** oder **Datum** konfiguriert wird, weichen die Kriterien von den Kriterien ab, die zuvor für den Datentyp **Zeichenfolge** beschrieben wurden.</span><span class="sxs-lookup"><span data-stu-id="78b18-243">When you select a field that is configured as a field of either the **Numeric** or **Date** data type, the criteria will differ from the criteria that were described earlier for the **String** data type.</span></span> <span data-ttu-id="78b18-244">Für die Felder **Numerisch** und **Datum** muss die Regel als Wertebereich angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="78b18-244">For **Numeric** and **Date** fields, the rule must be specified as a range of values.</span></span> <span data-ttu-id="78b18-245">Die Bedingung der Regel wird dann als erfüllt angesehen, wenn ein Wert, der an die Datenquelle weitergegeben wird, sich im konfigurierten Bereich befindet.</span><span class="sxs-lookup"><span data-stu-id="78b18-245">The condition of the rule will then be considered satisfied when a value that is passed to the data source is in the configured range.</span></span>
    
    <span data-ttu-id="78b18-246">Die folgende Abbildung zeigt ein Beispiel für diesen Einrichtungstyp.</span><span class="sxs-lookup"><span data-stu-id="78b18-246">The following illustration shows an example of this type of setup.</span></span> <span data-ttu-id="78b18-247">Zusätzlich zu dem Feld **Model.Data.Tax.Code** des Datentyps **Zeichenfolge** wird das Feld **Model.Tax.Summary.Base** des Datentyps **Gleitkommazahl** verwendet, um die Bedingungen für eine Suchendatenquelle anzugeben.</span><span class="sxs-lookup"><span data-stu-id="78b18-247">In addition to the **Model.Data.Tax.Code** field of the **String** data type, the **Model.Tax.Summary.Base** field of the **Real** data type is used to specify conditions for a lookup data source.</span></span>
    
    ![Such-Designer-Seite mit zusätzlichen Spalten](./media/RCS-AppSpecParms-ConfigureFormat-SelectorFld2.PNG)

    <span data-ttu-id="78b18-249">Da die Felder **Model.Data.Tax.Code** und **Model.Tax.Summary.Base** für diese Suchendatenquelle ausgewählt werden, wird jede Regel diese Datenquelle folgendermaßen konfiguriert:</span><span class="sxs-lookup"><span data-stu-id="78b18-249">Because the **Model.Data.Tax.Code** and **Model.Tax.Summary.Base** fields are selected for this lookup data source, each rule of this data source will be configured in the following way:</span></span>
    
    -   <span data-ttu-id="78b18-250">In der angezeigten Liste muss der Wert der Formatenumeration **Liste der Besteuerungsstufen** als zurückgegebener Wert ausgewählt werden.</span><span class="sxs-lookup"><span data-stu-id="78b18-250">In the list that is presented, the value of the **List of taxation levels** format enumeration must be selected as a returned value.</span></span>
    -   <span data-ttu-id="78b18-251">Der Steuercode muss als Bedingung dieser Regel eingegeben werden.</span><span class="sxs-lookup"><span data-stu-id="78b18-251">The tax code must be entered as a condition of this rule.</span></span> <span data-ttu-id="78b18-252">Nur Steuercodes, die von der Datenquelle **Model.Data.Tax** bereitgestellt werden, sind verfügbar.</span><span class="sxs-lookup"><span data-stu-id="78b18-252">Only tax codes that are provided by the **Model.Data.Tax** data source are applicable.</span></span>
    -   <span data-ttu-id="78b18-253">Mindest- und Höchstwerte des Steuergrundlagebetrags müssen als Bedingungen dieser Regel eingegeben werden.</span><span class="sxs-lookup"><span data-stu-id="78b18-253">Minimum and maximum values of the tax base amount must be entered as conditions of this rule.</span></span>

    <span data-ttu-id="78b18-254">So wird jede Regel dieser Datenquelle während der Laufzeit ausgewertet:</span><span class="sxs-lookup"><span data-stu-id="78b18-254">Here is how each rule of this data source will be evaluated at runtime:</span></span>
    -   <span data-ttu-id="78b18-255">Entspricht der Code des Datentyps **Zeichenfolge**, der an diese Datenquelle weitergegeben wurde, dem Steuercode einer Regel?</span><span class="sxs-lookup"><span data-stu-id="78b18-255">Does the code of the **String** data type that was passed to this data source equal the tax code of a rule?</span></span>
    -   <span data-ttu-id="78b18-256">Fällt der Wert des Datentyps **Gleitkommazahl**, der an diese Datenquelle weitergegeben wurde, zwischen bestimmte Mindest- und Höchstwerte?</span><span class="sxs-lookup"><span data-stu-id="78b18-256">Does the value of the **Real** data type that was passed to this data source fall between specific minimum and maximum values?</span></span>

    <span data-ttu-id="78b18-257">Eine Regel gilt als anwendbar, wenn beide Bedingungen erfüllt sind.</span><span class="sxs-lookup"><span data-stu-id="78b18-257">A rule will be considered applicable when both conditions are satisfied.</span></span>

### <a name="translate-the-label-of-the-lookup-data-source-that-was-added"></a><span data-ttu-id="78b18-258">Übersetzen der Bezeichnung der Suchendatenquelle, die hinzugefügt wurde</span><span class="sxs-lookup"><span data-stu-id="78b18-258">Translate the label of the lookup data source that was added</span></span>

<span data-ttu-id="78b18-259">Da die geschäftlichen Benutzer möglicherweise unterschiedliche Sprachen verwenden, um Gruppen von Steuercodes anzugeben, die von der juristischen Person abhängig sind, empfiehlt es sich, die Bezeichnung jeder Suchdatenquelle zu übersetzen, die Sie hinzufügen, damit sie in der bevorzugten Sprache auf der entsprechenden Seite jedes Benutzers angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="78b18-259">Because business users might use different languages to specify legal entity–dependent sets of tax codes, we recommend that you translate the label of any lookup data source that you add, so that it's presented in each user's preferred language on the corresponding page.</span></span>

1.  <span data-ttu-id="78b18-260">Wählen Sie die Datenquelle **Model.Data.Selector** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-260">Select the **Model.Data.Selector** data source.</span></span>
2.  <span data-ttu-id="78b18-261">Wählen Sie **Bearbeiten** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-261">Select **Edit**.</span></span>
3.  <span data-ttu-id="78b18-262">Klicken Sie in das Feld **Label**.</span><span class="sxs-lookup"><span data-stu-id="78b18-262">Click in the **Label** field.</span></span>
4.  <span data-ttu-id="78b18-263">Wählen Sie **Übersetzen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-263">Select **Translate**.</span></span>
5.  <span data-ttu-id="78b18-264">Geben Sie im Bereich **Textübersetzung** im Feld **Beschriftungskennung** **LBL_SELECTOR_DS** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-264">In the **Text translation** pane, in the **Label Id** field, enter **LBL_SELECTOR_DS**.</span></span>
6.  <span data-ttu-id="78b18-265">Geben Sie im Feld **Text in Standardsprache** **Steuerstufe anhand des Steuercodes auswählen** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-265">In the **Text in default language** field, enter **Select tax level by tax code**.</span></span>
7.  <span data-ttu-id="78b18-266">Wählen Sie im Feld **Sprache** **DE** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-266">In the **Language** field, select **DE**.</span></span>
8.  <span data-ttu-id="78b18-267">Geben Sie im Feld **Übersetzter Text** **Steuerebene für Steuerkennzeichen auswählen** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-267">In the **Translated text** field, enter **Steuerebene für Steuerkennzeichen auswählen**.</span></span>
9.  <span data-ttu-id="78b18-268">Wählen Sie **Übersetzen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-268">Select **Translate**.</span></span>
10. <span data-ttu-id="78b18-269">Wählen Sie **OK**.</span><span class="sxs-lookup"><span data-stu-id="78b18-269">Select **OK**.</span></span>

    ![Datenquelleneigenschaften-Auszug](./media/RCS-AppSpecParms-ConfigureFormat-SelectorFldTranslate.PNG)

### <a name="add-a-new-field-to-consume-the-configured-lookup"></a><span data-ttu-id="78b18-271">Hinzufügen eines neues Felds, um die konfigurierte Suche zu verarbeiten</span><span class="sxs-lookup"><span data-stu-id="78b18-271">Add a new field to consume the configured lookup</span></span>

1.  <span data-ttu-id="78b18-272">Erweitern Sie das Element **Model.Data**.</span><span class="sxs-lookup"><span data-stu-id="78b18-272">Expand the **Model.Data** item.</span></span>
2.  <span data-ttu-id="78b18-273">Wählen Sie das Element **Model.Data.Summary** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-273">Select the **Model.Data.Summary** item.</span></span>
3.  <span data-ttu-id="78b18-274">Wählen Sie **Hinzufügen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-274">Select **Add**.</span></span>
4.  <span data-ttu-id="78b18-275">Wählen Sie das **Feld „Funktionen/Berechnet“** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-275">Select **Functions/Calculated field**.</span></span>
5.  <span data-ttu-id="78b18-276">Geben Sie im Feld **Name** **LevelByLookup** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-276">In the **Name** field, enter **LevelByLookup**.</span></span>
6.  <span data-ttu-id="78b18-277">Wählen Sie **Formel bearbeiten** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-277">Select **Edit formula**.</span></span>
7.  <span data-ttu-id="78b18-278">Geben Sie im **Formularfeld** **Model.Selector(Model.Data.Summary.Code)** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-278">In the **Formula field**, enter **Model.Selector(Model.Data.Summary.Code)**.</span></span>
8.  <span data-ttu-id="78b18-279">Wählen Sie **Speichern** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-279">Select **Save**.</span></span>

    ![Hinzufügen von Model.Selector(Model.Data.Summary.Code) zur Formel-Designer-Seite](./media/RCS-AppSpecParms-ConfigureFormat-AddLevelByLookupFld.PNG)

9.  <span data-ttu-id="78b18-281">Schließen Sie die Seite **Formel-Editor**.</span><span class="sxs-lookup"><span data-stu-id="78b18-281">Close the **Formula editor** page.</span></span>
10. <span data-ttu-id="78b18-282">Wählen Sie **OK**.</span><span class="sxs-lookup"><span data-stu-id="78b18-282">Select **OK**.</span></span>

    ![Format-Designer-Seite mit neuer hinzugefügter Formel](./media/RCS-AppSpecParms-ConfigureFormat-AddLevelByLookupFld2.PNG)

    <span data-ttu-id="78b18-284">Beachten Sie, dass das berechnete Feld **LevelByLookup**, das Sie hinzugefügt haben, die Besteuerungsstufe als Wert der Formatenumeration **Liste der Besteuerungsstufen** für jeden zusammengefassten Steuertransaktionsdatensatz zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="78b18-284">Notice that the **LevelByLookup** calculated field that you added will return the taxation level as the value of the **List of taxation levels** format enumeration for each summarized tax transactions record.</span></span> <span data-ttu-id="78b18-285">Der Steuercode des Datensatzes wird an die Suchdatenquelle **Model.Selector** weitergegeben, und die Gruppe von Regeln für diese Datenquelle wird verwendet, um die korrekte Besteuerungsstufe auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="78b18-285">The tax code of the record will be passed to the **Model.Selector** lookup data source, and the set of rules for this data source will be used to select the correct taxation level.</span></span>

### <a name="add-a-new-format-enumeration-based-data-source"></a><span data-ttu-id="78b18-286">Hinzufügen einer neuen Datenquelle, die auf einer Formatenumeration basiert</span><span class="sxs-lookup"><span data-stu-id="78b18-286">Add a new format enumeration-based data source</span></span>

<span data-ttu-id="78b18-287">Danach fügen Sie eine neue Datenquelle hinzu, die auf die Formatenumeration verweist, die Sie zuvor hinzugefügt haben.</span><span class="sxs-lookup"><span data-stu-id="78b18-287">Next, you will add a new data source that refers to the format enumeration that you added earlier.</span></span> <span data-ttu-id="78b18-288">Werte dieser Datenquelle werden später in einem EB-Formatausdruck verwendet.</span><span class="sxs-lookup"><span data-stu-id="78b18-288">Values of this data source will be used in an ER format expression later.</span></span>

1.  <span data-ttu-id="78b18-289">Wählen Sie **Stamm hinzufügen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-289">Select **Add root**.</span></span>
2.  <span data-ttu-id="78b18-290">Wählen Sie **Formatenumerationen\Enumeration** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-290">Select **Format enumerations\Enumeration**.</span></span>
3.  <span data-ttu-id="78b18-291">Geben Sie im Feld **Name** **TaxationLevel** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-291">In the **Name** field, enter **TaxationLevel**.</span></span>
4.  <span data-ttu-id="78b18-292">Wählen Sie im Feld **Formatenumeration** die Option **Liste der Besteuerungsstufen** ein.</span><span class="sxs-lookup"><span data-stu-id="78b18-292">In the **Format enumeration** field, select **List of taxation levels**.</span></span>
5.  <span data-ttu-id="78b18-293">Wählen Sie **Speichern**.</span><span class="sxs-lookup"><span data-stu-id="78b18-293">Select **Save**.</span></span>

### <a name="modify-an-existing-field-to-start-to-use-the-lookup"></a><span data-ttu-id="78b18-294">Ändern eines vorhandenen Felds, um mit der Verwendung der Suche zu beginnen</span><span class="sxs-lookup"><span data-stu-id="78b18-294">Modify an existing field to start to use the lookup</span></span>

<span data-ttu-id="78b18-295">Danach ändern Sie das vorhandene berechnete Feld, sodass es die konfigurierte Suchendatenquelle verwendet, um je nach Steuercode den korrekten Besteuerungsstufenwert zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="78b18-295">Next, you will modify the existing calculated field so that it uses the configured lookup data source to return the correct taxation level value, depending on the tax code.</span></span>

1.  <span data-ttu-id="78b18-296">Wählen Sie das Element **Model.Data.Summary.Level** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-296">Select the **Model.Data.Summary.Level** item.</span></span>
2.  <span data-ttu-id="78b18-297">Wählen Sie **Bearbeiten** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-297">Select **Edit**.</span></span>
3.  <span data-ttu-id="78b18-298">Wählen Sie **Formel bearbeiten** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-298">Select **Edit formula**.</span></span>

    <span data-ttu-id="78b18-299">Beachten Sie, dass der aktuelle Ausdruck des Felds **Model.Data.Summary.Level** die folgenden hartcodierten Steuercodes enthält:</span><span class="sxs-lookup"><span data-stu-id="78b18-299">Notice that the current expression of the **Model.Data.Summary.Level** field includes the following hard-coded tax codes:</span></span>
    
    <span data-ttu-id="78b18-300">CASE (@.Code, „VAT19“, „Regulär“, „InVAT19“, „Regulär“, „VAT7“, „Reduziert“, „InVAT7“, „Reduziert“, „THIRD“, „Keine“, „InVAT0“, „Keine“, „Sonstige“)</span><span class="sxs-lookup"><span data-stu-id="78b18-300">CASE (@.Code, "VAT19", "Regular", "InVAT19", "Regular", "VAT7", "Reduced", "InVAT7", "Reduced", "THIRD", "None", "InVAT0", "None", "Other")</span></span>

4.  <span data-ttu-id="78b18-301">Geben Sie im Feld **Formel** **CASE(@.LevelByLookup, TaxationLevel.'Reguläre Besteuerung', „Regulär“, TaxationLevel.'Reduzierte Besteuerung', „Reduziert“, TaxationLevel.'Keine Besteuerung', „Keine“, „Sonstige“)**.</span><span class="sxs-lookup"><span data-stu-id="78b18-301">In the **Formula** field, enter **CASE(@.LevelByLookup, TaxationLevel.'Regular taxation', "Regular", TaxationLevel.'Reduced taxation', "Reduced", TaxationLevel.'No taxation', "None", "Other")**.</span></span>

    ![Seite für EB-Arbeitsgangdesigner](./media/RCS-AppSpecParms-ConfigureFormat-ChangeLookupFld.PNG)
    
    <span data-ttu-id="78b18-303">Beachten Sie, dass der Ausdruck des Felds **Model.Data.Summary.Level** jetzt die Besteuerungsstufe zurückgibt, die auf dem Steuercode des aktuellen Datensatzes und der Gruppe von Regeln basiert, die ein geschäftlicher Benutzer in der Suchdatenquelle **Model.Data.Selector** konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="78b18-303">Notice that the expression of the **Model.Data.Summary.Level** field will now return the taxation level, based on the tax code of the current record and the set of rules that that a business user configures in the **Model.Data.Selector** lookup data source.</span></span>
    
5.  <span data-ttu-id="78b18-304">Wählen Sie **Speichern**.</span><span class="sxs-lookup"><span data-stu-id="78b18-304">Select **Save**.</span></span>
6.  <span data-ttu-id="78b18-305">Schließen Sie die Seite **Formeldesigner**.</span><span class="sxs-lookup"><span data-stu-id="78b18-305">Close **Formula designer** page.</span></span>
7.  <span data-ttu-id="78b18-306">Wählen Sie **OK**.</span><span class="sxs-lookup"><span data-stu-id="78b18-306">Select **OK**.</span></span>
8.  <span data-ttu-id="78b18-307">Wählen Sie **Speichern**.</span><span class="sxs-lookup"><span data-stu-id="78b18-307">Select **Save**.</span></span>
9.  <span data-ttu-id="78b18-308">Seite **Format-Designer** schließen.</span><span class="sxs-lookup"><span data-stu-id="78b18-308">Close **Format designer** page.</span></span>

## <a name="complete-the-draft-version-of-a-derived-format"></a><span data-ttu-id="78b18-309">Abschließen der Entwurfsversion eines abgeleiteten Formats</span><span class="sxs-lookup"><span data-stu-id="78b18-309">Complete the draft version of a derived format</span></span>

1.  <span data-ttu-id="78b18-310">Wählen Sie im Inforegister **Versionen** **Status ändern** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-310">On the **Versions** FastTab, select **Change status**.</span></span>
2.  <span data-ttu-id="78b18-311">Wählen Sie **Abgeschlossen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-311">Select **Complete**.</span></span>
3.  <span data-ttu-id="78b18-312">Wählen Sie **OK**.</span><span class="sxs-lookup"><span data-stu-id="78b18-312">Select **OK**.</span></span>

## <a name="export-completed-version-of-modified-format"></a><span data-ttu-id="78b18-313">Exportieren der abgeschlossenen Version eines bearbeiteten Formats</span><span class="sxs-lookup"><span data-stu-id="78b18-313">Export completed version of modified format</span></span>

1.  <span data-ttu-id="78b18-314">Wählen Sie in der Konfigurationsstruktur das Element **Format zum Ermitteln der Vorgehensweise bei der Suche von Daten zu juristischen Personen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-314">In the configuration tree, select the **Format to learn how to lookup LE data** item.</span></span>
2.  <span data-ttu-id="78b18-315">Wählen Sie im Inforegister **Versionen** den Datensatz mit dem Status **Abgeschlossen** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-315">On the **Versions** FastTab, select the record that has a status of **Completed**.</span></span>
3.  <span data-ttu-id="78b18-316">Wählen Sie **Wechselkurs** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-316">Select **Exchange**.</span></span>
4.  <span data-ttu-id="78b18-317">Wählen Sie **Als XML-Datei exportieren** aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-317">Select **Export as XML file**.</span></span>
5.  <span data-ttu-id="78b18-318">Wählen Sie **OK**.</span><span class="sxs-lookup"><span data-stu-id="78b18-318">Select **OK**.</span></span>
6.  <span data-ttu-id="78b18-319">Der Webbrowser lädt eine XML-Datei **Format zum Ermitteln der Vorgehensweise bei der Suche von Daten zu juristischen Personen** herunter.</span><span class="sxs-lookup"><span data-stu-id="78b18-319">The web browser downloads a **Format to learn how to lookup LE data.xml** file.</span></span> <span data-ttu-id="78b18-320">Speichern Sie die Datei lokal.</span><span class="sxs-lookup"><span data-stu-id="78b18-320">Store this file locally.</span></span>

<span data-ttu-id="78b18-321">Wiederholen Sie die Schritte in diesem Abschnitt für übergeordnete Elemente des Formats **Format zum Ermitteln der Vorgehensweise bei der Suche von Daten zu juristischen Personen** und speichern Sie die folgenden Dateien lokal:</span><span class="sxs-lookup"><span data-stu-id="78b18-321">Repeat steps in this section for parent items of the **Format to learn how to lookup LE data** format, and store the following files locally:</span></span>

-   <span data-ttu-id="78b18-322">Format zum Ermitteln parametrisierter Anrufe.xml</span><span class="sxs-lookup"><span data-stu-id="78b18-322">Format to learn parameterized calls.xml</span></span>
-   <span data-ttu-id="78b18-323">Zuordnung zum Ermitteln parametrisierter Aufrufe.xml</span><span class="sxs-lookup"><span data-stu-id="78b18-323">Mapping to learn parameterized calls.xml</span></span>
-   <span data-ttu-id="78b18-324">Modell zum Lernern parametrisierter Aufrufe.xml</span><span class="sxs-lookup"><span data-stu-id="78b18-324">Model to learn parameterized calls.xml</span></span>

<span data-ttu-id="78b18-325">Um mehr darüber zu erfahren, wie Sie das konfigurierte EB-Format **Format zum Ermitteln der Vorgehensweise bei der Suche von Daten zu juristischen Personen** für die Einrichtung von Gruppen von Steuercodes verwenden, die von juristischen Personen abhängen, um Steuertransaktionen anhand von unterschiedlichen Besteuerungsstufen zu filtern, führen Sie die Schritte im Thema [Einrichten von Parametern eines EB-Formats pro juristischer Person](er-app-specific-parameters-set-up.md) aus.</span><span class="sxs-lookup"><span data-stu-id="78b18-325">To learn how to use the configured **Format to learn how to lookup LE data** ER format to set up legal entity–dependent sets of tax codes to filter tax transactions by different taxation levels, complete the steps in the [Set up the parameters of an ER format per legal entity](er-app-specific-parameters-set-up.md) topic.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="78b18-326">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="78b18-326">Additional resources</span></span>

[<span data-ttu-id="78b18-327">Formeldesigner in der elektronischen Berichterstellung</span><span class="sxs-lookup"><span data-stu-id="78b18-327">Formula designer in Electronic reporting</span></span>](general-electronic-reporting-formula-designer.md)

[<span data-ttu-id="78b18-328">Einrichten von Parametern eines EB-Formats pro juristischer Person</span><span class="sxs-lookup"><span data-stu-id="78b18-328">Set up the parameters of an ER format per legal entity</span></span>](er-app-specific-parameters-set-up.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
