---
title: Suchdatenquellen für die Verwendung anwendungsspezifischer EB-Parameter konfigurieren
description: In diesem Thema wird erläutert, wie Sie Suchdatenquellen in elektronische Berichterstellungsformate (EB-Formate) konfigurieren können, um für anwendungsspezifische EB-Parameter zu verwenden.
author: NickSelin
ms.date: 04/02/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, EROperationDesigner, ERLookupDesigner, ERComponentLookupStructureEditing
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: Release 8.1.3
ms.openlocfilehash: 131d14f1f1aa329bd71b1f8a4015192736bd8e44
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 05/11/2021
ms.locfileid: "6022574"
---
# <a name="configure-lookup-data-sources-to-use-er-application-specific-parameters"></a><span data-ttu-id="e5bad-103">Suchdatenquellen für die Verwendung anwendungsspezifischer EB-Parameter konfigurieren</span><span class="sxs-lookup"><span data-stu-id="e5bad-103">Configure Lookup data sources to use ER application-specific parameters</span></span> 

[!include[banner](../includes/banner.md)]

<span data-ttu-id="e5bad-104">Mit der anwendungsspezifischen Parameterfunktion zur [elektronischen Berichtserstellung (EB)](general-electronic-reporting.md) können Sie die Datenfilterung in einem EB-Format konfigurieren, damit sie auf einer Gruppe von abstrakten Regeln basiert.</span><span class="sxs-lookup"><span data-stu-id="e5bad-104">The [Electronic reporting (ER)](general-electronic-reporting.md) application-specific parameters feature lets you configure data filtering in an ER format so that it's based on a set of abstract rules.</span></span> <span data-ttu-id="e5bad-105">Diese Gruppe von Regeln kann so konfiguriert werden, dass sie die Datenquellen vom Typ **Suche** nutzt, die in einem EB-Format verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="e5bad-105">This set of rules can be configured to use the data source of the **Lookup** type that is available in an ER format.</span></span> <span data-ttu-id="e5bad-106">Sie können echte Regeln über die EB-Komponentendesigner hinaus angeben, indem sie die Benutzeroberfläche, die automatisch anhand der Einstellungen der **Such**-Datenquellen des entsprechenden EB-Formats erzeugt wird, und die aktuellen Daten der juristischen Person verwenden.</span><span class="sxs-lookup"><span data-stu-id="e5bad-106">You can then specify real rules beyond the ER components designers by using the user interface (UI) that is automatically generated based on the settings of the **Lookup** data source of the corresponding ER format and the current legal entity data.</span></span> <span data-ttu-id="e5bad-107">Auf die angegebenen Regeln wird schließlich von der **Such**-Datenquelle des EB-Formats zugegriffen, wenn dieses EB-Format ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="e5bad-107">Eventually, the specified rules will be accessed by the ER format's **Lookup** data source when this ER format is executed.</span></span>

> [!NOTE]
> <span data-ttu-id="e5bad-108">Verwenden Sie die konfigurierten Datenquellen des bearbeitbaren EB-Formats, um anzugeben, welche Anwendungsdaten zum Konfigurieren echter Regeln verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e5bad-108">Use the configured data sources of the editable ER format to specify what application data is used to configure real rules.</span></span>

<span data-ttu-id="e5bad-109">Verwenden Sie den [EB-Vorgangsdesigner](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base), um eine Datenquelle vom Typ **Suche** in Ihr EB-Format aufzunehmen.</span><span class="sxs-lookup"><span data-stu-id="e5bad-109">Use the [ER Operations designer](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) to bring a data source of the **Lookup** type in to your ER format.</span></span> <span data-ttu-id="e5bad-110">Die Datenquelle muss so konfiguriert sein, dass sie beschreibt, wie Ihre abstrakten Regeln aussehen, einschließlich Folgendem:</span><span class="sxs-lookup"><span data-stu-id="e5bad-110">The data source must be configured to describe how your abstract rules look, including the following:</span></span>

   - <span data-ttu-id="e5bad-111">Der Parametersatz eines bestimmten Datentyps, dessen Wert zur Angabe einer einzelnen Regel angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="e5bad-111">The parameter set of certain data type whose value is provided to specify a single rule.</span></span>
   - <span data-ttu-id="e5bad-112">Der Werttyp eines bestimmten Datentyps, der von einer einzelnen Regel zurückgegeben wird, wenn diese Regel unter anderem als am besten geeignet angesehen wird.</span><span class="sxs-lookup"><span data-stu-id="e5bad-112">The value type of certain data type that is returned by a single rule when this rule is considered the most appropriate among others.</span></span>

<span data-ttu-id="e5bad-113">Sie können die folgenden Arten von **Such**-Datenquellen konfigurieren, je nach dem Typ des Werts, der von einer konfigurierten Regel zurückgegeben wird:</span><span class="sxs-lookup"><span data-stu-id="e5bad-113">You can configure the following types of **Lookup** data sources depending on the type of value that is returned by any configured rule:</span></span>

   - <span data-ttu-id="e5bad-114">Verwenden Sie den Typ **Datenmodell\Suche**, wenn ein Modellenumerationswert zurückgegeben werden muss.</span><span class="sxs-lookup"><span data-stu-id="e5bad-114">Use the **Data model\Lookup** type when a model enumeration value must be returned.</span></span>
   - <span data-ttu-id="e5bad-115">Verwenden Sie den Typ **Dynamics 365 Operations\Suche**, wenn ein Anwendungsenumerationswert oder ein Anwendungswert vom [erweiterten Datentyp](../extensibility/extensible-edts.md) zurückgegeben werden muss.</span><span class="sxs-lookup"><span data-stu-id="e5bad-115">Use the **Dynamics 365 Operations\Lookup** type when an application enumeration value or an application [extended data type](../extensibility/extensible-edts.md) value must be returned.</span></span>
   - <span data-ttu-id="e5bad-116">Verwenden Sie den Typ **Formatenumeration\Suche**, wenn ein Formateneumerationswert zurückgegeben werden muss.</span><span class="sxs-lookup"><span data-stu-id="e5bad-116">Use the **Format enumeration\Lookup** type when a format enumeration value must be returned.</span></span>

<span data-ttu-id="e5bad-117">Die folgende Abbildung zeigt, wie eine Formatenumeration im EB-Beispielformat konfiguriert werden kann.</span><span class="sxs-lookup"><span data-stu-id="e5bad-117">The following illustration shows how a format enumeration can be configured in the sample ER format.</span></span>

   ![Anzeigen einer Formatenumeration als Basis für die konfigurierte Suchdatenquelle](./media/er-lookup-data-sources-img1.gif)

<span data-ttu-id="e5bad-119">Die folgende Abbildung zeigt die Formatkomponenten, die so konfiguriert wurden, dass unterschiedliche Steuertypen in einem anderen Abschnitt eines generierten Berichts gemeldet werden.</span><span class="sxs-lookup"><span data-stu-id="e5bad-119">The following illustration shows the format components that were configured to report different type of taxes in a different section of a generated report.</span></span>

   ![Anzeigen der Formatabschnitte, um verschiedene Arten von Steuern separat zu melden](./media/er-lookup-data-sources-img2.png)

<span data-ttu-id="e5bad-121">Die folgende Abbildung zeigt, wie der EB-Vorgangsdesigner das Hinzufügen einer Datenquelle vom Typ **Formatenumeration\Suche** ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="e5bad-121">The following illustration shows how the ER Operations designer allows the addition of a data source of the **Format enumeration\Lookup** type.</span></span>  <span data-ttu-id="e5bad-122">Die hinzugefügte Datenquelle ist so konfiguriert, dass sie einen Wert der `List of taxation levels`-Formatenumeration zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="e5bad-122">The added data source is configured as returning a value of the `List of taxation levels` format enumeration.</span></span>

   ![Hinzufügen einer EB-Datenquelle vom Typ Formatenumeration\Suche](./media/er-lookup-data-sources-img3.gif)

<span data-ttu-id="e5bad-124">Die folgende Abbildung zeigt, wie die hinzugefügte Datenquelle für die Verwendung des Felds **Code** der Datensatzliste **Model.Data.Tax** der Datenquelle **Modell** als Parameter konfiguriert wird, der für jede konfigurierte Regel angegeben werden muss.</span><span class="sxs-lookup"><span data-stu-id="e5bad-124">The following illustration shows how the added data source is configured to use the **Code** field of the **Model.Data.Tax** record list of the **Model** data source as a parameter that must be specified for every configured rule.</span></span>

![Konfigurieren von Parametern der hinzugefügten Datenquelle vom Typ Formatenumeration\Suche](./media/er-lookup-data-sources-img4.gif)

<span data-ttu-id="e5bad-126">Die hinzugefügte Datenquelle `Model.Data.Tax` ist so konfiguriert, dass für jede konfigurierte Regel ein Steuercode angegeben wird, indem auf Datensätze der Anwendungstabelle **TabTable** zurückgegriffen wird.</span><span class="sxs-lookup"><span data-stu-id="e5bad-126">The added `Model.Data.Tax` data source is configured to specify a tax code for every configured rule by accessing records of the **TaxTable** application table.</span></span>

   ![Eine Suchdatenquelle vom Typ Formatenumeration\Suche für ein einzelnes Unternehmen überprüfen](./media/er-lookup-data-sources-img5.gif)

<span data-ttu-id="e5bad-128">Sie können die Suchregeln für das ausgewählte EB-Format mithilfe der Benutzeroberfläche einrichten, die automatisch an der Struktur der konfigurierten Datenquelle ausgerichtet wird.</span><span class="sxs-lookup"><span data-stu-id="e5bad-128">You can set up the lookup rules for the selected ER format by using the UI that is automatically aligned with the structure of the configured data source.</span></span> <span data-ttu-id="e5bad-129">Derzeit erfordert diese Benutzeroberfläche, dass Sie für jede Regel den zurückgegebenen Wert als `List of taxation levels`-Formatenumerationswert sowie den Steuercode als Parameter festlegen.</span><span class="sxs-lookup"><span data-stu-id="e5bad-129">Currently, this UI requires that for each rule, you specify the returned value as the `List of taxation levels` format enumeration value as well as the tax code as a parameter.</span></span>

   ![Regeln für die konfigurierte Datenquelle einrichten](./media/er-lookup-data-sources-img6.gif)

<span data-ttu-id="e5bad-131">Die folgende Abbildung zeigt, wie `Model.Data.Summary.LevelByLookup`-Datenquelle vom Typ **Berechnetes Feld** konfiguriert werden kann, um die konfigurierte **Such**-Datenquelle mit den erforderlichen Parametern aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="e5bad-131">The following illustration shows how the `Model.Data.Summary.LevelByLookup` data source of the **Calculated field** type can be configured to call the configured **Lookup** data source providing the required parameters.</span></span> <span data-ttu-id="e5bad-132">Um diesen Aufruf zur Laufzeit zu verarbeiten, durchsucht EB die Liste der konfigurierten Regeln in der definierten Reihenfolge, um die erste Regel zu finden, die die angegebenen Bedingungen erfüllt.</span><span class="sxs-lookup"><span data-stu-id="e5bad-132">To process this call at runtime, ER goes through the list of configured rules in the defined sequence to locate the first rule that satisfies the provided conditions.</span></span> <span data-ttu-id="e5bad-133">In diesem Beispiel enthält die Regel den Steuercode, der mit dem angegebenen übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="e5bad-133">In this example, it's the rule that contains the tax code that matches the provided one.</span></span> <span data-ttu-id="e5bad-134">Als Ergebnis wird die am besten geeignete Regel gefunden und der für die gefundene Regel konfigurierte Aufzählungswert wird von dieser Datenquelle zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="e5bad-134">As the result, the most appropriate rule is found and the enumeration value that is configured for the found rule is returned by this data source.</span></span>

> [!NOTE]
> <span data-ttu-id="e5bad-135">Eine Ausnahme wird ausgelöst, wenn keine zutreffende Regel gefunden wird.</span><span class="sxs-lookup"><span data-stu-id="e5bad-135">An exception is thrown when no applicable rule is found.</span></span> <span data-ttu-id="e5bad-136">Um diese Ausnahmen zu vermeiden, konfigurieren Sie zusätzliche Regeln am Ende der Regelliste, um Fälle zu behandeln, in denen ein nicht konfigurierter oder kein Wert angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="e5bad-136">To prevent these exceptions, configure additional rules at the end of the rules list to handle cases when a non-configured value or no value is provided.</span></span> <span data-ttu-id="e5bad-137">Verwenden Sie entsprechend die Optionen **\*Nicht leer\*** und **\*Leer\***.</span><span class="sxs-lookup"><span data-stu-id="e5bad-137">Use the **\*Not blank**\* and **\*Blank**\* options accordingly.</span></span>  
>
> ![Fügen Sie eine Datenquelle hinzu, um die konfigurierte Suchdatenquelle aufzurufen](./media/er-lookup-data-sources-img7.png)

<span data-ttu-id="e5bad-139">Wenn Sie die Option **Unternehmensüberprüfend** für die bearbeitbare Suchdatenquelle auf **Ja** setzen, fügen Sie dem Parametersatz dieser Datenquelle einen neuen erforderlichen **Unternehmen**-Parameter hinzu.</span><span class="sxs-lookup"><span data-stu-id="e5bad-139">When you set the **Cross-company** option to **Yes** for the editable lookup data source, you add a new required **Company** parameter to the set of parameters of this data source.</span></span> <span data-ttu-id="e5bad-140">Der Wert des **Unternehmen**-Parameter muss zur Laufzeit angegeben werden, wenn die Suchdatenquelle aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="e5bad-140">The value of the **Company** parameter must be specified at runtime when the lookup data source is called.</span></span> <span data-ttu-id="e5bad-141">Wenn der Buchungskreis zur Laufzeit angegeben wird, werden die für dieses Unternehmen konfigurierten Regeln verwendet, um die am besten geeignete Regel zu finden, und der entsprechende Wert wird zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="e5bad-141">When the company code is specified at runtime, the rules configured for this company are used to find the most appropriate rule, and the corresponding value is returned.</span></span> <span data-ttu-id="e5bad-142">Die folgende Abbildung zeigt, wie Sie dies tun können und wie der Parametersatz der bearbeitbaren Datenquelle geändert wird.</span><span class="sxs-lookup"><span data-stu-id="e5bad-142">The following illustration shows how you can do this and how the set of parameters of the editable data source is changed.</span></span>

   ![Eine unternehmensübergreifende Suchdatenquelle vom Typ Formatenumeration\Suche überprüfen](./media/er-lookup-data-sources-img8.gif)

> [!NOTE]
> <span data-ttu-id="e5bad-144">Wählen Sie jedes Unternehmen separat aus, um die Regeln für diese Suchdatenquelle im bearbeitbaren EB-Format zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="e5bad-144">Select every company seperately to configure the set of rules for this lookup data source of the editable ER format.</span></span> <span data-ttu-id="e5bad-145">Zur Laufzeit wird eine Ausnahme ausgelöst, wenn die unternehmensübergreifende Suche mit dem Code des Unternehmens aufgerufen wird, für das die Sucheinstellung nicht abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="e5bad-145">An exception is thrown at runtime when the cross-company lookup is called with the code of the company for which the lookup setting was not completed.</span></span>
>
> <span data-ttu-id="e5bad-146">Stellen Sie sicher, dass Sie Berechtigungen für einen Benutzer erteilen, der das EB-Format mit der unternehmensübergreifenden **Such**-Datenquelle ausführt, um auf die Daten aller Unternehmen zuzugreifen, die unter diese Datenquelle fallen.</span><span class="sxs-lookup"><span data-stu-id="e5bad-146">Make sure that you grant permissions for a user who runs the ER format with the cross-company **Lookup** data source to access the data of every company that is in scope of this data source.</span></span> <span data-ttu-id="e5bad-147">Andernfalls wird zur Laufzeit eine Ausnahme ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="e5bad-147">Otherwise, an exception is thrown at runtime.</span></span>

<span data-ttu-id="e5bad-148">Ab Version 10.0.19 sind die erweiterten Funktionen der **Such**-Datenquellen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="e5bad-148">Starting in version 10.0.19, the extended capabilities of the **Lookup** data sources are available.</span></span> <span data-ttu-id="e5bad-149">Wenn Sie die Option **Erweitert** für die bearbeitbare Suchdatenquelle auf **Ja** stellen, wird die konfigurierte Suchdatenquelle in die strukturierte Datenquelle umgewandelt, die die zusätzlichen Funktionen zum Analysieren des konfigurierten Regelsatzes bietet.</span><span class="sxs-lookup"><span data-stu-id="e5bad-149">When you set the **Extended** option to **Yes** for the editable lookup data source, the configured lookup data source is transformed to the structured data source that offers the additional capabilities to analyze the configured set of rules.</span></span> <span data-ttu-id="e5bad-150">Die folgende Abbildung zeigt dieser Transformation.</span><span class="sxs-lookup"><span data-stu-id="e5bad-150">The following illustration shows this transformation.</span></span>

   ![Die struktierte Suchdatenquelle vom Typ Formatenumeration\Suche überprüfen](./media/er-lookup-data-sources-img9.gif)

- <span data-ttu-id="e5bad-152">Das Unterlement **Suche** ist als Funktion konzipiert, um die am besten geeignete Regel aus dem Satz konfigurierbarer Regeln basierend auf dem bereitgestellten Parametersatz zu finden.</span><span class="sxs-lookup"><span data-stu-id="e5bad-152">The **Lookup** sub-item is designed as a function to find the most appropriate rule from the set of configurable rules based on the provided set of parameters.</span></span>
- <span data-ttu-id="e5bad-153">Das Unterelement **IsLookupResultSet** dient als Funktion zum Akzeptieren des angegebenen Werts der Basisenumerationsdatenquelle und zum Zurückgeben des *booleschen* Werts **wahr**, wenn der Regelsatz mindestens eine Regel enthält, für die der angegebene Enumerationswert als zurückgegebener Wert konfiguriert wurde.</span><span class="sxs-lookup"><span data-stu-id="e5bad-153">The **IsLookupResultSet** sub-item is designed as a function to accept the provided value of the base enumeration data source and return the *Boolean* value of **True** when the set of rules contain at least one rule for which the provided enumeration value was configured as a returned value.</span></span> <span data-ttu-id="e5bad-154">Diese Funktion gibt den *booleschen* Wert **falsch** zurück, wenn keine Regeln konfiguriert sind, um den angegebenen Enumerationswert zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="e5bad-154">This function returns the *Boolean* value of **False** when there are no rules configured to return the provided enumeration value.</span></span>
- <span data-ttu-id="e5bad-155">Das Unterelement **Einstellung** ist als eine Funktion konzipiert, die den Satz konfigurierter Regeln als Datensätze einer Datensatzliste zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="e5bad-155">The **Setting** sub-item is designed as a function that returns the set of configured rules as records of a record list.</span></span> <span data-ttu-id="e5bad-156">Die zurückgegebenen Werte und der Parametersatz der konfigurierten Regeln werden in jedem zurückgegebenen Datensatz als Felder der relevanten Datentypen dargestellt:</span><span class="sxs-lookup"><span data-stu-id="e5bad-156">The returned values and the set of parameters of the configured rules are presented in every returned record as fields of the relevant data types:</span></span>

    - <span data-ttu-id="e5bad-157">Der zurückgegebene Wert wird als Feld **Suchergebnis** dargestellt.</span><span class="sxs-lookup"><span data-stu-id="e5bad-157">The returned value is presented as the **Lookup result** field.</span></span>
    - <span data-ttu-id="e5bad-158">Die konfigurierten Parameter werden als Felder mit Parameternamen dargestellt (in diesem Beispiel das Feld **Code**).</span><span class="sxs-lookup"><span data-stu-id="e5bad-158">The configured parameters are presented as fields having names of parameters (**Code** field in this example).</span></span>

<span data-ttu-id="e5bad-159">Weitere Informationen zur Konfiguration der **Such**-Datenquelle finden Sie unter [EB-Formate zur Verwendung von Parametern konfigurieren, die pro juristischer Person angegeben werden](er-app-specific-parameters-configure-format.md).</span><span class="sxs-lookup"><span data-stu-id="e5bad-159">For more information about to how configure the **Lookup** data source, see [Configure ER formats to use parameters that are specified per legal entity](er-app-specific-parameters-configure-format.md).</span></span> <span data-ttu-id="e5bad-160">Informationen zum Festlegen der Suchregeln finden Sie unter [Parameter eines EB-Formats pro juristischer Person einrichten](er-app-specific-parameters-set-up.md).</span><span class="sxs-lookup"><span data-stu-id="e5bad-160">To learn how to set the Lookup rules, see [Set up the parameters of an ER format per legal entity](er-app-specific-parameters-set-up.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="e5bad-161">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="e5bad-161">Additional resources</span></span>

[<span data-ttu-id="e5bad-162">ER-Formate zur Verwendung von Parametern konfigurieren, die pro juristischer Person angegeben werden</span><span class="sxs-lookup"><span data-stu-id="e5bad-162">Configure ER formats to use parameters that are specified per legal entity</span></span>](er-app-specific-parameters-configure-format.md)

[<span data-ttu-id="e5bad-163">Parameter eines ER-Formats pro juristischer Person einrichten</span><span class="sxs-lookup"><span data-stu-id="e5bad-163">Set up the parameters of an ER format per legal entity</span></span>](er-app-specific-parameters-set-up.md)
