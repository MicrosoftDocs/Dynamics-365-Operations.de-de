---
title: Formeldesigner in der elektronischen Berichterstellung (EB)
description: In diesem Thema werden allgemeine Informationen zur Verwendung des Formel-Designers bei der elektronischen Berichterstellung (EB) bereitgestellt.
author: NickSelin
manager: kfend
ms.date: 12/05/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERDataModelDesigner, ERExpressionDesignerFormula, ERMappedFormatDesigner, ERModelMappingDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.custom: 58771
ms.assetid: 24223e13-727a-4be6-a22d-4d427f504ac9
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: d96fe041fd0ffb292909c1e724068efebe0184b9
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 12/05/2020
ms.locfileid: "4682648"
---
# <a name="formula-designer-in-electronic-reporting-er"></a><span data-ttu-id="e1535-103">Formeldesigner in der elektronischen Berichterstellung (EB)</span><span class="sxs-lookup"><span data-stu-id="e1535-103">Formula designer in Electronic reporting (ER)</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="e1535-104">In diesem Artikel wird beschrieben, wie den Formel-Designer in der elektronischen Berichterstattung (ER) verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="e1535-104">This topic explains how to use the formula designer in Electronic reporting (ER).</span></span> <span data-ttu-id="e1535-105">Wenn Sie ein Format für ein bestimmtes elektronisches Dokument in EB entwerfen, können Sie Formeln zum Transformieren von Daten verwenden, sodass sie den Anforderungen für die Dokumenterfüllung und Formatierung zu entsprechen.</span><span class="sxs-lookup"><span data-stu-id="e1535-105">When you design a format for a specific electronic document in ER, you can use formulas to transform data so that it meets the requirements for the document's fulfillment and formatting.</span></span> <span data-ttu-id="e1535-106">Diese Formeln ähneln Formeln in Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="e1535-106">These formulas resemble formulas in Microsoft Excel.</span></span> <span data-ttu-id="e1535-107">Unterschiedliche Arten von Funktionen werden in den Formeln unterstützt: Text, Datum und Uhrzeit, Mathematisches, Logisches, Informationen und Datentypumrechnung sowie andere domänenspezifische Funktionen des Unternehmens.</span><span class="sxs-lookup"><span data-stu-id="e1535-107">Various types of functions are supported in the formulas: text, date and time, mathematical, logical, information, and data type conversion functions, and also other, business domain–specific functions.</span></span>

## <a name="formula-designer-overview"></a><span data-ttu-id="e1535-108">Formeldesignerübersicht</span><span class="sxs-lookup"><span data-stu-id="e1535-108">Formula designer overview</span></span>

<span data-ttu-id="e1535-109">EB unterstützt den Formeldesigner.</span><span class="sxs-lookup"><span data-stu-id="e1535-109">ER supports the formula designer.</span></span> <span data-ttu-id="e1535-110">Daher können Sie zum Zeitpunkt des Entwurfs Ausdrücke konfigurieren, die für folgende Aufgaben zur Laufzeit verwendet werden können:</span><span class="sxs-lookup"><span data-stu-id="e1535-110">Therefore, at design time, you can configure expressions that can be used for the following tasks at runtime:</span></span>

- <span data-ttu-id="e1535-111">Transformation Sie Daten, die von einer Anwendungsdatenbank empfangen werden und in ein EB-Datenmodell eingegeben werden sollen, das so konzipiert wurde, dass es als Datenquelle für EB-Formate dient.</span><span class="sxs-lookup"><span data-stu-id="e1535-111">Transform data that is received from an application database and that should be entered in an ER data model that is designed to be a data source for ER formats.</span></span> <span data-ttu-id="e1535-112">(Diese Transformationen können beispielsweise Filterung, Gruppierung und Datentypkonvertierung umfassen.)</span><span class="sxs-lookup"><span data-stu-id="e1535-112">(For example, these transformations might include filtering, grouping, and data type conversion.)</span></span>
- <span data-ttu-id="e1535-113">Formatieren Sie Daten, die an ein generierendes elektronisches Dokument in Übereinstimmung mit dem Layout und den Bedingungen eines spezifischen EB-Formats übermittelt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="e1535-113">Format data that must be sent to a generating electronic document in accordance with the layout and conditions of a specific ER format.</span></span> <span data-ttu-id="e1535-114">(Die Formatierung kann beispielsweise in Übereinstimmung mit der angeforderten Sprache oder Kultur oder der Codierung erfolgen).</span><span class="sxs-lookup"><span data-stu-id="e1535-114">(For example, the formatting might be done in accordance with the requested language or culture, or the encoding).</span></span>
- <span data-ttu-id="e1535-115">Steuern Sie den Prozess der Erstellung elektronischer Dokumente.</span><span class="sxs-lookup"><span data-stu-id="e1535-115">Control the process of creating electronic documents.</span></span> <span data-ttu-id="e1535-116">(Die Ausdrücke können beispielsweise die Ausgabe bestimmter Elemente des Formats aktivieren oder deaktivieren, abhängig von der Verarbeitung von Daten.</span><span class="sxs-lookup"><span data-stu-id="e1535-116">(For example, the expressions can enable or disable the output of specific elements of the format, depending on processing data.</span></span> <span data-ttu-id="e1535-117">Sie können auch den Dokumenterstellungsprozess unterbrechen oder Nachrichten an Benutzer auslösen.)</span><span class="sxs-lookup"><span data-stu-id="e1535-117">They can also interrupt the document creation process or throw messages to users.)</span></span>

<span data-ttu-id="e1535-118">Sie können die Seite **Formeldesigner** öffnen, wenn Sie irgendeine der folgenden Aktionen ausführen:</span><span class="sxs-lookup"><span data-stu-id="e1535-118">You can open the **Formula designer** page when you perform any of the following actions:</span></span>

- <span data-ttu-id="e1535-119">Binden von Datenquellenartikeln zu den Datenmodellkomponenten.</span><span class="sxs-lookup"><span data-stu-id="e1535-119">Bind data source items to data model components.</span></span>
- <span data-ttu-id="e1535-120">Binden von Datenquellenartikeln zu den Datenformatkomponenten.</span><span class="sxs-lookup"><span data-stu-id="e1535-120">Bind data source items to format components.</span></span>
- <span data-ttu-id="e1535-121">Verwaltung von berechneten Feldern, die Teil von Datenquellen sind, abschließen.</span><span class="sxs-lookup"><span data-stu-id="e1535-121">Complete maintenance of calculated fields that are part of data sources.</span></span>
- <span data-ttu-id="e1535-122">Definition von Sichtbedingungen für Benutzereingabeparameter.</span><span class="sxs-lookup"><span data-stu-id="e1535-122">Define the visibility conditions for user input parameters.</span></span>
- <span data-ttu-id="e1535-123">Entwurf der Umwandlungen des Formats.</span><span class="sxs-lookup"><span data-stu-id="e1535-123">Design a format's transformations.</span></span>
- <span data-ttu-id="e1535-124">Definition der Aktivierung von Bedingungen für die Komponenten des Formats.</span><span class="sxs-lookup"><span data-stu-id="e1535-124">Define the enabling conditions for the format's components.</span></span>
- <span data-ttu-id="e1535-125">Definition von Dateinamen für die DATEIkomponenten des Formats.</span><span class="sxs-lookup"><span data-stu-id="e1535-125">Define the file names for the format's FILE components.</span></span>
- <span data-ttu-id="e1535-126">Definition der Bedingungen für Prozesssteuerprüfungen.</span><span class="sxs-lookup"><span data-stu-id="e1535-126">Define the conditions for process control validations.</span></span>
- <span data-ttu-id="e1535-127">Definition der Nachrichtentextes für Prozesssteuerprüfungen.</span><span class="sxs-lookup"><span data-stu-id="e1535-127">Define the message text for process control validations.</span></span>

## <a name="data-binding"></a><a name="Binding"></a><span data-ttu-id="e1535-128">Datenbindung</span><span class="sxs-lookup"><span data-stu-id="e1535-128">Data binding</span></span>

<span data-ttu-id="e1535-129">Der EB-Formeldesigner kann verwendet werden, um einen Ausdruck zu definieren, der Daten transformiert, die von Datenquellen empfangen werden, sodass die Daten beim Datenkonsument in folgender Art zur Laufzeit eingegeben werden können:</span><span class="sxs-lookup"><span data-stu-id="e1535-129">The ER formula designer can be used to define an expression that transforms data that is received from data sources, so that the data can be entered in the data consumer in the following ways at runtime:</span></span>

- <span data-ttu-id="e1535-130">von Anwendungsdatenquellen und Laufzeitparametern zum ER-Datenmodell</span><span class="sxs-lookup"><span data-stu-id="e1535-130">From application data sources and runtime parameters to an ER data model</span></span>
- <span data-ttu-id="e1535-131">Von einem ER-Datenmodell zu einem ER-Format</span><span class="sxs-lookup"><span data-stu-id="e1535-131">From an ER data model to an ER format</span></span>
- <span data-ttu-id="e1535-132">von Anwendungsdatenquellen und Laufzeitparametern zum ER-Format</span><span class="sxs-lookup"><span data-stu-id="e1535-132">From application data sources and runtime parameters to an ER format</span></span>

<span data-ttu-id="e1535-133">Die folgende Abbildung zeigt das Design eines Ausdrucks dieses Typs.</span><span class="sxs-lookup"><span data-stu-id="e1535-133">The following illustration shows the design of an expression of this type.</span></span> <span data-ttu-id="e1535-134">In diesem Beispiel wird durch den Ausdruck der Wert des Felds **Intrastat.AmountMST** der Intrastat-Tabelle auf zwei Dezimalstellen gerundet und dann der gerundete Wert zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="e1535-134">In this example, the expression rounds the value of the **Intrastat.AmountMST** field in the Intrastat table to two decimal places and then returns the rounded value.</span></span>

<span data-ttu-id="e1535-135">[![Datenbindungsausdruck](./media/picture-expression-binding.jpg)](./media/picture-expression-binding.jpg)</span><span class="sxs-lookup"><span data-stu-id="e1535-135">[![Data binding expression](./media/picture-expression-binding.jpg)](./media/picture-expression-binding.jpg)</span></span>

<span data-ttu-id="e1535-136">Die folgende Abbildung zeigt, wie ein Ausdruck dieses Typs verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="e1535-136">The following illustration shows how an expression of this type can be used.</span></span> <span data-ttu-id="e1535-137">In diesem Beispiel wird das Ergebnis des entworfenen Ausdrucks in die Komponente **Transaction.InvoicedAmount** des Datenmodells **Steuererklärungsmodell** eingegeben.</span><span class="sxs-lookup"><span data-stu-id="e1535-137">In this example, the result of the designed expression is entered in the **Transaction.InvoicedAmount** component of the **Tax reporting model** data model.</span></span>

<span data-ttu-id="e1535-138">[![Datenbindungausdruck, der verwendet wird](./media/picture-expression-binding2.jpg)](./media/picture-expression-binding2.jpg)</span><span class="sxs-lookup"><span data-stu-id="e1535-138">[![Data binding expression being used](./media/picture-expression-binding2.jpg)](./media/picture-expression-binding2.jpg)</span></span>

<span data-ttu-id="e1535-139">Zur Laufzeit rundet die entworfene Formel `ROUND (Intrastat.AmountMST, 2)` den Wert des Felds **AmountMST** für jeden Datensatz in der Intrastat-Tabelle auf zwei Dezimalstellen.</span><span class="sxs-lookup"><span data-stu-id="e1535-139">At runtime, the designed formula, `ROUND (Intrastat.AmountMST, 2)`, rounds the value of the **AmountMST** field for each record in the Intrastat table to two decimal places.</span></span> <span data-ttu-id="e1535-140">Sie gibt dann den gerundeten Wert in der Komponente **Transaction.InvoicedAmount** des Datenmodells **Steuererklärung** ein.</span><span class="sxs-lookup"><span data-stu-id="e1535-140">It then enters the rounded value in the **Transaction.InvoicedAmount** component of the **Tax reporting** data model.</span></span>

## <a name="data-formatting"></a><a name="Transformation"></a><span data-ttu-id="e1535-141">Datenformatierung</span><span class="sxs-lookup"><span data-stu-id="e1535-141">Data formatting</span></span>

<span data-ttu-id="e1535-142">Der ER-Formeldesigner kann verwendet werden, um einen Ausdruck zu definieren, der Daten umwandelt, die von den Datenquellen empfangen werden, sodass die Daten als Teil zum Erstellen eines elektronischen Dokuments gesendet werden können.</span><span class="sxs-lookup"><span data-stu-id="e1535-142">The ER formula designer can be used to define an expression that formats data that is received from data sources, so that the data can be sent as part of the generating electronic document.</span></span> <span data-ttu-id="e1535-143">Möglicherweise haben Sie Formatierung, die als eine typische Regel angewendet werden muss, die für ein Format erneut verwendet werden muss.</span><span class="sxs-lookup"><span data-stu-id="e1535-143">You might have formatting that must be applied as a typical rule that should be reused for a format.</span></span> <span data-ttu-id="e1535-144">In diesem Fall können Sie diese Formatierung einmal in der Formatkonfiguration einführen, als benannte Transformation, die einen Formatierungsausdruck hat.</span><span class="sxs-lookup"><span data-stu-id="e1535-144">In this case, you can introduce that formatting one time in the format configuration, as a named transformation that has a formatting expression.</span></span> <span data-ttu-id="e1535-145">Diese benannte Transformation kann dann mit vielen Formatkomponenten verknüpft werden, wobei die Ausgabe gemäß dem Formatierungsausdruck formatiert werden muss, den Sie erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="e1535-145">This named transformation can then be linked to many format components where the output must be formatted according to the formatting expression that you created.</span></span>

<span data-ttu-id="e1535-146">Die folgende Abbildung zeigt das Design einer Umwandlung dieses Typs.</span><span class="sxs-lookup"><span data-stu-id="e1535-146">The following illustration shows the design of a transformation of this type.</span></span> <span data-ttu-id="e1535-147">In diesem Beispiel kürzt die **TrimmedString**-Tansformation eingehende Daten des Datentyps *Zeichenfolge*, indem führende und nachfolgende Leerzeichen entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="e1535-147">In this example, the **TrimmedString** transformation truncates incoming data of the *String* data type by removing leading and trailing spaces.</span></span> <span data-ttu-id="e1535-148">Sie gibt dann einen gekürzten Zeichenfolgenwert zurück.</span><span class="sxs-lookup"><span data-stu-id="e1535-148">It then returns the truncated string value.</span></span>

<span data-ttu-id="e1535-149">[![Umwandlung](./media/picture-transformation-design.jpg)](./media/picture-transformation-design.jpg)</span><span class="sxs-lookup"><span data-stu-id="e1535-149">[![Transformation](./media/picture-transformation-design.jpg)](./media/picture-transformation-design.jpg)</span></span>

<span data-ttu-id="e1535-150">Die folgende Abbildung zeigt, wie die Umwandlung dieses Typs verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="e1535-150">The following illustration shows how a transformation of this type can be used.</span></span> <span data-ttu-id="e1535-151">In diesem Beispiel senden mehrere Formatkomponenten Text als Ausgabe an das generierende elektronische Dokument zur Laufzeit.</span><span class="sxs-lookup"><span data-stu-id="e1535-151">In this example, several format components send text as output to the generating electronic document at runtime.</span></span> <span data-ttu-id="e1535-152">Alle diese Formatkomponenten verweisen auf die Transformation **TrimmedString** nach Name.</span><span class="sxs-lookup"><span data-stu-id="e1535-152">All these format components refer to the **TrimmedString** transformation by name.</span></span>

<span data-ttu-id="e1535-153">[![Transformation, die verwendet wird](./media/picture-transformation-usage.jpg)](./media/picture-transformation-usage.jpg)</span><span class="sxs-lookup"><span data-stu-id="e1535-153">[![Transformation being used](./media/picture-transformation-usage.jpg)](./media/picture-transformation-usage.jpg)</span></span>

<span data-ttu-id="e1535-154">Wenn Formatkomponenten, wie beispielsweise die Komponente **partyName** in der vorausgehenden Abbildung, auf die Transformation **TrimmedString** verweisen, übermittelt die Transformation Text als Ausgabe an das generierende elektronische Dokument.</span><span class="sxs-lookup"><span data-stu-id="e1535-154">When format components, such as the **partyName** component in the preceding illustration, refer to the **TrimmedString** transformation, the transformation sends text as output to the generating electronic document.</span></span> <span data-ttu-id="e1535-155">Dieser Text umfasst keine vor- und nachgestellten Leerzeichen.</span><span class="sxs-lookup"><span data-stu-id="e1535-155">This text doesn't include leading and trailing spaces.</span></span>

<span data-ttu-id="e1535-156">Wenn Sie eine Formatierung haben, die einzeln angewendet werden muss, kann sie als einzelner Ausdruck der Bindung einer bestimmten Formatkomponente eingeführt werden.</span><span class="sxs-lookup"><span data-stu-id="e1535-156">If you have formatting that must be applied individually, you can introduce that formatting as an individual expression of a binding of a specific format component.</span></span> <span data-ttu-id="e1535-157">Die folgende Abbildung zeigt einen Ausdruck dieses Typs.</span><span class="sxs-lookup"><span data-stu-id="e1535-157">The following illustration shows an expression of this type.</span></span> <span data-ttu-id="e1535-158">In diesem Beispiel wird die Formatkomponente **partyType** an die Datenquelle über einen Ausdruck gebunden, der die eingehenden Daten aus dem Feld **Model.Company.RegistrationType** in der Datenquelle in Text in Großbuchstaben konvertiert.</span><span class="sxs-lookup"><span data-stu-id="e1535-158">In this example, the **partyType** format component is bound to the data source via an expression that converts incoming data from the **Model.Company.RegistrationType** field in the data source to uppercase text.</span></span> <span data-ttu-id="e1535-159">Der Ausdruck sendet dann diesen Text als Ausgabe an das elektronische Dokument.</span><span class="sxs-lookup"><span data-stu-id="e1535-159">The expression then sends that text as output to the electronic document.</span></span>

<span data-ttu-id="e1535-160">[![Anwenden der Formatierung auf eine einzelne Komponente](./media/picture-binding-with-formula.jpg)](./media/picture-binding-with-formula.jpg)</span><span class="sxs-lookup"><span data-stu-id="e1535-160">[![Applying formatting to an individual component](./media/picture-binding-with-formula.jpg)](./media/picture-binding-with-formula.jpg)</span></span>

## <a name="process-flow-control"></a><a name="Validation"></a><span data-ttu-id="e1535-161">Prozessflusssteuerung</span><span class="sxs-lookup"><span data-stu-id="e1535-161">Process flow control</span></span>

<span data-ttu-id="e1535-162">Der EB-Formeldesigner kann verwendet werden, um Ausdrücke zu definieren, die den Prozessfluss zum Generieren elektronischer Dokumenten steuern.</span><span class="sxs-lookup"><span data-stu-id="e1535-162">The ER formula designer can be used to define expressions that control the process flow of generating electronic documents.</span></span> <span data-ttu-id="e1535-163">Die folgenden Aufgaben können ausgeführt werden:</span><span class="sxs-lookup"><span data-stu-id="e1535-163">You can perform the following tasks:</span></span>

- <span data-ttu-id="e1535-164">Definiert Bedingungen, wenn ein Dokumentenerstellungsprozess gestoppt werden muss.</span><span class="sxs-lookup"><span data-stu-id="e1535-164">Define conditions that determine when a document creation process must be stopped.</span></span>
- <span data-ttu-id="e1535-165">Geben Sie Ausdrücke an, die entweder Nachrichten für den Benutzer über beendete Prozess erstellen oder Ausführungsprotokollnachrichten zum fortlaufenden Prozess der Berichterstellung auslösen.</span><span class="sxs-lookup"><span data-stu-id="e1535-165">Specify expressions that either create messages for the user about stopped processes or throw execution log messages about the continuing process of report generation.</span></span>
- <span data-ttu-id="e1535-166">Geben Sie die Dateinamen zum Generieren elektronischer Dokumente an, und steuern Sie die Bedingungen ihrer Erstellung.</span><span class="sxs-lookup"><span data-stu-id="e1535-166">Specify the file names of generating electronic documents, and control the conditions of their creation.</span></span>

<span data-ttu-id="e1535-167">Jede Regel der Prozessflusssteuerung ist als einzelne Prüfung entworfen.</span><span class="sxs-lookup"><span data-stu-id="e1535-167">Each rule of the process flow control is designed as an individual validation.</span></span> <span data-ttu-id="e1535-168">Die folgende Abbildung zeigt die Überprüfung dieses Typs.</span><span class="sxs-lookup"><span data-stu-id="e1535-168">The following illustration shows a validation of this type.</span></span> <span data-ttu-id="e1535-169">Ist hier eine Erläuterung der Konfiguration in diesem Beispiel:</span><span class="sxs-lookup"><span data-stu-id="e1535-169">Here is an explanation of the configuration in this example:</span></span>

- <span data-ttu-id="e1535-170">Die Überprüfung wird ausgewertet, wenn der **INSTAT** Knoten während der Generierung der XML-Datei erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="e1535-170">The validation is evaluated when the **INSTAT** node is created during generation of the XML file.</span></span>
- <span data-ttu-id="e1535-171">Wenn die Transaktionsliste leer ist, stoppt die Überprüfung den Ausführungsprozess und gibt **FALSCH** zurück.</span><span class="sxs-lookup"><span data-stu-id="e1535-171">If the list of transactions is empty, the validation stops the execution process and returns **FALSE**.</span></span>
- <span data-ttu-id="e1535-172">Die Prüfung gibt eine Fehlermeldung zurück, der den Text der Beschriftung SYS70894 in der bevorzugten Sprache des Benutzers umfasst.</span><span class="sxs-lookup"><span data-stu-id="e1535-172">The validation returns an error message that includes the text of label SYS70894 in the user's preferred language.</span></span>

<span data-ttu-id="e1535-173">[![Überprüfung](./media/picture-validation.jpg)](./media/picture-validation.jpg)</span><span class="sxs-lookup"><span data-stu-id="e1535-173">[![Validation](./media/picture-validation.jpg)](./media/picture-validation.jpg)</span></span>

<span data-ttu-id="e1535-174">Der EB-Formeldesigner wird auch verwendet, um einen Dateinamen für ein generierendes elektronisches Dokument zu generieren und den Dateierstellungsprozess zu steuern.</span><span class="sxs-lookup"><span data-stu-id="e1535-174">The ER formula designer can also be used to generate a file name for a generating electronic document and to control the file creation process.</span></span> <span data-ttu-id="e1535-175">Die folgende Abbildung zeigt das Design einer Prozessablaufsteuerung dieses Typs.</span><span class="sxs-lookup"><span data-stu-id="e1535-175">The following illustration shows the design of a process flow control of this type.</span></span> <span data-ttu-id="e1535-176">Ist hier eine Erläuterung der Konfiguration in diesem Beispiel:</span><span class="sxs-lookup"><span data-stu-id="e1535-176">Here is an explanation of the configuration in this example:</span></span>

- <span data-ttu-id="e1535-177">Die Liste der Datensätze aus der Datenquelle **model.Intrastat** wird in Chargen aufgeteilt.</span><span class="sxs-lookup"><span data-stu-id="e1535-177">The list of records from the **model.Intrastat** data source is divided into batches.</span></span> <span data-ttu-id="e1535-178">Jede Charge enthält bis zu 1.000 Datensätze.</span><span class="sxs-lookup"><span data-stu-id="e1535-178">Each batch contains up to 1,000 records.</span></span>
- <span data-ttu-id="e1535-179">Die Ausgabe erstellt eine ZIP-Datei, die eine Datei im XML-Format für jede Charge enthält, die erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="e1535-179">The output creates a zip file that contains one file in XML format for every batch that was created.</span></span>
- <span data-ttu-id="e1535-180">Ein Ausdruck gibt einen Dateinamen für das Generieren von elektronischen Dokumenten zurück, indem er den Dateinamen und die Dateinamenerweiterung verkettet.</span><span class="sxs-lookup"><span data-stu-id="e1535-180">An expression returns a file name for generating electronic documents by concatenating the file name and the file name extension.</span></span> <span data-ttu-id="e1535-181">Für die zweite und alle nachfolgenden Chargen enthält der Dateiname die Chargenkennung als Suffix.</span><span class="sxs-lookup"><span data-stu-id="e1535-181">For the second batch and all subsequent batches, the file name contains the batch ID as a suffix.</span></span>
- <span data-ttu-id="e1535-182">Ein Ausdruck aktiviert (durch Rückgabe von **WAHR**) den Dateierstellungsprozess für Chargen, die mindestens einen Datensatz beinhalten.</span><span class="sxs-lookup"><span data-stu-id="e1535-182">An expression enables (by returning **TRUE**) the file creation process for batches that contain at least one record.</span></span>

<span data-ttu-id="e1535-183">[![Prozessflusssteuerung](./media/picture-file-control.jpg)](./media/picture-file-control.jpg)</span><span class="sxs-lookup"><span data-stu-id="e1535-183">[![Process flow control](./media/picture-file-control.jpg)](./media/picture-file-control.jpg)</span></span>

## <a name="document-content-control"></a><a name="Enabled"></a><span data-ttu-id="e1535-184">Inhaltskontrolle von Dokumenten</span><span class="sxs-lookup"><span data-stu-id="e1535-184">Document content control</span></span>

<span data-ttu-id="e1535-185">Der EB-Formeldesigner kann verwendet werden, um Ausdrücke zu konfigurieren, die steuern, welche Daten zur Laufzeit in generierten elektronischen Dokumenten platziert werden.</span><span class="sxs-lookup"><span data-stu-id="e1535-185">The ER formula designer can be used to configure expressions that control what data will be put into generated electronic documents at runtime.</span></span> <span data-ttu-id="e1535-186">Die Ausdrücke können die Ausgabe bestimmter Elemente des Formats aktivieren oder deaktivieren, je nach Verarbeitungsdaten und konfigurierter Logik.</span><span class="sxs-lookup"><span data-stu-id="e1535-186">The expressions can enable or disable the output of specific elements of the format, depending on processing data and configured logic.</span></span> <span data-ttu-id="e1535-187">Diese Ausdrücke können für ein einzelnes Formatelement im Feld **Aktiviert** auf der Registerkarte **Zuordnung** auf der Seite **Arbeitsgangdesigner** als logische Bedingung eingegeben werden, die den Booleschen Wert zurückgibt:</span><span class="sxs-lookup"><span data-stu-id="e1535-187">These expressions can be entered for a single format element in the **Enabled** field on the **Mapping** tab of the **Operations designer** page.</span></span> <span data-ttu-id="e1535-188">Sie können die Ausdrücke als logische Bedingung eingeben, die einen *booleschen* Wert zurückgibt:</span><span class="sxs-lookup"><span data-stu-id="e1535-188">You can enter the expressions as a logic condition that returns a *Boolean* value:</span></span>

- <span data-ttu-id="e1535-189">Wenn die Bedingung **True** zurückgibt, wird das aktuelle Formatelement ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="e1535-189">If the condition returns **True**, the current format element is run.</span></span>
- <span data-ttu-id="e1535-190">Wenn die Bedingung **False** zurückgibt, wird das aktuelle Formatelement übersprungen.</span><span class="sxs-lookup"><span data-stu-id="e1535-190">If the condition returns **False**, the current format element is skipped.</span></span>

<span data-ttu-id="e1535-191">Die folgende Abbildung zeigt Ausdrücke dieses Typs.</span><span class="sxs-lookup"><span data-stu-id="e1535-191">The following illustration shows expressions of this type.</span></span> <span data-ttu-id="e1535-192">(Version 11.12.11 der Formatkonfiguration **ISO20022 Kreditübertragung (NO)**, die von Microsoft bereitgestellt wird, wird als Beispiel verwendet.) Die Formatkomponente **XMLHeader** ist so konfiguriert, dass sie die Struktur der Kreditübertragungsnachricht gemäß den XML-Nachrichtenstandards von ISO 20022 beschreibt.</span><span class="sxs-lookup"><span data-stu-id="e1535-192">(Version 11.12.11 of the **ISO20022 Credit transfer (NO)** format configuration that is provided by Microsoft is used as an example.) The **XMLHeader** format component is configured to describe the structure of the credit transfer message according to the ISO 20022 XML message standards.</span></span> <span data-ttu-id="e1535-193">Die **XMLHeader/CstmrCdtTrfInitn/PmtInf/CdtTrfTxInf/RmtInf/Ustrd Dokument** Formatkomponente wird konfiguriert, um das **Ustrd** XML-Element zur generierten Nachricht hinzuzufügen und die Überweisungsinformationen in einem unstrukturierten Format als Text der folgenden XML-Elemente zu platzieren:</span><span class="sxs-lookup"><span data-stu-id="e1535-193">The **XMLHeader/Document/CstmrCdtTrfInitn/PmtInf/CdtTrfTxInf/RmtInf/Ustrd** format component is configured to add the **Ustrd** XML element to the generated message and to put the remittance information in an unstructured format as text of the following XML elements:</span></span>

- <span data-ttu-id="e1535-194">Die Komponente **PaymentNotes** wird verwendet, um den Text von Zahlungshinweisen zu generieren.</span><span class="sxs-lookup"><span data-stu-id="e1535-194">The **PaymentNotes** component is used to generate the text of payment notes.</span></span>
- <span data-ttu-id="e1535-195">Die Komponente **DelimitedSequence** generiert kommagetrennte Rechnungsnummern aus, die zur Abrechnung der aktuellen Überweisung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e1535-195">The **DelimitedSequence** component generates comma-separated invoice numbers that are used to settle the current credit transfer.</span></span>

<span data-ttu-id="e1535-196">[![Komponenten PaymentNotes und DelimitedSequence](./media/GER-FormulaEditor-ControlContent-1.png)](./media/GER-FormulaEditor-ControlContent-1.png)</span><span class="sxs-lookup"><span data-stu-id="e1535-196">[![PaymentNotes and DelimitedSequence components](./media/GER-FormulaEditor-ControlContent-1.png)](./media/GER-FormulaEditor-ControlContent-1.png)</span></span>

> [!NOTE]
> <span data-ttu-id="e1535-197">Die Komponenten **PaymentNotes** und **DelimitedSequence** werden mithilfe eines Fragezeichens gekennzeichnet.</span><span class="sxs-lookup"><span data-stu-id="e1535-197">The **PaymentNotes** and **DelimitedSequence** components are labeled by using a question mark.</span></span> <span data-ttu-id="e1535-198">Ein Fragezeichen zeigt an, dass die Verwendung einer Komponente an Bedingungen geknüpft ist.</span><span class="sxs-lookup"><span data-stu-id="e1535-198">A question mark indicates that the use of a component is conditional.</span></span> <span data-ttu-id="e1535-199">In diesem Fall basiert die Verwendung der Komponenten auf den folgenden Kriterien:</span><span class="sxs-lookup"><span data-stu-id="e1535-199">In this case, use of the components is based on the following criteria:</span></span>
>
> - <span data-ttu-id="e1535-200">Der Ausdruck `@.PaymentsNotes <> ""`, der für die Komponente **PaymentNotes** (durch Zurückgeben von **TRUE**) definiert wird, ermöglicht, dass das **Ustrd** XML-Element mit dem Text zu Zahlungshinweisen ausgefüllt wird, wenn dieser Text für die aktuelle Überweisung nicht leer ist.</span><span class="sxs-lookup"><span data-stu-id="e1535-200">The `@.PaymentsNotes <> ""` expression that is defined for the **PaymentNotes** component enables (by returning **TRUE**) the **Ustrd** XML element to be filled with the text of payment notes, if that text isn't blank for the current credit transfer.</span></span>
>
>    <span data-ttu-id="e1535-201">[![Ausdruck für die PaymentNotes-Komponente](./media/GER-FormulaEditor-ControlContent-2.png)](./media/GER-FormulaEditor-ControlContent-2.png)</span><span class="sxs-lookup"><span data-stu-id="e1535-201">[![Expression for the PaymentNotes component](./media/GER-FormulaEditor-ControlContent-2.png)](./media/GER-FormulaEditor-ControlContent-2.png)</span></span>
>
> - <span data-ttu-id="e1535-202">Der für die Komponente **DelimitedSequence** definierte Ausdruck `@.PaymentsNotes = ""` ermöglicht (durch Zurückgeben von **TRUE**) die Auffüllung des **Ustrd**-XML-Elements mit einer durch Kommata getrennten Liste mit Rechnungsnummern, die zur Abrechnung der aktuellen Überweisung verwendet werden, wenn der Text dieser Zahlungshinweise für diese Überweisung leer ist.</span><span class="sxs-lookup"><span data-stu-id="e1535-202">The `@.PaymentsNotes = ""` expression that is defined for the **DelimitedSequence** component enables (by returning **TRUE**) the **Ustrd** XML element to be filled with a comma-separated list of the invoice numbers that are used to settle the current credit transfer, if the text of payment notes for that credit transfer is blank.</span></span>
>
>    <span data-ttu-id="e1535-203">[![Ausdruck für die DelimitedSequence-Komponente](./media/GER-FormulaEditor-ControlContent-3.png)](./media/GER-FormulaEditor-ControlContent-3.png)</span><span class="sxs-lookup"><span data-stu-id="e1535-203">[![Expression for the DelimitedSequence component](./media/GER-FormulaEditor-ControlContent-3.png)](./media/GER-FormulaEditor-ControlContent-3.png)</span></span>
> 
> <span data-ttu-id="e1535-204">Basierend auf dieser Einstellung, die für jede Debitorenzahlung generiert wird, enthält das **Ustrd** XML-Element entweder den Text von Verwendungszwecken oder, wenn dieser Text leer ist, eine durch Kommata getrennte Liste mit Rechnungsnummern, die zur Begleichung dieser Zahlung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e1535-204">Based on this setup, the message that is generated for each debtor payment, the **Ustrd** XML element, will contain either the text of payment notes or, when that text is blank, a comma-separated list of the invoice numbers that are used to settle the payment.</span></span>

## <a name="validation-of-configured-formulas"></a><a name="TestFormula"></a><span data-ttu-id="e1535-205">Validierung von konfigurierten Formeln</span><span class="sxs-lookup"><span data-stu-id="e1535-205">Validation of configured formulas</span></span>

<span data-ttu-id="e1535-206">Wählen Sie auf der Seite **Formel-Designer** die Option **Test** aus, um zu überprüfen, wie die konfigurierte Formel funktioniert.</span><span class="sxs-lookup"><span data-stu-id="e1535-206">On the **Formula designer** page, select **Test** to validate how the configured formula works.</span></span>

<span data-ttu-id="e1535-207">[![Wählen Sie Test, um eine Forumula zu validieren](./media/ER-FormulaTest-Start.png)](./media/ER-FormulaTest-Start.png)</span><span class="sxs-lookup"><span data-stu-id="e1535-207">[![Selecting Test to validate a forumula](./media/ER-FormulaTest-Start.png)](./media/ER-FormulaTest-Start.png)</span></span>

<span data-ttu-id="e1535-208">Wenn die Werte von Formelargumenten erforderlich sind, können Sie das Dialogfeld **Testausdruck** über die Seite **Formel-Designer** öffnen.</span><span class="sxs-lookup"><span data-stu-id="e1535-208">When the values of formula arguments are required, you can open the **Test expression** dialog box from the **Formula designer** page.</span></span> <span data-ttu-id="e1535-209">In den meisten Fällen müssen diese Argumente manuell definiert werden, da die konfigurierten Bindungen zur Entwurfszeit nicht ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="e1535-209">In most cases, these arguments must be manually defined, because the configured bindings aren't run at design time.</span></span> <span data-ttu-id="e1535-210">Die Registerkarte **Testergebnis** auf der Seite **Formel-Designer** zeigt das Ergebnis der Ausführung der konfigurierten Formel an.</span><span class="sxs-lookup"><span data-stu-id="e1535-210">The **Test result** tab on the **Formula designer** page shows the result from execution of the configured formula.</span></span>

<span data-ttu-id="e1535-211">Das folgende Beispiel zeigt, wie Sie die für die Außenhandelsdomäne konfigurierte Formel testen können, um sicherzustellen, dass der Intrastat-Warencode nur Ziffern enthält.</span><span class="sxs-lookup"><span data-stu-id="e1535-211">The following example shows how you can test the formula that is configured for the foreign trade domain to make sure that the Intrastat commodity code contains only digits.</span></span>

<span data-ttu-id="e1535-212">Wenn Sie diese Formel testen, können Sie das Dialogfeld **Testausdruck** verwenden, um den Wert des Intrastat-Warencodes zum Testen anzugeben.</span><span class="sxs-lookup"><span data-stu-id="e1535-212">When you test this formula, you can use the **Test expression** dialog box to specify the value of the Intrastat commodity code for testing.</span></span>

<span data-ttu-id="e1535-213">[![Angabe des Intrastat-Warencodes zum Testen](./media/ER-FormulaTest-Start-EnterArguments.png)](./media/ER-FormulaTest-Start-EnterArguments.png)</span><span class="sxs-lookup"><span data-stu-id="e1535-213">[![Specifying the Intrastat commodity code for testing](./media/ER-FormulaTest-Start-EnterArguments.png)](./media/ER-FormulaTest-Start-EnterArguments.png)</span></span>

<span data-ttu-id="e1535-214">Nachdem Sie den Intrastat-Warencode angegeben und **OK** ausgewählt haben, wird auf der Registerkarte **Testergebnis** auf der Seite **Formel-Designer** das Ergebnis der Ausführung der konfigurierten Formel angezeigt.</span><span class="sxs-lookup"><span data-stu-id="e1535-214">After you specify the Intrastat commodity code and select **OK**, the **Test result** tab on the **Formula designer** page shows the result of execution of the configured formula.</span></span> <span data-ttu-id="e1535-215">Sie können dann bewerten, ob das Ergebnis akzeptabel ist.</span><span class="sxs-lookup"><span data-stu-id="e1535-215">You can then evaluate whether the result is acceptable.</span></span> <span data-ttu-id="e1535-216">Wenn das Ergebnis nicht akzeptabel ist, können Sie die Formel aktualisieren und erneut testen.</span><span class="sxs-lookup"><span data-stu-id="e1535-216">If the result isn't acceptable, you can update the formula and test it again.</span></span>

<span data-ttu-id="e1535-217">[![Testergebnis](./media/ER-FormulaTest-Result.png)](./media/ER-FormulaTest-Result.png)</span><span class="sxs-lookup"><span data-stu-id="e1535-217">[![Test result](./media/ER-FormulaTest-Result.png)](./media/ER-FormulaTest-Result.png)</span></span>

<span data-ttu-id="e1535-218">Einige Formeln können zur Entwurfszeit nicht getestet werden.</span><span class="sxs-lookup"><span data-stu-id="e1535-218">Some formulas can't be tested at design time.</span></span> <span data-ttu-id="e1535-219">Beispielsweise kann eine Formel ein Ergebnis eines Datentyps zurückgeben, der auf der Registerkarte **Testergebnis** nicht angezeigt werden kann. In diesem Fall erhalten Sie eine Fehlermeldung, die besagt, dass die Formel nicht getestet werden kann.</span><span class="sxs-lookup"><span data-stu-id="e1535-219">For example, a formula might return a result of a data type that can't be shown on the **Test result** tab. In this case, you receive an error message that states that the formula can't be tested.</span></span>

<span data-ttu-id="e1535-220">[![Fehlermeldung](./media/ER-FormulaTest-Error.png)](./media/ER-FormulaTest-Error.png)</span><span class="sxs-lookup"><span data-stu-id="e1535-220">[![Error message](./media/ER-FormulaTest-Error.png)](./media/ER-FormulaTest-Error.png)</span></span>

## <a name="additional-resources"></a><span data-ttu-id="e1535-221">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="e1535-221">Additional resources</span></span>

- [<span data-ttu-id="e1535-222">Überblick über die elektronische Berichterstellung</span><span class="sxs-lookup"><span data-stu-id="e1535-222">Electronic Reporting overview</span></span>](general-electronic-reporting.md)
- [<span data-ttu-id="e1535-223">Formelsprache in der elektronischen Berichterstellung</span><span class="sxs-lookup"><span data-stu-id="e1535-223">Electronic reporting formula language</span></span>](er-formula-language.md)
