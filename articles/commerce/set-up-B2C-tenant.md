---
title: Einen B2C Mandanten in Commerce einrichten
description: In diesem Thema wird beschrieben, wie Sie Ihren Azure Active Directory (Azure AD) Business-to-Consumer-Mandanten (B2C) für die Authentifizierung von Benutzerseiten in Dynamics 365 Commerce einrichten.
author: BrianShook
ms.date: 03/17/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: retail
ms.author: brshoo
ms.search.validFrom: 2020-02-13
ms.dyn365.ops.version: ''
ms.openlocfilehash: 84b3a3630d3809c05f87242784207c3c4af160ce
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 05/11/2021
ms.locfileid: "6018579"
---
# <a name="set-up-a-b2c-tenant-in-commerce"></a><span data-ttu-id="168e3-103">Einen B2C Mandanten in Commerce einrichten</span><span class="sxs-lookup"><span data-stu-id="168e3-103">Set up a B2C tenant in Commerce</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="168e3-104">In diesem Thema wird beschrieben, wie Sie Ihren Azure Active Directory (Azure AD) Business-to-Consumer-Mandanten (B2C) für die Authentifizierung von Benutzerseiten in Dynamics 365 Commerce einrichten.</span><span class="sxs-lookup"><span data-stu-id="168e3-104">This topic describes how to set up your Azure Active Directory (Azure AD) business-to-consumer (B2C) tenants for user site authentication in Dynamics 365 Commerce.</span></span>

<span data-ttu-id="168e3-105">Dynamics 365 Commerce Verwendet Azure AD B2C zur Unterstützung von Benutzeranmeldeinformationen und Authentifizierungsabläufen.</span><span class="sxs-lookup"><span data-stu-id="168e3-105">Dynamics 365 Commerce uses Azure AD B2C to support user credential and authentication flows.</span></span> <span data-ttu-id="168e3-106">Ein Benutzer kann sich über diese Flows anmelden, sich anmelden und sein Kennwort zurücksetzen.</span><span class="sxs-lookup"><span data-stu-id="168e3-106">A user can sign up, sign in, and reset their password through these flows.</span></span> <span data-ttu-id="168e3-107">Azure AD B2C speichert vertrauliche Benutzerauthentifizierungsinformationen wie Benutzername und Kennwort.</span><span class="sxs-lookup"><span data-stu-id="168e3-107">Azure AD B2C stores sensitive user authentication information, such as username and password.</span></span> <span data-ttu-id="168e3-108">Der Benutzerdatensatz im B2C-Mandanten speichert entweder einen lokalen B2C-Kontodatensatz oder einen B2C-Datensatz für Anbieter sozialer Identität.</span><span class="sxs-lookup"><span data-stu-id="168e3-108">The user record in the B2C tenant will store either a B2C local account record or a B2C social identity provider record.</span></span> <span data-ttu-id="168e3-109">Diese B2C-Datensätze werden mit dem Kundendatensatz in der Commerce-Umgebung verknüpft.</span><span class="sxs-lookup"><span data-stu-id="168e3-109">These B2C records will link back to the customer record in the Commerce environment.</span></span>

> [!WARNING] 
> <span data-ttu-id="168e3-110">Azure AD B2C stellt alte (veraltete) Benutzerströme bis zum 1. August 2021 ein.</span><span class="sxs-lookup"><span data-stu-id="168e3-110">Azure AD B2C will retire old (legacy) user flows by August 1, 2021.</span></span> <span data-ttu-id="168e3-111">Daher sollten Sie planen, Ihre Benutzerflows auf die neue empfohlene Version zu migrieren.</span><span class="sxs-lookup"><span data-stu-id="168e3-111">Therefore, you should plan to migrate your user flows to the new recommended version.</span></span> <span data-ttu-id="168e3-112">Die neue Version bietet Featureparität und neue Funktionen.</span><span class="sxs-lookup"><span data-stu-id="168e3-112">The new version provides feature parity and new features.</span></span> <span data-ttu-id="168e3-113">Die Modulbibliothek für die Commerce-Version 10.0.15 oder höher sollte mit den empfohlenen B2C-Benutzerflows verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="168e3-113">The module library for Commerce version 10.0.15 or higher should be used with the recommended B2C user flows.</span></span> <span data-ttu-id="168e3-114">Weitere Informationen finden Sie unter [Benutzerflows in Azure Active Directory B2C](/azure/active-directory-b2c/user-flow-overview).</span><span class="sxs-lookup"><span data-stu-id="168e3-114">For more information, see [User flows in Azure Active Directory B2C](/azure/active-directory-b2c/user-flow-overview).</span></span>
 
 > [!NOTE]
 > <span data-ttu-id="168e3-115">Commerce-Evaluierungsumgebungen sind zu Demonstrationszwecken mit einem vorinstallierten Azure AD B2C-Mandanten ausgestattet.</span><span class="sxs-lookup"><span data-stu-id="168e3-115">Commerce evaluation environments come with a pre-loaded Azure AD B2C tenant for demonstration purposes.</span></span> <span data-ttu-id="168e3-116">Für Evaluierungsumgebungen müssen Sie Ihren eigenen Azure AD B2C-Mandanten nicht wie unten beschrieben herunterladen.</span><span class="sxs-lookup"><span data-stu-id="168e3-116">Loading your own Azure AD B2C tenant using the steps below is not required for evaluation environments.</span></span>

## <a name="create-or-link-to-an-existing-aad-b2c-tenant-in-the-azure-portal"></a><span data-ttu-id="168e3-117">Erstellen oder Verknüpfen eines vorhandenen AAD B2C-Mandanten im Azure-Portal</span><span class="sxs-lookup"><span data-stu-id="168e3-117">Create or link to an existing AAD B2C tenant in the Azure portal</span></span>

1. <span data-ttu-id="168e3-118">Melden Sie sich beim [Azure-Portal](https://portal.azure.com/) an.</span><span class="sxs-lookup"><span data-stu-id="168e3-118">Sign in to the [Azure portal](https://portal.azure.com/).</span></span>
1. <span data-ttu-id="168e3-119">Wählen Sie im Azure-Portalmenü die Option aus **Erstellen Sie eine Ressource**.</span><span class="sxs-lookup"><span data-stu-id="168e3-119">From the Azure portal menu, select **Create a resource**.</span></span> <span data-ttu-id="168e3-120">Stellen Sie sicher, dass Sie das Abonnement und das Verzeichnis verwenden, die mit Ihrer Commerce-Umgebung verbunden werden.</span><span class="sxs-lookup"><span data-stu-id="168e3-120">Be sure to use the subscription and directory that will be connected with your Commerce environment.</span></span>

    ![Erstellen Sie eine Ressource in Azure Portal](./media/B2CImage_1.png)

1. <span data-ttu-id="168e3-122">Gehe zu **Identität \> Azure Active Directory B2C**.</span><span class="sxs-lookup"><span data-stu-id="168e3-122">Go to **Identity \> Azure Active Directory B2C**.</span></span>
1. <span data-ttu-id="168e3-123">Einmal auf der Seite **Erstellen Sie einen neuen B2C-Mandanten oder einen Link zu einem vorhandenen Mandanten** verwenden Sie auf der folgenden Seite eine der folgenden Optionen, die den Anforderungen Ihres Unternehmens am besten entspricht:</span><span class="sxs-lookup"><span data-stu-id="168e3-123">Once on the **Create New B2C Tenant or Link to existing Tenant** page, use one of the options below that best suits your company's needs:</span></span>

    - <span data-ttu-id="168e3-124">**Erstellen Sie einen neuen Azure AD B2C Mandanten**: Verwenden Sie diese Option, um einen neuen AAD B2C-Mandanten zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="168e3-124">**Create a new Azure AD B2C Tenant**: Use this option to create a new AAD B2C tenant.</span></span>
        1. <span data-ttu-id="168e3-125">Wählen Sie **Neuen Azure AD B2C Mandant erstellen**.</span><span class="sxs-lookup"><span data-stu-id="168e3-125">Select **Create a new Azure AD B2C Tenant**.</span></span>
        1. <span data-ttu-id="168e3-126">Unter **Name der Organisation** geben Sie den Namen der Organisation ein.</span><span class="sxs-lookup"><span data-stu-id="168e3-126">Under **Organization name**, enter the organization name.</span></span>
        1. <span data-ttu-id="168e3-127">Unter **Anfänglicher Domainname** geben Sie den ursprünglichen Domainnamen ein.</span><span class="sxs-lookup"><span data-stu-id="168e3-127">Under **Initial domain name**, enter the initial domain name.</span></span>
        1. <span data-ttu-id="168e3-128">Für **Land oder Region** wählen Sie das Land oder die Region aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-128">For **Country or region**, select the country or region.</span></span>
        1. <span data-ttu-id="168e3-129">Wählen Sie **Erstellen**, um den Mieter zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="168e3-129">Select **Create** to create the tenant.</span></span>

     ![Einen neuen Azure AD Mandant erstellen](./media/B2CImage_2.png)

     - <span data-ttu-id="168e3-131">**Um einen vorhandenen Azure AD B2C-Mandant für das Azure-Abonnement** zu verknüpfen: Verwenden Sie diese Option, wenn Sie bereits einen Azure AD B2C-Mandant haben, zu dem Sie einen Link erstellen möchten.</span><span class="sxs-lookup"><span data-stu-id="168e3-131">**Link an existing Azure AD B2C Tenant to my Azure subscription**: Use this option if you already have an Azure AD B2C tenant you want to link to.</span></span>
        1. <span data-ttu-id="168e3-132">Wählen Sie **Einen vorhandenen Azure AD B2C-Mandant für das Azure-Abonnement** verknüpfen.</span><span class="sxs-lookup"><span data-stu-id="168e3-132">Select **Link an existing Azure AD B2C Tenant to my Azure subscription**.</span></span>
        1. <span data-ttu-id="168e3-133">Für **Azure AD B2C Mandant** wählen Sie den entsprechenden B2C-Mandanten aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-133">For **Azure AD B2C Tenant**, select the appropriate B2C tenant.</span></span> <span data-ttu-id="168e3-134">Wenn im Auswahlfeld die Meldung Keine berechtigten B2C-Mandanten gefunden angezeigt wird, haben Sie keinen vorhandenen berechtigten B2C-Mandanten und müssen einen neuen erstellen.</span><span class="sxs-lookup"><span data-stu-id="168e3-134">If the message "No eligible B2C Tenants found" appears in the selection box, you do not have an existing eligible B2C tenant and will need to create a new one.</span></span>
        1. <span data-ttu-id="168e3-135">Für **Ressourcengruppe** wählen Sie **Neu erstellen**.</span><span class="sxs-lookup"><span data-stu-id="168e3-135">For **Resource group**, select **Create new**.</span></span> <span data-ttu-id="168e3-136">Geben Sie einen **Namen** für die Ressourcengruppe ein, die den Mandanten enthalten soll, und wählen Sie die Option **Standort der Ressourcengruppe** und dann **Erstellen**.</span><span class="sxs-lookup"><span data-stu-id="168e3-136">Enter a **Name** for the resource group that will contain the tenant, select the **Resource group location**, and then select **Create**.</span></span>

    ![Verbinden Sie einen Azure AD B2C-Mandant für das Azure-Abonnement](./media/B2CImage_3.png)

1. <span data-ttu-id="168e3-138">Sobald das Neue Azure AD B2C-Verzeichnis erstellt wird (dies kann einige Momente dauern), wird im Dashboard ein Link zum neuen Verzeichnis angezeigt.</span><span class="sxs-lookup"><span data-stu-id="168e3-138">Once the new Azure AD B2C directory is created (this may take a few moments), a link to the new directory will appear on the dashboard.</span></span> <span data-ttu-id="168e3-139">Über diesen Link gelangen Sie zur Seite Willkommen bei Azure Active Directory B2C.</span><span class="sxs-lookup"><span data-stu-id="168e3-139">This link will direct you to the "Welcome to Azure Active Directory B2C" page.</span></span>

    ![Link zum neuen AAD-Verzeichnis](./media/B2CImage_4.png)

> [!NOTE]
> <span data-ttu-id="168e3-141">Wenn Sie mehrere Abonnements in Ihrem Azure-Konto haben oder den B2C-Mandanten ohne Verknüpfung mit einem aktiven Abonnement eingerichtet haben, wird eine Anzeige **Fehlerbehebung** Sie darauf hinweisen, den Mandant mit einem Abonnement zu verknüpfen.</span><span class="sxs-lookup"><span data-stu-id="168e3-141">If you have multiple subscriptions within your Azure account or have set up the B2C tenant without linking to an active subscription, a **Troubleshoot** banner will direct you to link the tenant to a subscription.</span></span> <span data-ttu-id="168e3-142">Wählen Sie die Meldung zur Fehlerbehebung aus und befolgen Sie die Anweisungen, um das Abonnementproblem zu beheben.</span><span class="sxs-lookup"><span data-stu-id="168e3-142">Select the troubleshooting message and follow the instructions to resolve the subscription issue.</span></span>

<span data-ttu-id="168e3-143">Das folgende Bild zeigt ein Beispiel für eine Anzeige Azure AD B2C **Fehlerbehebung**.</span><span class="sxs-lookup"><span data-stu-id="168e3-143">The following image shows an example of an Azure AD B2C **Troubleshoot** banner.</span></span>

![Warnung: Das angezeigte Verzeichnis hat kein aktives Abonnement](./media/B2CImage_5.png)

## <a name="create-the-b2c-application"></a><span data-ttu-id="168e3-145">B2C Anwendungen erstellen</span><span class="sxs-lookup"><span data-stu-id="168e3-145">Create the B2C application</span></span>

<span data-ttu-id="168e3-146">Sobald der B2C-Mandant erstellt wurde, erstellen Sie eine B2C-Anwendung innerhalb Ihres neuen Azure AD BSC-Mandanten, um mit den Commerce-Aktionen zu interagieren.</span><span class="sxs-lookup"><span data-stu-id="168e3-146">Once the B2C tenant has been created, you will create a B2C application within your new Azure AD B2C tenant to interact with Commerce.</span></span>

<span data-ttu-id="168e3-147">Führen Sie folgende Schritte aus, um eine B2C-Anwendung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="168e3-147">To create the B2C application, follow these steps.</span></span>

1. <span data-ttu-id="168e3-148">Wählen Sie im Azure-Portal zu **App-Registrierungen** und wählen Sie dann **Neue Registrierung** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-148">In the Azure portal, select **App registrations**, and then select **New registration**.</span></span>
1. <span data-ttu-id="168e3-149">Geben Sie unter **Name** den Namen für diese Azure AD B2C-Anwendung ein.</span><span class="sxs-lookup"><span data-stu-id="168e3-149">Under **Name**, enter the name to give this Azure AD B2C application.</span></span>
1. <span data-ttu-id="168e3-150">Wählen Sie unter **Unterstützte Kontotypen** **Konten in einem beliebigen Identitätsanbieter oder Organisationsverzeichnis (zur Authentifizierung von Benutzern mit Benutzerflows)** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-150">Under **Supported account types**, select **Accounts in any identity provider or organizational directory (for authenticating users with user flows)**.</span></span>
1. <span data-ttu-id="168e3-151">Geben Sie bei **URI umleiten** Ihre dedizierten Antwort-URLs als Typ **Web** ein.</span><span class="sxs-lookup"><span data-stu-id="168e3-151">For **Redirect URI**, enter your dedicated reply URLs as type **Web**.</span></span> <span data-ttu-id="168e3-152">Unter [Antwort-URLs](#reply-urls) unten finden Sie Informationen zu Antwort-URLs und deren Formatierung.</span><span class="sxs-lookup"><span data-stu-id="168e3-152">For information on reply URLs and how to format them, see [Reply URLs](#reply-urls) below.</span></span>
1. <span data-ttu-id="168e3-153">Wählen Sie unter **Berechtigungen** **Administratoreinwilligung zu OpenID- und Offline-Zugriffsberechtigungen erteilen**.</span><span class="sxs-lookup"><span data-stu-id="168e3-153">For **Permissions**, select **Grant admin consent to openid and offline_access permissions**.</span></span>
1. <span data-ttu-id="168e3-154">Wählen Sie **Registrieren** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-154">Select **Register**.</span></span>
1. <span data-ttu-id="168e3-155">Wählen Sie die neu erstellte Anwendung aus und navigieren Sie zum Menü **Authentifizierung**.</span><span class="sxs-lookup"><span data-stu-id="168e3-155">Select the newly-created application and navigate to the **Authentication** menu.</span></span> <span data-ttu-id="168e3-156">Hier können Sie bei Bedarf zusätzliche **URIs umleiten** hinzufügen (jetzt oder später).</span><span class="sxs-lookup"><span data-stu-id="168e3-156">Here you can add additional **Redirect URIs** if needed (now or later).</span></span> <span data-ttu-id="168e3-157">Fahren Sie mit dem nächsten Schritt fort, falls dies derzeit nicht benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="168e3-157">Continue to the next step if not currently needed.</span></span>
1. <span data-ttu-id="168e3-158">Wählen Sie unter **Implizite Genehmigung** beide **Zugriffstoken** und **ID-Token** aus, um sie für die Anwendung zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="168e3-158">Under **Implicit grant**, select both **Access tokens** and **ID tokens** to enable them for the application.</span></span> <span data-ttu-id="168e3-159">Wählen Sie **Speichern** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-159">Select **Save**.</span></span>
1. <span data-ttu-id="168e3-160">Gehen Sie zum Menü **Überblick** des Azure-Portals und kopieren Sie die **Anwendungs-ID (Client-ID)**.</span><span class="sxs-lookup"><span data-stu-id="168e3-160">Go to the **Overview** menu of the Azure portal and copy the **Application (client) ID**.</span></span> <span data-ttu-id="168e3-161">Notieren Sie diese ID für spätere Einrichtungsschritte (später als **Client-GUID** bezeichnet).</span><span class="sxs-lookup"><span data-stu-id="168e3-161">Note this ID for later setup steps (referenced later as the **Client GUID**).</span></span>

<span data-ttu-id="168e3-162">Weitere Informationen zu App-Registrierungen in Azure AD B2C finden Sie unter [Neue Benutzeroberfläche für App-Registrierungen in Azure Active Directory B2C](/azure/active-directory-b2c/app-registrations-training-guide)</span><span class="sxs-lookup"><span data-stu-id="168e3-162">For additional reference on App Registrations in Azure AD B2C, please see [The new App registrations experience for Azure Active Directory B2C](/azure/active-directory-b2c/app-registrations-training-guide)</span></span>

### <a name="reply-urls"></a><span data-ttu-id="168e3-163">Antwort-URLs</span><span class="sxs-lookup"><span data-stu-id="168e3-163">Reply URLs</span></span>

<span data-ttu-id="168e3-164">Antwort-URLs sind wichtig, da sie eine Zulassungsliste der zurückgegebenen Domains bereitstellen, wenn Ihre Website Azure AD B2C zur Authentifizierung eines Benutzers aufruft.</span><span class="sxs-lookup"><span data-stu-id="168e3-164">Reply URLs are important as they provide an allow list of the return domains when your site calls Azure AD B2C to authenticate a user.</span></span> <span data-ttu-id="168e3-165">Dies ermöglicht die Rückkehr des authentifizierten Benutzers zur Domäne, bei der er sich anmeldet (Ihre Website-Domäne).</span><span class="sxs-lookup"><span data-stu-id="168e3-165">This permits the return of the authenticated user back to the domain from which they are signing into (your site domain).</span></span> 

<span data-ttu-id="168e3-166">Im Feld **Antwort-URL** auf dem Bildschirm **Azure AD B2C – Anwendungen \> Neue Anwendung** müssen Sie separate Zeilen für Ihre Site-Domain und (sobald Ihre Umgebung bereitgestellt ist) die von Commerce generierte URL hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="168e3-166">In the **Reply URL** box on the **Azure AD B2c - Applications \> New application** screen, you need to add separate lines for both your site domain and (once your environment is provisioned) the Commerce-generated URL.</span></span> <span data-ttu-id="168e3-167">Diese URLs müssen immer ein gültiges URL-Format verwenden und dürfen nur Basis-URLs sein (keine nachgestellten Schrägstriche oder Pfade).</span><span class="sxs-lookup"><span data-stu-id="168e3-167">These URLs must always use a valid URL format and must be base URLs only (no trailing forward slashes or paths).</span></span> <span data-ttu-id="168e3-168">Die Zeichenfolge ``/_msdyn365/authresp`` muss dann wie in den folgenden Beispielen an die Basis-URLs angehängt werden.</span><span class="sxs-lookup"><span data-stu-id="168e3-168">The string ``/_msdyn365/authresp`` then needs to be appended to the base URLs, as in the following examples.</span></span>

- <span data-ttu-id="168e3-169">``https://www.fabrikam.com/_msdyn365/authresp`` (Die Domäne sollte vollständig mit der E-Commerce-Domäne übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="168e3-169">``https://www.fabrikam.com/_msdyn365/authresp`` (The domain should match the e-commerce domain completely.</span></span> <span data-ttu-id="168e3-170">Wenn Sie mehrere Domänen haben, müssen Sie diese URL für jede Domäne hinzufügen.)</span><span class="sxs-lookup"><span data-stu-id="168e3-170">If you have multiple domains, you need to add this URL for each domain.)</span></span>
- ``https://fabrikam-prod.commerce.dynamics.com/_msdyn365/authresp``

## <a name="create-user-flow-policies"></a><span data-ttu-id="168e3-171">Benutzerflussrichtlinien erstellen</span><span class="sxs-lookup"><span data-stu-id="168e3-171">Create user flow policies</span></span>

<span data-ttu-id="168e3-172">Benutzerflüsse sind die Richtlinien die Azure AD B2C verwendet, um eine sichere Anmeldung bereitzustellen, sich anzumelden, das Profil zu bearbeiten und für die Benutzererfahrung für vergessene Kennwörter.</span><span class="sxs-lookup"><span data-stu-id="168e3-172">User flows are the policies Azure AD B2C uses to provide secure sign in, sign up, edit profile, and forget password user experiences.</span></span> <span data-ttu-id="168e3-173">Dynamics 365 Commerce verwendet diesen Fluss, um die Richtlinienaktionen für die Interaktion mit dem Azure AD B2C-Mandant auszuführen.</span><span class="sxs-lookup"><span data-stu-id="168e3-173">Dynamics 365 Commerce uses these flows to perform the policy actions to interact with the Azure AD B2C tenant.</span></span> <span data-ttu-id="168e3-174">Wenn ein Benutzer mit diesen Richtlinien interagiert, werden sie an den Azure AD B2C-Mandant weitergeleitet, um die Aktionen auszuführen.</span><span class="sxs-lookup"><span data-stu-id="168e3-174">When a user interacts with these policies, they are redirected to the Azure AD B2C tenant to perform the actions.</span></span>

<span data-ttu-id="168e3-175">Azure AD B2C bietet drei grundlegende Benutzerflusstypen:</span><span class="sxs-lookup"><span data-stu-id="168e3-175">Azure AD B2C provides three basic user flow types:</span></span>
- <span data-ttu-id="168e3-176">Registrieren Sie sich und melden Sie sich an</span><span class="sxs-lookup"><span data-stu-id="168e3-176">Sign up and sign in</span></span>
- <span data-ttu-id="168e3-177">Profilbearbeitung</span><span class="sxs-lookup"><span data-stu-id="168e3-177">Profile editing</span></span>
- <span data-ttu-id="168e3-178">Kennwort zurücksetzen</span><span class="sxs-lookup"><span data-stu-id="168e3-178">Password reset</span></span>

<span data-ttu-id="168e3-179">Sie können die Standardbenutzerflüsse verwenden, die von Azure AD bereitgestellt werden, die eine Seite anzeigen, die von AAD B2C gehostete wird.</span><span class="sxs-lookup"><span data-stu-id="168e3-179">You can choose to use the default user flows provided by Azure AD, which will display a page hosted by AAD B2C.</span></span> <span data-ttu-id="168e3-180">Alternativ können Sie eine HTML-Seite erstellen, um das Erscheinungsbild dieser Benutzerflusserfahrungen zu steuern.</span><span class="sxs-lookup"><span data-stu-id="168e3-180">Alternately, you can create an HTML page to control the look and feel of these user flow experiences.</span></span> 

<span data-ttu-id="168e3-181">Um die Benutzerrichtlinienseiten mit in Dynamics 365 Commerce erstellten Seiten anzupassen, gehen Sie zu [Richten Sie benutzerdefinierte Seiten für Benutzeranmeldungen ein](custom-pages-user-logins.md).</span><span class="sxs-lookup"><span data-stu-id="168e3-181">To customize the user policy pages with pages built in Dynamics 365 Commerce, see [Set up custom pages for user logins](custom-pages-user-logins.md).</span></span> <span data-ttu-id="168e3-182">Weitere Informationen finden Sie unter [Passen Sie die Benutzeroberfläche für Benutzererfahrungen an in Azure Active Directory B2C](/azure/active-directory-b2c/tutorial-customize-ui).</span><span class="sxs-lookup"><span data-stu-id="168e3-182">For additional information, see [Customize the interface of user experiences in Azure Active Directory B2C](/azure/active-directory-b2c/tutorial-customize-ui).</span></span>

### <a name="create-a-sign-up-and-sign-in-user-flow-policy"></a><span data-ttu-id="168e3-183">Erstellen Sie eine Registrierungs und Anmelde-Benutzerflussrichtlinie</span><span class="sxs-lookup"><span data-stu-id="168e3-183">Create a sign up and sign in user flow policy</span></span>

<span data-ttu-id="168e3-184">Um eine Registrierungs- und Anmeldebenutzerflussrichtlinie zu erstellen, führen Sie die folgenden Schritte aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-184">To create a sign up and sign in user flow policy, follow these steps.</span></span>

1. <span data-ttu-id="168e3-185">Wählen Sie im Azure-Portal die Option **Benutzerflüsse (Richtlinien)** im linken Navigationsbereich.</span><span class="sxs-lookup"><span data-stu-id="168e3-185">In the Azure portal, select **User flows (policies)** in the left navigation pane.</span></span>
1. <span data-ttu-id="168e3-186">Auf der Seite **Azure AD B2C – Benutzerfluss (Richtlinien)** wählen Sie **Neuer Benutzerfluss**.</span><span class="sxs-lookup"><span data-stu-id="168e3-186">On the **Azure AD B2C – User flows (policies)** page, select **New User Flow**.</span></span>
1. <span data-ttu-id="168e3-187">Wählen Sie die **Registrieren und Anmelden**-Richtlinie und dann die Version **Empfohlen** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-187">Select the **Sign up and sign in** policy, and then select the **Recommended** version.</span></span>
1. <span data-ttu-id="168e3-188">Geben Sie unter **Name** einen Richtliniennamen ein.</span><span class="sxs-lookup"><span data-stu-id="168e3-188">Under **Name**, enter a policy name.</span></span> <span data-ttu-id="168e3-189">Dieser Name wird anschließend mit einem vom Portal zugewiesenen Präfix angezeigt (z. B. B2C_1_).</span><span class="sxs-lookup"><span data-stu-id="168e3-189">This name will display afterwards with a prefix the portal assigns (for example, "B2C_1_").</span></span>
1. <span data-ttu-id="168e3-190">Unter **Identitätsanbieter** wählen Sie das entsprechende Kontrollkästchen.</span><span class="sxs-lookup"><span data-stu-id="168e3-190">Under **Identity providers**, select the appropriate check box.</span></span>
1. <span data-ttu-id="168e3-191">Unter **Multifaktor-Authentifizierung** wählen Sie die für Ihr Unternehmen geeignete Auswahl.</span><span class="sxs-lookup"><span data-stu-id="168e3-191">Under **Multifactor Authentication**, select the appropriate choice for your company.</span></span> 
1. <span data-ttu-id="168e3-192">Unter **Benutzerattribute und Ansprüche** wählen Sie Optionen aus, um Attribute zu sammeln oder Ansprüche zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="168e3-192">Under **User attributes and claims**, select options to collect attributes or return claims as appropriate.</span></span> <span data-ttu-id="168e3-193">Für den Handel sind die folgenden Standardoptionen erforderlich:</span><span class="sxs-lookup"><span data-stu-id="168e3-193">Commerce requires the following default options:</span></span>

    | <span data-ttu-id="168e3-194">**Attribute sammeln**</span><span class="sxs-lookup"><span data-stu-id="168e3-194">**Collect  attribute**</span></span> | <span data-ttu-id="168e3-195">**Rückgabeanspruch**</span><span class="sxs-lookup"><span data-stu-id="168e3-195">**Return  claim**</span></span> |
    | ---------------------- | ----------------- |
    | <span data-ttu-id="168e3-196">E-Mail-Adresse</span><span class="sxs-lookup"><span data-stu-id="168e3-196">Email Address</span></span>          | <span data-ttu-id="168e3-197">E-Mail-Adressen</span><span class="sxs-lookup"><span data-stu-id="168e3-197">Email Addresses</span></span>   |
    | <span data-ttu-id="168e3-198">Vorname</span><span class="sxs-lookup"><span data-stu-id="168e3-198">Given Name</span></span>             | <span data-ttu-id="168e3-199">Vorname</span><span class="sxs-lookup"><span data-stu-id="168e3-199">Given Name</span></span>        |
    |                        | <span data-ttu-id="168e3-200">Identitätsanbieter</span><span class="sxs-lookup"><span data-stu-id="168e3-200">Identity Provider</span></span> |
    | <span data-ttu-id="168e3-201">Nachname</span><span class="sxs-lookup"><span data-stu-id="168e3-201">Surname</span></span>                | <span data-ttu-id="168e3-202">Nachname</span><span class="sxs-lookup"><span data-stu-id="168e3-202">Surname</span></span>           |
    |                        | <span data-ttu-id="168e3-203">Objekt-ID des Benutzers</span><span class="sxs-lookup"><span data-stu-id="168e3-203">User’s Object ID</span></span>  |

1. <span data-ttu-id="168e3-204">Wählen Sie **Erstellen** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-204">Select **Create**.</span></span>

<span data-ttu-id="168e3-205">Das folgende Bild ist ein Beispiel für die Azure AD B2C-Registrierung und Anmeldung des Benutzerflusses.</span><span class="sxs-lookup"><span data-stu-id="168e3-205">The following image is an example of the Azure AD B2C sign up and sign in user flow.</span></span>

![Konfigurieren der Richtlinieneinstellungen für Registrieren und Anmelden](./media/B2CImage_11.png)

<span data-ttu-id="168e3-207">Das folgende Bild zeigt die Option **Führen Sie den Benutzerfluss aus** in der Azure AD B2C-Anmeldung und Anmeldung des Benutzerflusses.</span><span class="sxs-lookup"><span data-stu-id="168e3-207">The following image shows the **Run user flow** option in the Azure AD B2C sign up and sign in user flow.</span></span>

![Führen Sie die Benutzerflussoption im Richtlinienfluss aus](./media/B2CImage_23.png)
   
### <a name="create-a-profile-editing-user-flow-policy"></a><span data-ttu-id="168e3-209">Erstellen Sie eine Benutzerflussrichtlinie zur Profilbearbeitung</span><span class="sxs-lookup"><span data-stu-id="168e3-209">Create a profile editing user flow policy</span></span>

<span data-ttu-id="168e3-210">Um eine Profilbearbeitungs-Benutzerflussrichtlinie zu erstellen, führen Sie die folgenden Schritte aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-210">To create a profile editing user flow policy, follow these steps.</span></span>

1. <span data-ttu-id="168e3-211">Wählen Sie im Azure-Portal die Option **Benutzerflüsse (Richtlinien)** im linken Navigationsbereich.</span><span class="sxs-lookup"><span data-stu-id="168e3-211">In the Azure portal, select **User flows (policies)** in the left navigation pane.</span></span>
1. <span data-ttu-id="168e3-212">Auf der Seite **Azure AD B2C – Benutzerfluss (Richtlinien)** wählen Sie **Neuer Benutzerfluss**.</span><span class="sxs-lookup"><span data-stu-id="168e3-212">On the **Azure AD B2C – User flows (policies)** page, select **New User Flow**.</span></span>
1. <span data-ttu-id="168e3-213">Wählen Sie **Profilbearbeitung** und dann die Version **Empfohlen** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-213">Select **Profile editing**, and then select the **Recommended** version.</span></span>
1. <span data-ttu-id="168e3-214">Unter **Name** geben Sie den Benutzerfluss für die Profilbearbeitung ein.</span><span class="sxs-lookup"><span data-stu-id="168e3-214">Under **Name**, enter the profile editing user flow.</span></span> <span data-ttu-id="168e3-215">Dieser Name wird anschließend mit einem vom Portal zugewiesenen Präfix angezeigt (z. B. B2C_1_).</span><span class="sxs-lookup"><span data-stu-id="168e3-215">This name will display afterwards with a prefix the portal assigns (for example, "B2C_1_").</span></span>
1. <span data-ttu-id="168e3-216">Unter **Identitätsanbieter** wählen **E-Mail-Kontoanmeldung**.</span><span class="sxs-lookup"><span data-stu-id="168e3-216">Under **Identity providers**, select **Email SignIn**.</span></span>
1. <span data-ttu-id="168e3-217">Wählen Sie unter **Benutzerattribute** eines der folgenden Kontrollkästchen aus:</span><span class="sxs-lookup"><span data-stu-id="168e3-217">Under **User attributes**, select the following check boxes:</span></span>
    - <span data-ttu-id="168e3-218">**E-Mailadressen** (**Rückgabeanspruch** nur)</span><span class="sxs-lookup"><span data-stu-id="168e3-218">**Email Addresses** (**Return claim** only)</span></span>
    - <span data-ttu-id="168e3-219">**Vorname** (**Attribut sammeln** und **Rückgabeanspruch**)</span><span class="sxs-lookup"><span data-stu-id="168e3-219">**Given Name** (**Collect attribute** and **Return claim**)</span></span>
    - <span data-ttu-id="168e3-220">**Identitätsanbieter** (**Rückgabeanspruch** nur)</span><span class="sxs-lookup"><span data-stu-id="168e3-220">**Identity Provider** (**Return claim** only)</span></span>
    - <span data-ttu-id="168e3-221">**Nachname** (**Attribut sammeln** und **Rückgabeanspruch**)</span><span class="sxs-lookup"><span data-stu-id="168e3-221">**Surname** (**Collect attribute** and **Return claim**)</span></span>
    - <span data-ttu-id="168e3-222">**Objekt-ID des Benutzers** (**Rückgabeanspruch** nur)</span><span class="sxs-lookup"><span data-stu-id="168e3-222">**User's Object ID** (**Return claim** only)</span></span>
1. <span data-ttu-id="168e3-223">Wählen Sie **Erstellen** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-223">Select **Create**.</span></span>

<span data-ttu-id="168e3-224">Das folgende Bild zeigt ein Beispiel für den Azure AD B2C Profilbearbeitungs-Benutzerfluss.</span><span class="sxs-lookup"><span data-stu-id="168e3-224">The following image shows an example of the Azure AD B2C profile editing user flow.</span></span>

![Erstellen Sie eine Benutzerfluss zur Profilbearbeitung](./media/B2CImage_12.png)

### <a name="create-a-password-reset-user-flow-policy"></a><span data-ttu-id="168e3-226">Erstellen Sie eine Benutzerflussrichtlinie zur Kennwortzurücksetzung</span><span class="sxs-lookup"><span data-stu-id="168e3-226">Create a password reset user flow policy</span></span>

<span data-ttu-id="168e3-227">Um eine Kennwortzurücksetzungs-Benutzerflussrichtlinie zu erstellen, führen Sie die folgenden Schritte aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-227">To create a password reset user flow policy, follow these steps.</span></span>

1. <span data-ttu-id="168e3-228">Wählen Sie im Azure-Portal die Option **Benutzerflüsse (Richtlinien)** im linken Navigationsbereich.</span><span class="sxs-lookup"><span data-stu-id="168e3-228">In the Azure portal, select **User flows (policies)** in the left navigation pane.</span></span>
1. <span data-ttu-id="168e3-229">Auf der Seite **Azure AD B2C – Benutzerfluss (Richtlinien)** wählen Sie **Neuer Benutzerfluss**.</span><span class="sxs-lookup"><span data-stu-id="168e3-229">On the **Azure AD B2C – User flows (policies)** page, select **New User Flow**.</span></span>
1. <span data-ttu-id="168e3-230">Wählen Sie **Kennwortzurücksetzung** und dann die Version **Empfohlen** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-230">Select **Password Reset**, and then select the **Recommended** version.</span></span>
1. <span data-ttu-id="168e3-231">Unter **Name** geben Sie einen Namen für den Benutzerfluss zum Zurücksetzen des Kennworts ein.</span><span class="sxs-lookup"><span data-stu-id="168e3-231">Under **Name**, enter a name for the password reset user flow.</span></span>
1. <span data-ttu-id="168e3-232">Im Abschnitt **Identitätsanbieter** wählen Sie **Kennwort zurücksetzen mithilfe der E-Mail-Adresse** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-232">Under **Identity providers**, select **Reset password using email address**.</span></span>
1. <span data-ttu-id="168e3-233">Wählen Sie **Erstellen** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-233">Select **Create**.</span></span>
1. <span data-ttu-id="168e3-234">Wählen Sie unter **Anwendungsanspruch** eines der folgenden Kontrollkästchen aus:</span><span class="sxs-lookup"><span data-stu-id="168e3-234">Under **Application claims**, select the following check boxes:</span></span>
    - <span data-ttu-id="168e3-235">**E-Mail-Adressen**</span><span class="sxs-lookup"><span data-stu-id="168e3-235">**Email addresses**</span></span>
    - <span data-ttu-id="168e3-236">**Vorname**</span><span class="sxs-lookup"><span data-stu-id="168e3-236">**Given Name**</span></span>
    - <span data-ttu-id="168e3-237">**Nachname**</span><span class="sxs-lookup"><span data-stu-id="168e3-237">**Surname**</span></span>
    - <span data-ttu-id="168e3-238">**Objekt-ID des Benutzers**</span><span class="sxs-lookup"><span data-stu-id="168e3-238">**User's Object ID**</span></span>
1. <span data-ttu-id="168e3-239">Wählen Sie **Erstellen** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-239">Select **Create**.</span></span>

<span data-ttu-id="168e3-240">Das folgende Bild zeigt, wo **Kennwort mit E-Mail-Adresse zurücksetzen** im Azure AD Benutzerfluss zum Zurücksetzen des B2C-Passworts eingestellt werden muss.</span><span class="sxs-lookup"><span data-stu-id="168e3-240">The following image shows where to set **Reset Password using mail address** in the Azure AD B2C password reset user flow.</span></span>

![Legen Sie in der Richtlinie zum Zurücksetzen des Kennworts Kennwort mit E-Mail-Adresse zurücksetzen fest](./media/B2CImage_13.png)

## <a name="add-social-identity-providers-optional"></a><span data-ttu-id="168e3-242">Anbieter sozialer Identität hinzufügen (optional)</span><span class="sxs-lookup"><span data-stu-id="168e3-242">Add social identity providers (Optional)</span></span>

<span data-ttu-id="168e3-243">Mit Anbietern sozialer Identität können Benutzer ihre sozialen Konten zur Authentifizierung verwenden.</span><span class="sxs-lookup"><span data-stu-id="168e3-243">Social identity providers allow users to use their social accounts for authentication.</span></span> <span data-ttu-id="168e3-244">Das Hinzufügen der Authentifizierung des Anbieters sozialer Identität ist in Dynamics 365 Commerce optional.</span><span class="sxs-lookup"><span data-stu-id="168e3-244">Adding social identity provider authentication is optional in Dynamics 365 Commerce.</span></span> 

<span data-ttu-id="168e3-245">Wenn die Anbieterauthentifizierung der sozialen Identität nicht hinzugefügt wird, ist die Standardeinstellung Azure AD B2C-Profile das Hauptprofil für Ihre Benutzerbasis.</span><span class="sxs-lookup"><span data-stu-id="168e3-245">If social identity provider authentication is not added, the default Azure AD B2C profiles will be the main profiles for your user base.</span></span> <span data-ttu-id="168e3-246">Benutzer wählen ihren eigenen Benutzernamen (ihre bevorzugte E-Mail-Adresse) und legen ein Passwort fest.</span><span class="sxs-lookup"><span data-stu-id="168e3-246">Users will select their own username (their preferred email address) and set a password.</span></span> <span data-ttu-id="168e3-247">Azure AD B2C authentifiziert Benutzer direkt.</span><span class="sxs-lookup"><span data-stu-id="168e3-247">Azure AD B2C will authenticate users directly.</span></span> 

<span data-ttu-id="168e3-248">Wenn die Authentifizierung eines Anbieters für soziale Identität hinzugefügt wird und ein Benutzer einen der angebotenen Anbieter für soziale Identität auswählt, wird weiterhin eine Entität in der Liste Azure AD B2C-Mandant erstellt.</span><span class="sxs-lookup"><span data-stu-id="168e3-248">If social identity provider authentication is added and a user chooses one of the social identity providers offered, an entity is still created in the Azure AD B2C tenant.</span></span> <span data-ttu-id="168e3-249">Azure AD B2C authentifiziert dann die Anmeldeinformationen des Benutzers beim Anbieter der sozialen Identität.</span><span class="sxs-lookup"><span data-stu-id="168e3-249">Azure AD B2C will then authenticate the user's credentials with the social identity provider.</span></span>

> [!NOTE]
> <span data-ttu-id="168e3-250">Durch die Anmeldung des Identitätsanbieters wird ein Datensatz im B2C-Mandanten erstellt, jedoch in einem anderen Format als bei lokalen Konten, da die Referenz des externen Anbieters für soziale Identität zur Authentifizierung aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="168e3-250">The identity provider sign in creates a record in the B2C tenant, but in a different format than local accounts since it will call the external social identity provider reference for authentication.</span></span> <span data-ttu-id="168e3-251">Der Benutzer kann bei allen Anbietern sozialer Identitäten dieselbe E-Mail-Adresse verwenden. Dies bedeutet, dass der für die Authentifizierung verwendete E-Mail-Benutzername möglicherweise nicht für den Mandanten eindeutig ist.</span><span class="sxs-lookup"><span data-stu-id="168e3-251">The user can use the same email address across social identity providers, meaning that the email username used for authentication may not be unique to the tenant.</span></span> <span data-ttu-id="168e3-252">Azure AD B2C erzwingt nur, dass Benutzer auf lokalen B2C-Konten eine eindeutige E-Mail-Adresse haben.</span><span class="sxs-lookup"><span data-stu-id="168e3-252">Azure AD B2C will only enforce that users have a unique email address on local B2C accounts.</span></span>

<span data-ttu-id="168e3-253">Bevor Sie einen Anbieter für soziale Identität zur Authentifizierung hinzufügen können, müssen Sie zum Portal des Identitätsanbieters gehen und eine Anwendung für Identitätsanbieter einrichten, wie in der Anleitung Azure AD B2C-Dokumentation beschrieben.</span><span class="sxs-lookup"><span data-stu-id="168e3-253">Before you can add a social identity provider for authentication, you must go to the identity provider's portal and set up an identity provider application as instructed in the Azure AD B2C documentation.</span></span> <span data-ttu-id="168e3-254">Eine Liste der Links zur Dokumentation finden Sie unten.</span><span class="sxs-lookup"><span data-stu-id="168e3-254">A list of links to the documentation is provided below.</span></span>

- [<span data-ttu-id="168e3-255">Amazon</span><span class="sxs-lookup"><span data-stu-id="168e3-255">Amazon</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-amzn-app)
- [<span data-ttu-id="168e3-256">Azure AD (Einzelmieter)</span><span class="sxs-lookup"><span data-stu-id="168e3-256">Azure AD (Single Tenant)</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-oidc-azure-active-directory)
- [<span data-ttu-id="168e3-257">Microsoft-Konto</span><span class="sxs-lookup"><span data-stu-id="168e3-257">Microsoft Account</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-msa-app)
- [<span data-ttu-id="168e3-258">Facebook</span><span class="sxs-lookup"><span data-stu-id="168e3-258">Facebook</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-fb-app)
- [<span data-ttu-id="168e3-259">GitHub</span><span class="sxs-lookup"><span data-stu-id="168e3-259">GitHub</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-github-app)
- [<span data-ttu-id="168e3-260">Google</span><span class="sxs-lookup"><span data-stu-id="168e3-260">Google</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-goog-app)
- [<span data-ttu-id="168e3-261">LinkedIn</span><span class="sxs-lookup"><span data-stu-id="168e3-261">LinkedIn</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-li-app)
- [<span data-ttu-id="168e3-262">OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="168e3-262">OpenID Connect</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-oidc-idp)
- [<span data-ttu-id="168e3-263">Twitter</span><span class="sxs-lookup"><span data-stu-id="168e3-263">Twitter</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-twitter-app)

### <a name="add-and-set-up-a-social-identity-provider"></a><span data-ttu-id="168e3-264">Fügen Sie einen Anbieter für soziale Identität hinzu und richten Sie ihn ein</span><span class="sxs-lookup"><span data-stu-id="168e3-264">Add and set up a social identity provider</span></span>

<span data-ttu-id="168e3-265">Führen Sie die folgenden Schritte aus, um einen Anbieter für soziale Identität hinzuzufügen und einzurichten.</span><span class="sxs-lookup"><span data-stu-id="168e3-265">To add and set up a social identity provider, follow these steps.</span></span>  

1. <span data-ttu-id="168e3-266">Navigieren Sie im Azure-Portal zu **Identitätsanbieter**.</span><span class="sxs-lookup"><span data-stu-id="168e3-266">In the Azure portal, navigate to **Identity Providers**.</span></span>
1. <span data-ttu-id="168e3-267">Wählen Sie **Hinzufügen** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-267">Select **Add**.</span></span> <span data-ttu-id="168e3-268">Der Bildschirm **Identitätsanbieter hinzufügen** wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="168e3-268">The **Add identity provider** screen appears.</span></span>
1. <span data-ttu-id="168e3-269">Unter **Name** geben Sie den Namen ein, der den Benutzern auf Ihrem Anmeldebildschirm angezeigt werden soll.</span><span class="sxs-lookup"><span data-stu-id="168e3-269">Under **Name**, enter the name to be displayed to users on your sign in screen.</span></span>
1. <span data-ttu-id="168e3-270">Unter **Typ des Identitätsanbieters** wählen Sie einen Identitätsanbieter aus der Liste aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-270">Under **Identity provider type**, select an identity provider from the list.</span></span>
1. <span data-ttu-id="168e3-271">Wählen Sie **OK**.</span><span class="sxs-lookup"><span data-stu-id="168e3-271">Select **OK**.</span></span>
1. <span data-ttu-id="168e3-272">Wählen Sie **Richten Sie diesen Identitätsanbieter ein**, um auf den Bildschirm **Richten Sie den Anbieter für soziale Identität ein** zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="168e3-272">Select **Set up this identity provider** to access the **Set up the social identity provider** screen.</span></span>
1. <span data-ttu-id="168e3-273">Unter **Kunden ID** geben Sie die Client-ID ein, die Sie im Setup der Identitätsanbieteranwendung erhalten haben.</span><span class="sxs-lookup"><span data-stu-id="168e3-273">Under **Client ID**, enter the client ID as obtained from the identity provider application setup.</span></span>
1. <span data-ttu-id="168e3-274">Unter **Geheimer Clientschlüssel** geben Sie den geheimen Clientschlüssel ein, den Sie im Setup der Identitätsanbieteranwendung erhalten haben.</span><span class="sxs-lookup"><span data-stu-id="168e3-274">Under **Client secret**, enter the client secret as obtained from the identity provider application setup.</span></span>
1. <span data-ttu-id="168e3-275">Benutzerfluss für Anmelderichtlinien hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="168e3-275">Attach user flow for sign in sign up policies:</span></span>
1. <span data-ttu-id="168e3-276">Gehe zu **Azure AD B2C – Benutzerflüsse (Richtlinien) \> {Ihre Anmeldungsrichtlinie} \> Identitätsanbieter**.</span><span class="sxs-lookup"><span data-stu-id="168e3-276">Go to **Azure AD B2C – User flows (policies) \> {your sign-in sign-up policy} \> Identity providers**.</span></span>
1. <span data-ttu-id="168e3-277">Wählen Sie jeden Identitätsanbieter aus, den Sie für Ihr Konto eingerichtet haben, um die Benutzerflussrichtlinie zum Anmelden/Registrieren anzuhängen.</span><span class="sxs-lookup"><span data-stu-id="168e3-277">To attach the sign in/sign up user flow policy, select each identity provider you have set up for your account.</span></span> <span data-ttu-id="168e3-278">Um diese zu testen, wählen Sie **Führen Sie den Benutzerfluss aus** für jeden Identitätsanbieter.</span><span class="sxs-lookup"><span data-stu-id="168e3-278">To test these, select **Run user flow** for each identity provider.</span></span> <span data-ttu-id="168e3-279">Auf einer neuen Registerkarte wird die Anmeldeseite mit dem Auswahlfeld für den neuen Identitätsanbieter angezeigt.</span><span class="sxs-lookup"><span data-stu-id="168e3-279">A new tab will display the sign-in page displaying the new identity provider selection box.</span></span>

<span data-ttu-id="168e3-280">Das folgende Bild zeigt Beispiele für die Bildschirme **Identitätsanbieter hinzufügen** und **Richten Sie den Anbieter für soziale Identität ein** in Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="168e3-280">The following image shows examples of the **Add identity provider** and **Set up the social identity provider** screens in Azure AD B2C.</span></span>

![Hinzufügen eines Anbieters für soziale Identität zu Ihrer Anwendung](./media/B2CImage_14.png)

<span data-ttu-id="168e3-282">Das folgende Bild zeigt ein Beispiel für die Auswahl von Identitätsanbietern auf der Seite Azure AD B2C **Identitätsanbieter**.</span><span class="sxs-lookup"><span data-stu-id="168e3-282">The following image shows an example of how to select identity providers on the Azure AD B2C **Identity Providers** page.</span></span>

![Wählen Sie jeden Anbieter für soziale Identität aus, der für Ihre Richtlinie aktiviert werden soll](./media/B2CImage_16.png)

<span data-ttu-id="168e3-284">Das folgende Bild zeigt ein Beispiel für einen Standard-Anmeldebildschirm mit einer Anmeldeschaltfläche für Anbieter sozialer Identität.</span><span class="sxs-lookup"><span data-stu-id="168e3-284">The following image shows an example of a default sign-in screen with a social identity provider sign-in button displayed.</span></span>

> [!NOTE]
> <span data-ttu-id="168e3-285">Wenn Sie die in Commerce erstellten benutzerdefinierten Seiten für Ihre Benutzerflows verwenden, müssen die Schaltflächen für soziale Identitätsanbieter mithilfe der Erweiterbarkeitsfeatures der Commerce-Modulbibliothek hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="168e3-285">If using the custom pages built in Commerce for your user flows, the buttons for social identity providers will need to be added using the extensibility features of the Commerce module library.</span></span> <span data-ttu-id="168e3-286">Wenn Sie Ihre Anwendungen bei einem bestimmten sozialen Identitätsanbieter einrichten, kann in einigen Fällen bei URL- oder Konfigurationszeichenfolgen zwischen Groß- und Kleinschreibung unterschieden werden.</span><span class="sxs-lookup"><span data-stu-id="168e3-286">Additionally, when setting up your applications with a specific social identity provider, in some cases URL or configuration strings may be case sensitive.</span></span> <span data-ttu-id="168e3-287">Weitere Informationen finden Sie in den Verbindungsanweisungen Ihres sozialen Identitätsanbieters.</span><span class="sxs-lookup"><span data-stu-id="168e3-287">Refer to your social identity provider's connection instructions for more information.</span></span>
 
![Beispiel für einen Standard-Anmeldebildschirm mit angezeigter Anmeldeschaltfläche des Social Identity Providers](./media/B2CImage_17.png)

## <a name="update-commerce-headquarters-with-the-new-azure-ad-b2c-information"></a><span data-ttu-id="168e3-289">Aktualisieren Sie die Commerce-Zentrale mit den neuen Azure AD B2C-Informationen</span><span class="sxs-lookup"><span data-stu-id="168e3-289">Update Commerce headquarters with the new Azure AD B2C information</span></span>

<span data-ttu-id="168e3-290">Sobald die Azure AD B2C-Bereitstellungsschritte oben abgeschlossen ist, muss die Azure AD B2C-Anwendung muss in Ihrer Dynamics 365 Commerce Umgebung registriert werden.</span><span class="sxs-lookup"><span data-stu-id="168e3-290">Once the Azure AD B2C provisioning steps above are completed, the Azure AD B2C application must be registered in your Dynamics 365 Commerce environment.</span></span>

<span data-ttu-id="168e3-291">Um den Hauptsitz mit den neuen Azure AD B2C Informationen zu aktualisieren, befolgen Sie diese Schritte.</span><span class="sxs-lookup"><span data-stu-id="168e3-291">To update headquarters with the new Azure AD B2C information, follow these steps.</span></span>

1. <span data-ttu-id="168e3-292">Gehen Sie im Handel zu **Gemeinsame Commerce-Parameter** und wählen Sie **Identitätsanbieter** im linken Menü.</span><span class="sxs-lookup"><span data-stu-id="168e3-292">In Commerce, go to **Commerce Shared Parameters** and select **Identity Providers** in the left menu.</span></span>
1. <span data-ttu-id="168e3-293">Unter **Identitätsanbieter** gehe Sie wie folgt vor:</span><span class="sxs-lookup"><span data-stu-id="168e3-293">Under **Identity Providers**, do the following:</span></span>
    1. <span data-ttu-id="168e3-294">Im Kästchen **Aussteller** geben Sie im Feld die URL des Identitätsanbieters ein.</span><span class="sxs-lookup"><span data-stu-id="168e3-294">In the **Issuer** box, enter the identity provider issuer URL.</span></span> <span data-ttu-id="168e3-295">Informationen zum Auffinden Ihrer Aussteller-URL finden Sie unter [Erhalten Sie die Emittenten-URL](#obtain-issuer-url) unten.</span><span class="sxs-lookup"><span data-stu-id="168e3-295">To find your issuer URL, see [Obtain issuer URL](#obtain-issuer-url) below.</span></span>
    1. <span data-ttu-id="168e3-296">Geben Sie im Feld **Name** einen Namen für den Herausgeberdatensatz ein.</span><span class="sxs-lookup"><span data-stu-id="168e3-296">In the **Name** box, enter a name for your issuer record.</span></span>
    1. <span data-ttu-id="168e3-297">Im Feld **Art** geben Sie **Azure AD B2C (id_Token)** ein.</span><span class="sxs-lookup"><span data-stu-id="168e3-297">In the **Type** box, enter **Azure AD B2C (id_token)**.</span></span>
1. <span data-ttu-id="168e3-298">Unter **Ausgewählte Parteien** gehen Sie bei ausgewähltem oben genannten Element des B2C-Identitätsanbieters wie folgt vor:</span><span class="sxs-lookup"><span data-stu-id="168e3-298">Under **Relying Parties**, with the above B2C identity provider item selected, do the following:</span></span>
    1. <span data-ttu-id="168e3-299">In dem Kästchen **Kunden ID** geben Sie im Feld Ihre B2C-Anwendungs-ID ein.</span><span class="sxs-lookup"><span data-stu-id="168e3-299">In the **ClientID** box, enter your B2C application ID.</span></span> <span data-ttu-id="168e3-300">Sie finden dies im Feld **Anwendungs-ID** der Eigenschaftenseite Ihrer B2C-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="168e3-300">You can find this in the **Application ID** box of your B2C application's properties page.</span></span>
    1. <span data-ttu-id="168e3-301">In dem Kästchen **Art** geben Sie **öffentlich** ein.</span><span class="sxs-lookup"><span data-stu-id="168e3-301">In the **Type** box, enter **Public**.</span></span>
    1. <span data-ttu-id="168e3-302">In dem Kästchen **Benutzertyp** geben Sie **benutzerdefiniert** ein.</span><span class="sxs-lookup"><span data-stu-id="168e3-302">In the **User Type** box, enter **Customer**.</span></span>
1. <span data-ttu-id="168e3-303">Wählen Sie im Aktionsbereich **Speichern** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-303">On the action pane, select **Save**.</span></span>
1. <span data-ttu-id="168e3-304">Suchen Sie im Commerce-Suchfeld nach **Verteilungsplan**</span><span class="sxs-lookup"><span data-stu-id="168e3-304">In the Commerce search box, search for **Distribution schedule**</span></span>
1. <span data-ttu-id="168e3-305">Im linken Navigationsmenü auf der Seite **Verteilungspläne** wählen Sie **1110 globale Konfiguration**.</span><span class="sxs-lookup"><span data-stu-id="168e3-305">In the left navigation menu of the **Distribution schedules** page, select job **1110 Global configuration**.</span></span>
1. <span data-ttu-id="168e3-306">Wählen Sie im Aktivitätsbereich **Jetzt ausführen**.</span><span class="sxs-lookup"><span data-stu-id="168e3-306">On the action pane, select **Run Now**.</span></span>

### <a name="obtain-issuer-url"></a><span data-ttu-id="168e3-307">Erhalten Sie die Emittenten-URL</span><span class="sxs-lookup"><span data-stu-id="168e3-307">Obtain issuer URL</span></span>

<span data-ttu-id="168e3-308">Führen Sie die folgenden Schritte aus, um die Aussteller-URL Ihres Identitätsanbieters zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="168e3-308">To obtain your identity provider issuer URL, follow these steps.</span></span>
1. <span data-ttu-id="168e3-309">Gehen Sie auf der Seite Azure AD B2C des Azure-Portals zu Ihrem Benutzerflow **Registrieren und Anmelden**.</span><span class="sxs-lookup"><span data-stu-id="168e3-309">On the Azure AD B2C page of the Azure portal, navigate to your **Sign up and sign in** user flow.</span></span>
1. <span data-ttu-id="168e3-310">Wählen Sie **Seitenlayouts** im linken Navigationsmenü, dann unter **Layoutname** **Einheitliche Registrierungs- oder Anmeldeseite** und schließlich **Benutzerflow ausführen**.</span><span class="sxs-lookup"><span data-stu-id="168e3-310">Select **Page layouts** in the left navigation menu, under **Layout name** select **Unified sign up or sign in page**, and then select **Run user flow**.</span></span>
1. <span data-ttu-id="168e3-311">Stellen Sie sicher, dass Ihre Anwendung auf Ihre oben erstellte Azure AD B2C-Anwendung eingestellt ist, und wählen Sie dann den Link unter der Kopfzeiel **Benutzerflow ausführen** aus, der ``.../.well-known/openid-configuration?p=<B2CSIGN-INPOLICY>`` enthält.</span><span class="sxs-lookup"><span data-stu-id="168e3-311">Make sure your application is set to your intended Azure AD B2C application created above, and then select the link under the **Run user flow** header that includes ``.../.well-known/openid-configuration?p=<B2CSIGN-INPOLICY>``.</span></span>
1. <span data-ttu-id="168e3-312">Auf Ihrer Browser-Registerkarte wird eine Metadatenseite angezeigt. Kopieren Sie die Aussteller-URL des Identitätsanbieters (den Wert für **Aussteller**).</span><span class="sxs-lookup"><span data-stu-id="168e3-312">A metadata page is displayed in your browser tab. Copy the identity provider issuer URL (the value for **"issuer"**).</span></span>
   - <span data-ttu-id="168e3-313">Beispiel: ``https://login.fabrikam.com/011115c3-0113-4f43-b5e2-df01266e24ae/v2.0/``.</span><span class="sxs-lookup"><span data-stu-id="168e3-313">Example: ``https://login.fabrikam.com/011115c3-0113-4f43-b5e2-df01266e24ae/v2.0/``.</span></span>
 
<span data-ttu-id="168e3-314">**ODER**: Führen Sie die folgenden Schritte aus, um dieselbe Metadaten-URL manuell zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="168e3-314">**OR**: To construct the same metadata URL manually, do the following steps.</span></span>

1. <span data-ttu-id="168e3-315">Erstellen Sie mit Ihrem B2C-Mandanten und Ihrer Richtlinie eine URL für Metadatenadressen im folgenden Format: ``https://<B2CTENANTNAME>.b2clogin.com/<B2CTENANTNAME>.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=<B2CSIGN-INPOLICY>``</span><span class="sxs-lookup"><span data-stu-id="168e3-315">Create a metadata address URL in the following format using your B2C tenant and policy: ``https://<B2CTENANTNAME>.b2clogin.com/<B2CTENANTNAME>.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=<B2CSIGN-INPOLICY>``</span></span>
    - <span data-ttu-id="168e3-316">Beispiel: ``https://d365plc.b2clogin.com/d365plc.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1_signinup``.</span><span class="sxs-lookup"><span data-stu-id="168e3-316">Example: ``https://d365plc.b2clogin.com/d365plc.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1_signinup``.</span></span>
1. <span data-ttu-id="168e3-317">Geben Sie die URL der Metadatenadresse in eine Adressleiste des Browsers ein.</span><span class="sxs-lookup"><span data-stu-id="168e3-317">Enter the metadata address URL into a browser address bar.</span></span>
1. <span data-ttu-id="168e3-318">Kopieren Sie in den Metadaten die Aussteller-URL des Identitätsanbieters (den Wert für **Aussteller**).</span><span class="sxs-lookup"><span data-stu-id="168e3-318">In the metadata, copy the identity provider issuer URL (the value for **"issuer"**).</span></span>
    - <span data-ttu-id="168e3-319">Beispiel: ``https://login.fabrikam.com/011115c3-0113-4f43-b5e2-df01266e24ae/v2.0/``.</span><span class="sxs-lookup"><span data-stu-id="168e3-319">Example: ``https://login.fabrikam.com/011115c3-0113-4f43-b5e2-df01266e24ae/v2.0/``.</span></span>

## <a name="configure-your-b2c-tenant-in-commerce-site-builder"></a><span data-ttu-id="168e3-320">Konfigurieren Sie Ihren B2C-Mandanten im Commerce Site Builder</span><span class="sxs-lookup"><span data-stu-id="168e3-320">Configure your B2C tenant in Commerce site builder</span></span>

<span data-ttu-id="168e3-321">Einmal eingerichtet für Ihr Azure AD ist Ihr B2C-Mandant abgeschlossen. Sie müssen den B2C-Mandanten im Commerce Site Builder konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="168e3-321">Once setup of your Azure AD B2C tenant is completed, you must configure the B2C tenant in Commerce site builder.</span></span> <span data-ttu-id="168e3-322">Zu den Konfigurationsschritten gehören das Sammeln von B2C-Anwendungsinformationen aus dem Azure-Portal, das Eingeben dieser B2C-Anwendungsinformationen in den Site Builder und das Zuordnen der B2C-Anwendung zu Ihrer Site und Ihrem Kanal.</span><span class="sxs-lookup"><span data-stu-id="168e3-322">Configuration steps include collecting B2C application information from the Azure portal, entering that B2C application information into site builder, and then associating the B2C application with your site and channel.</span></span>

### <a name="collect-the-required-application-information"></a><span data-ttu-id="168e3-323">Sammeln Sie die erforderlichen Anwendungsinformationen</span><span class="sxs-lookup"><span data-stu-id="168e3-323">Collect the required application information</span></span>

<span data-ttu-id="168e3-324">Führen Sie die folgenden Schritte aus, um die erforderlichen Anwendungsinformationen zu erfassen.</span><span class="sxs-lookup"><span data-stu-id="168e3-324">To collect the required application information, follow these steps.</span></span>

1. <span data-ttu-id="168e3-325">Gehen Sie im Azure-Portal zu **Start \> Azure AD B2C – Anwendungen**.</span><span class="sxs-lookup"><span data-stu-id="168e3-325">In the Azure portal, go to **Home \> Azure AD B2C - Applications**.</span></span>
1. <span data-ttu-id="168e3-326">Wählen Sie Ihre Anwendung aus und wählen Sie dann im linken Navigationsbereich **Eigenschaften**, um die Anwendungsdetails zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="168e3-326">Select your application, and then in the left navigation pane select **Properties** to obtain the application details.</span></span>
1. <span data-ttu-id="168e3-327">Von dem Feld **Anwendungs-ID** sammeln Sie die Anwendungs-ID der B2C-Anwendung, die in Ihrem B2C-Mandanten erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="168e3-327">From the **Application ID** box, collect the application ID of the B2C application created in your B2C tenant.</span></span> <span data-ttu-id="168e3-328">Dies wird später als **Client-GUID** im Site Builder eingegeben.</span><span class="sxs-lookup"><span data-stu-id="168e3-328">This will later be entered as the **Client GUID** in site builder.</span></span>
1. <span data-ttu-id="168e3-329">Unter **Antwort-URL** sammeln Sie die Antwort-URL.</span><span class="sxs-lookup"><span data-stu-id="168e3-329">Under **Reply URL**, collect the reply URL.</span></span>
1. <span data-ttu-id="168e3-330">Gehe Sie zu **Start \> Azure AD B2C – Benutzerströme (Richtlinien)** und sammeln Sie dann die Namen der einzelnen Benutzerflussrichtlinien.</span><span class="sxs-lookup"><span data-stu-id="168e3-330">Go to **Home \> Azure AD B2C – User flows (policies)**, and then collect the names of each user flow policy.</span></span>

<span data-ttu-id="168e3-331">Das folgende Bild zeigt ein Beispiel für die **Azure AD B2C – Anwendungen** Seite.</span><span class="sxs-lookup"><span data-stu-id="168e3-331">The following image shows an example of the **Azure AD B2C - Applications** page.</span></span>

![Navigieren Sie in Ihrem Mandanten zur B2C-Anwendung](./media/B2CImage_19.png)

<span data-ttu-id="168e3-333">Das folgende Bild zeigt ein Beispiel für eine Anwendungsseite **Eigenschaften** in Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="168e3-333">The following image shows an example of an application **Properties** page in Azure AD B2C.</span></span> 

![Kopieren Sie die Anwendungs-ID aus den Eigenschaften der B2C-Anwendung](./media/B2CImage_21.png)

<span data-ttu-id="168e3-335">Das folgende Bild zeigt ein Beispiel für Benutzerflussrichtlinien auf der Seite **Azure AD B2C – Benutzerströme (Richtlinien)**.</span><span class="sxs-lookup"><span data-stu-id="168e3-335">The following image shows an example of user flow policies on the **Azure AD B2C – User flows (policies)** page.</span></span>

![Sammeln Sie die Namen jedes B2C-Richtlinienflusses](./media/B2CImage_22.png)

### <a name="enter-your-aad-b2c-tenant-application-information-into-commerce"></a><span data-ttu-id="168e3-337">Geben Sie Ihre AAD B2C-Mandantenanwendungsinformationen in Commerce ein</span><span class="sxs-lookup"><span data-stu-id="168e3-337">Enter your AAD B2C tenant application information into Commerce</span></span>

<span data-ttu-id="168e3-338">Sie müssen Details der eingeben Azure AD B2C-Mandant in Commerce Site Builder einbinden, bevor der B2C-Mandant Ihren Sites zugeordnet wird.</span><span class="sxs-lookup"><span data-stu-id="168e3-338">You must enter details of the Azure AD B2C tenant into Commerce site builder before associating the B2C tenant with your site(s).</span></span>

<span data-ttu-id="168e3-339">Führen Sie die folgenden Schritte aus, um Commerce Ihre AAD B2C-Mandantenanwendungsinformationen hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="168e3-339">To add your AAD B2C tenant application information to Commerce, follow these steps.</span></span>

1. <span data-ttu-id="168e3-340">Melden Sie sich als Administrator bei Commerce Site Builder für Ihre Umgebung an.</span><span class="sxs-lookup"><span data-stu-id="168e3-340">Sign in as an administrator to Commerce site builder for your environment.</span></span>
1. <span data-ttu-id="168e3-341">Wählen Sie im linken Navigationsbereich **Mandant-Einstellungen**  aus, um den Bereich zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="168e3-341">In the left navigation pane, select **Tenant Settings**  to expand it.</span></span>
1. <span data-ttu-id="168e3-342">Wählen Sie unter **Mandanteneinstellungen** die Option **B2C Einstellungen** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-342">Under **Tenant Settings**, select **B2C Settings**.</span></span> 
1. <span data-ttu-id="168e3-343">Im Hauptfenster neben **B2C-Anwendungen** wählen Sie **Verwalten**.</span><span class="sxs-lookup"><span data-stu-id="168e3-343">In the main window next **B2C Applications**, select **Manage**.</span></span> <span data-ttu-id="168e3-344">(Wenn Ihr Mandant in der Liste der B2C-Anwendungen angezeigt wird, wurde er bereits von einem Administrator hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="168e3-344">(If your tenant appears in the B2C Applications list, then it was already added by an administrator.</span></span> <span data-ttu-id="168e3-345">Stellen Sie sicher, dass die Elemente in Schritt 6 unten mit Ihrer B2C-Anwendung übereinstimmen.)</span><span class="sxs-lookup"><span data-stu-id="168e3-345">Verify that the items in step 6 below match your B2C Application.)</span></span>
1. <span data-ttu-id="168e3-346">Wählen Sie **B2C Bewerbung hinzufügen** aus.</span><span class="sxs-lookup"><span data-stu-id="168e3-346">Select **Add B2C Application**.</span></span>
1. <span data-ttu-id="168e3-347">Geben Sie die folgenden erforderlichen Elemente in das angezeigte Formular ein und verwenden Sie dabei die Werte Ihres B2C-Mandanten und Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="168e3-347">Enter the following required items in the form displayed, using values from your B2C tenant and application.</span></span> <span data-ttu-id="168e3-348">Nicht erforderliche Felder (solche ohne Sternchen) können leer gelassen werden.</span><span class="sxs-lookup"><span data-stu-id="168e3-348">Fields that are not required (those without an asterisk) may be left blank.</span></span>

    - <span data-ttu-id="168e3-349">**Anwendungsname**: Der Name für Ihre B2C-Anwendung, z. B. Fabrikam B2C.</span><span class="sxs-lookup"><span data-stu-id="168e3-349">**Application Name**: The name for your B2C Application, for example "Fabrikam B2C".</span></span>
    - <span data-ttu-id="168e3-350">**Name des Mandanten**: Der Name Ihres B2C-Mandanten (verwenden Sie beispielsweise „fabrikam“, wenn die Domain für den B2C-Mandanten als „fabrikam.onmicrosoft.com“ angezeigt wird).</span><span class="sxs-lookup"><span data-stu-id="168e3-350">**Tenant Name**: The name of your B2C tenant (for example, use "fabrikam" if the domain appears as "fabrikam.onmicrosoft.com" for the B2C tenant).</span></span> 
    - <span data-ttu-id="168e3-351">**Kennwor vergessen Richtlinien-ID**: Die ID der Benutzerflussrichtlinie für vergessenes Kennwort, z.B. B2C_1_PasswordReset.</span><span class="sxs-lookup"><span data-stu-id="168e3-351">**Forget Password Policy ID**: The forget password user flow policy ID, for example "B2C_1_PasswordReset".</span></span>
    - <span data-ttu-id="168e3-352">**Anmeldung Anmelderichtlinien-ID**: Die ID der Anmelde- und Anmelde-Benutzerflussrichtlinie, z. B. B2C_1_signup_signin.</span><span class="sxs-lookup"><span data-stu-id="168e3-352">**Signup Signin Policy ID**: The sign up and sign in user flow policy ID, for example "B2C_1_signup_signin".</span></span>
    - <span data-ttu-id="168e3-353">**Client-GUID**: Die B2C-Anwendungs-ID, zum Beispiel „22290eb2-c52e-42e9-8b35-a2b0a3bcb9e6“.</span><span class="sxs-lookup"><span data-stu-id="168e3-353">**Client GUID**: The B2C application ID, for example "22290eb2-c52e-42e9-8b35-a2b0a3bcb9e6".</span></span>
    - <span data-ttu-id="168e3-354">**Profilrichtlinien-ID bearbeiten** : Die Benutzerflussrichtlinien-ID für die Profilbearbeitung, z. B. B2C_1A_ProfileEdit.</span><span class="sxs-lookup"><span data-stu-id="168e3-354">**Edit Profile Policy ID**: The profile editing user flow policy ID, for example "B2C_1A_ProfileEdit".</span></span>

1. <span data-ttu-id="168e3-355">Wählen Sie **OK**.</span><span class="sxs-lookup"><span data-stu-id="168e3-355">Select **OK**.</span></span> <span data-ttu-id="168e3-356">Sie sollten nun den Namen Ihrer B2C-Anwendung in der Liste sehen.</span><span class="sxs-lookup"><span data-stu-id="168e3-356">You should now see the name of your B2C application appear in the list.</span></span>
1. <span data-ttu-id="168e3-357">Wählen Sie **Speichern** aus, um die Änderungen zu speichern.</span><span class="sxs-lookup"><span data-stu-id="168e3-357">Select **Save** to save your changes.</span></span>

### <a name="associate-the-b2c-application-to-your-site-and-channel"></a><span data-ttu-id="168e3-358">Verknüpfen Sie die B2C-Anwendung mit Ihrer Site und Ihrem Kanal</span><span class="sxs-lookup"><span data-stu-id="168e3-358">Associate the B2C application to your site and channel</span></span>

> [!WARNING]
> <span data-ttu-id="168e3-359">Wenn Ihre Site bereits einer B2C-Anwendung zugeordnet ist, werden durch den Wechsel zu einer anderen B2C-Anwendung die aktuellen Referenzen entfernt, die für Benutzer eingerichtet wurden, die bereits in dieser Umgebung angemeldet sind.</span><span class="sxs-lookup"><span data-stu-id="168e3-359">If your site is already associated with a B2C application, changing to a different B2C application will remove the current references established for users already signed up in this environment.</span></span> <span data-ttu-id="168e3-360">Bei einer Änderung stehen den Benutzern keine Anmeldeinformationen zur Verfügung, die der aktuell zugewiesenen B2C-Anwendung zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="168e3-360">If changed, any credentials associated with the currently-assigned B2C application will not be available to users.</span></span> 
> 
> <span data-ttu-id="168e3-361">Aktualisieren Sie die B2C-Anwendung nur, wenn Sie die B2C-Anwendung des Kanals zum ersten Mal einrichten oder wenn Sie beabsichtigen, Benutzer mit der neuen B2C-Anwendung erneut mit neuen Anmeldeinformationen für diesen Kanal anzumelden.</span><span class="sxs-lookup"><span data-stu-id="168e3-361">Only update the B2C application if you are setting up the channel's B2C application for the first time or if you intend to have users re-sign up with new credentials to this channel with the new B2C application.</span></span> <span data-ttu-id="168e3-362">Seien Sie vorsichtig, wenn Sie Kanäle der B2C-Anwendungen zuordnen, und benennen Sie Anwendungen eindeutig.</span><span class="sxs-lookup"><span data-stu-id="168e3-362">Take caution when associating channels to B2C applications, and name applications clearly.</span></span> <span data-ttu-id="168e3-363">Wenn in den folgenden Schritten kein Kanal einer B2C-Anwendung zugeordnet ist, werden Benutzer, die sich bei diesem Kanal für Ihre Site anmelden, in die B2C-Anwendung eingegeben, die als **Standard** in **Mandanteneinstellungen \> B2C-Einstellungen** der Liste B2C-Anwendungen angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="168e3-363">If a channel is not associated to a B2C application in the steps below, users signing into that channel for your site will be entered into the B2C application showing as **default** in the **Tenant Settings \> B2C Settings** list of B2C applications.</span></span>

<span data-ttu-id="168e3-364">Um die B2C-Anwendung Ihrer Site und Ihrem Kanal zuzuweisen, folgen Sie diesen Schritten.</span><span class="sxs-lookup"><span data-stu-id="168e3-364">To associate the B2C application to your site and channel, follow these steps.</span></span>

1. <span data-ttu-id="168e3-365">Navigieren Sie im Commerce Site Builder zu Ihrer Site.</span><span class="sxs-lookup"><span data-stu-id="168e3-365">Navigate to your site in Commerce site builder.</span></span>
1. <span data-ttu-id="168e3-366">Wählen Sie im linken Navigationsbereich **Site-Einstellungen** aus, um den Bereich zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="168e3-366">In the left navigation pane, select **Site Settings** to expand it.</span></span>
1. <span data-ttu-id="168e3-367">Unten **Seiteneinstellungen**, wählen Sie **Kanäle**.</span><span class="sxs-lookup"><span data-stu-id="168e3-367">Below **Site Settings**, select **Channels**.</span></span>
1. <span data-ttu-id="168e3-368">Im Hauptfenster unter **Kanäle** wählen Sie Ihren Kanal.</span><span class="sxs-lookup"><span data-stu-id="168e3-368">In the main window under **Channels**, select your channel.</span></span>
1. <span data-ttu-id="168e3-369">Wählen Sie im Bereich Kanaleigenschaften rechts Ihren B2C-Anwendungsnamen aus dem Dropdown-Menü **Wählen Sie B2C-Anwendung**.</span><span class="sxs-lookup"><span data-stu-id="168e3-369">In the channel properties pane on the right, select your B2C application name from the **Select B2C Application** drop down menu.</span></span>
1. <span data-ttu-id="168e3-370">Wählen Sie **Schließen** und dann **Speichern und veröffentlichen**.</span><span class="sxs-lookup"><span data-stu-id="168e3-370">Select **Close**, and then select **Save and Publish**.</span></span>

## <a name="additional-b2c-information"></a><span data-ttu-id="168e3-371">Weitere B2C Informationen</span><span class="sxs-lookup"><span data-stu-id="168e3-371">Additional B2C information</span></span>

### <a name="customer-migration"></a><span data-ttu-id="168e3-372">Kundenmigration</span><span class="sxs-lookup"><span data-stu-id="168e3-372">Customer migration</span></span>

<span data-ttu-id="168e3-373">Wenn Sie in Betracht ziehen, Kundendatensätze von einer früheren Plattform für Identitätsanbieter zu migrieren, arbeiten Sie bitte mit dem Dynamics 365 Commerce Team, um Ihre Kundenmigrationsanforderungen zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="168e3-373">If you are considering migrating customer records from a previous identity provider platform, please work with the Dynamics 365 Commerce team to review your customer migration needs.</span></span>

<span data-ttu-id="168e3-374">Für weitere Azure AD B2C-Dokumentation zur Kundenmigration siehe [Migrieren Sie Benutzer zu Azure Active Directory B2C](/azure/active-directory-b2c/active-directory-b2c-user-migration).</span><span class="sxs-lookup"><span data-stu-id="168e3-374">For additional Azure AD B2C documentation on customer migration, see [Migrate users to Azure Active Directory B2C](/azure/active-directory-b2c/active-directory-b2c-user-migration).</span></span>

### <a name="custom-policies"></a><span data-ttu-id="168e3-375">Benutzerdefinierte Richtlinien</span><span class="sxs-lookup"><span data-stu-id="168e3-375">Custom policies</span></span>

<span data-ttu-id="168e3-376">Weitere Informationen zum Anpassen finden Sie unter Azure AD B2C-Interaktionen und Richtlinienflüsse, die über das hinausgehen, was B2C-Standardrichtlinien bieten, siehe [Benutzerdefinierte Richtlinien in Azure Active Directory B2C](/azure/active-directory-b2c/active-directory-b2c-overview-custom).</span><span class="sxs-lookup"><span data-stu-id="168e3-376">For additional information regarding customizing Azure AD B2C interactions and policy flows beyond what is offered by B2C standard policies, see [Custom policies in Azure Active Directory B2C](/azure/active-directory-b2c/active-directory-b2c-overview-custom).</span></span> 

### <a name="secondary-admin"></a><span data-ttu-id="168e3-377">Sekundäradministrator</span><span class="sxs-lookup"><span data-stu-id="168e3-377">Secondary admin</span></span>

<span data-ttu-id="168e3-378">Ein optionales sekundäres Administratorkonto kann im Abschnitt **Benutzer** Ihres B2C-Mandanten hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="168e3-378">An optional, secondary administrator account can be added in the **Users** section of your B2C tenant.</span></span> <span data-ttu-id="168e3-379">Dies kann ein direktes Konto oder ein allgemeines Konto sein.</span><span class="sxs-lookup"><span data-stu-id="168e3-379">This can be a direct account or a general account.</span></span> <span data-ttu-id="168e3-380">Wenn Sie ein Konto für mehrere Teamressourcen freigeben müssen, kann auch ein gemeinsames Konto erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="168e3-380">If you need to share an account across team resources, a common account can also be created.</span></span> <span data-ttu-id="168e3-381">Aufgrund der Empfindlichkeit der gespeicherten Daten in Azure AD B2C, sollte ein gemeinsames Konto gemäß den Sicherheitspraktiken Ihres Unternehmens genau überwacht werden.</span><span class="sxs-lookup"><span data-stu-id="168e3-381">Due to the sensitivity of the data stored in Azure AD B2C, a common account should be monitored closely per your company's security practices.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="168e3-382">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="168e3-382">Additional resources</span></span>

[<span data-ttu-id="168e3-383">Domänennamen konfigurieren</span><span class="sxs-lookup"><span data-stu-id="168e3-383">Configure your domain name</span></span>](configure-your-domain-name.md)

[<span data-ttu-id="168e3-384">Neuen E-Commerce-Mandanten bereitstellen</span><span class="sxs-lookup"><span data-stu-id="168e3-384">Deploy a new e-commerce tenant</span></span>](deploy-ecommerce-site.md)

[<span data-ttu-id="168e3-385">E-Commerce-Website erstellen</span><span class="sxs-lookup"><span data-stu-id="168e3-385">Create an e-commerce site</span></span>](create-ecommerce-site.md)

[<span data-ttu-id="168e3-386">Zuordnen einer Dynamics 365 Commerce-Website zu einem Onlinekanal</span><span class="sxs-lookup"><span data-stu-id="168e3-386">Associate a Dynamics 365 Commerce site with an online channel</span></span>](associate-site-online-store.md)

[<span data-ttu-id="168e3-387">Robots.txt-Dateien verwalten</span><span class="sxs-lookup"><span data-stu-id="168e3-387">Manage robots.txt files</span></span>](manage-robots-txt-files.md)

[<span data-ttu-id="168e3-388">URL-Umleitungen in Massen hochladen</span><span class="sxs-lookup"><span data-stu-id="168e3-388">Upload URL redirects in bulk</span></span>](upload-bulk-redirects.md)

[<span data-ttu-id="168e3-389">Einrichten angepasster Seiten für die Benutzeranmeldungen</span><span class="sxs-lookup"><span data-stu-id="168e3-389">Set up custom pages for user logins</span></span>](custom-pages-user-logins.md)

[<span data-ttu-id="168e3-390">Konfigurieren Sie mehrere B2C-Mandanten in einer Commerce-Umgebung</span><span class="sxs-lookup"><span data-stu-id="168e3-390">Configure multiple B2C tenants in a Commerce environment</span></span>](configure-multi-B2C-tenants.md)

[<span data-ttu-id="168e3-391">Hinzufügen von Unterstützung für ein Content Delivery Network (CDN)</span><span class="sxs-lookup"><span data-stu-id="168e3-391">Add support for a content delivery network (CDN)</span></span>](add-cdn-support.md)

[<span data-ttu-id="168e3-392">Standortbasierte Shop-Erkennung aktivieren</span><span class="sxs-lookup"><span data-stu-id="168e3-392">Enable location-based store detection</span></span>](enable-store-detection.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]