---
title: Ermittelt die optimale Kombination von überlappenden Rabatten
description: Wenn Rabatte überlappen, müssen Sie die Kombination von Rabatten überlappenden bestimmen, die Buchungssumme niedrigsten oder höchsten den Rechnungsrabatt erzeugen. Wenn der Rabattbetrag gemäß dem Preis der gekauften Produkte schwankt, wie bei üblichen Aktionen wie „kaufen 1 günstiger erhalten“ (BOGO), wird dieser Prozess ein Thema der kombinatorischen Optimierung.
author: kfend
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailParameters, RetailPeriodicDiscount,
audience: Application User, IT Pro
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: 89643
ms.assetid: 09843c9a-3e19-4e4a-a8ce-80650f2095f9
ms.search.region: global
ms.search.industry: Retail
ms.author: kfend
ms.search.validFrom: 2016-05-31
ms.dyn365.ops.version: AX 7.0.1
ms.openlocfilehash: 565722da65cbb711acedb5acf7de4edfbd615314
ms.sourcegitcommit: 81a647904dd305c4be2e4b683689f128548a872d
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 02/01/2020
ms.locfileid: "3022710"
---
# <a name="determine-the-optimal-combination-of-overlapping-discounts"></a><span data-ttu-id="fe53d-104">Ermittelt die optimale Kombination von überlappenden Rabatten</span><span class="sxs-lookup"><span data-stu-id="fe53d-104">Determine the optimal combination of overlapping discounts</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="fe53d-105">Wenn Rabatte überlappen, müssen Sie die Kombination von Rabatten überlappenden bestimmen, die Buchungssumme niedrigsten oder höchsten den Rechnungsrabatt erzeugen.</span><span class="sxs-lookup"><span data-stu-id="fe53d-105">When discounts overlap, you must determine the combination of overlapping discounts that will produce the lowest transaction total or the highest total discount.</span></span> <span data-ttu-id="fe53d-106">Wenn der Rabattbetrag gemäß dem Preis der gekauften Produkte schwankt, wie bei üblichen Aktionen wie „kaufen 1 günstiger erhalten“ (BOGO), wird dieser Prozess ein Thema der kombinatorischen Optimierung.</span><span class="sxs-lookup"><span data-stu-id="fe53d-106">When the discount amount varies according to the price of the products that are purchased, such as in the common "Buy 1, get 1 X percent off" (BOGO) retail discount, this process becomes an issue of combinatorial optimization.</span></span>

<span data-ttu-id="fe53d-107">Dieser Artikel gilt für Microsoft Dynamics AX 2012 R3 mit KB 3105973 (veröffentlicht am 2. November 2015) oder höher und für Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="fe53d-107">This article applies to Microsoft Dynamics AX 2012 R3 with KB 3105973 (released November 2, 2015) or later, and to Dynamics 365 Commerce.</span></span> <span data-ttu-id="fe53d-108">Damit die Kombination sich überschneidender Rabatte zeitnah angewendet werden kann, haben wir eine Methode zum Anwenden sich überschneidender Rabatte eingeführt.</span><span class="sxs-lookup"><span data-stu-id="fe53d-108">To determine the combination overlapping discounts to apply in a timely manner, we have introduced a method for applying overlapping discounts.</span></span> <span data-ttu-id="fe53d-109">Es erhalten diese neue Methode angezeigt **Schwellenwertklassifizierung**.</span><span class="sxs-lookup"><span data-stu-id="fe53d-109">We call this new method **marginal value ranking**.</span></span> <span data-ttu-id="fe53d-110">Die Schwellenwertklassifizierung wird verwendet, wenn die Zeit, die erforderlich ist, um die möglichen Kombinationen von sich überschneidenden Rabatten zu bewerten, einen Schwellenwert überschreitet, der auf der Seite **Commerce Parameter** konfigurierbar ist.</span><span class="sxs-lookup"><span data-stu-id="fe53d-110">Marginal value ranking is used when the time that is required in order to evaluate the possible combinations of overlapping discounts exceeds a threshold that is configurable on the **Commerce parameters** page.</span></span> <span data-ttu-id="fe53d-111">In der Schwellenwertklassifizierungsmethode wird ein Wert für jeden überlappenden Rabatt berechnet, indem der Wert des Rabatts auf den freigegebenen Produkten verwendet.</span><span class="sxs-lookup"><span data-stu-id="fe53d-111">In the marginal value ranking method, a value is calculated for each overlapping discount by using the discount's value on the shared products.</span></span> <span data-ttu-id="fe53d-112">Die überlappenden Rabatte werden dann dem höchsten relativen Wert der niedrigste relativen Wert angewendet.</span><span class="sxs-lookup"><span data-stu-id="fe53d-112">The overlapped discounts are then applied from the highest relative value to the lowest relative value.</span></span> <span data-ttu-id="fe53d-113">Einzelheiten über die neue Methode, lesen Sie den Abschnitt "Schwellenwert", später in diesem Artikel.</span><span class="sxs-lookup"><span data-stu-id="fe53d-113">For details about the new method, see the "Marginal value" section, later in this article.</span></span> <span data-ttu-id="fe53d-114">Schwellenwertklassifizierung wird nicht verwendet, wenn Skontobeträgen für das Produkt nicht durch unterschiedliche Produkt in der Buchung betroffen sind.</span><span class="sxs-lookup"><span data-stu-id="fe53d-114">Marginal value ranking isn't used when the discount amounts for a product aren't affected by another product in the transaction.</span></span> <span data-ttu-id="fe53d-115">Beispielsweise kann diese Methode nicht für zwei einfache Rabatte oder einen einfachen Rabatt und einen einzelnen Produktmengenrabatt verwendet.</span><span class="sxs-lookup"><span data-stu-id="fe53d-115">For example, this method isn't used for two simple discounts, or for a simple discount and a single product quantity discount.</span></span>

## <a name="discount-examples"></a><span data-ttu-id="fe53d-116">Rabattbeispiele</span><span class="sxs-lookup"><span data-stu-id="fe53d-116">Discount examples</span></span>

<span data-ttu-id="fe53d-117">Sie können eine unbegrenzte Anzahl an Einzelhandelsrabatten für eine allgemeines Set an Produkten erstellen.</span><span class="sxs-lookup"><span data-stu-id="fe53d-117">You can create an unlimited number of discounts on a common set of products.</span></span> <span data-ttu-id="fe53d-118">Da jedoch kein Limit festgelegt ist, können Leistungsprobleme auftreten, wenn Sie versuchen, die Rabatte zu berechnen, die auf den verschiedenen Produkten verwendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="fe53d-118">However, because there is no limit, performance issues can occur when you try to calculate the discounts that should be used on the various products.</span></span> <span data-ttu-id="fe53d-119">Die folgenden Beispiele veranschaulichen dieses Problem genauer.</span><span class="sxs-lookup"><span data-stu-id="fe53d-119">The following examples illustrate this issue in more detail.</span></span> <span data-ttu-id="fe53d-120">In Beispiel 1 beginnen, wir mit zwei Produkten und zwei überlappenden Rabatten.</span><span class="sxs-lookup"><span data-stu-id="fe53d-120">In example 1, we start with two products and two overlapping discounts.</span></span> <span data-ttu-id="fe53d-121">Im Beispiel 2, zeigen wir, wie das Problem, entwickelt für weitere Produkte hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="fe53d-121">Then, in example 2, we show how the issue evolves as more products are added.</span></span>

### <a name="example-1-two-products-and-two-discounts"></a><span data-ttu-id="fe53d-122">Beispiel 1: Zwei beiden Rabatte und Produkte</span><span class="sxs-lookup"><span data-stu-id="fe53d-122">Example 1: Two products and two discounts</span></span>

<span data-ttu-id="fe53d-123">In diesem Beispiel wurden zwei Produkte erforderlich, das für jeden Rabatt zu erlangen, und Rabatte können nicht zusammengefasst werden.</span><span class="sxs-lookup"><span data-stu-id="fe53d-123">In this example, two products are required in order to qualify for each discount, and the discounts can't be combined.</span></span> <span data-ttu-id="fe53d-124">Die in Rabatte diesem Beispiel sind **Bester Preis** Rabatte.</span><span class="sxs-lookup"><span data-stu-id="fe53d-124">The discounts in this example are **Best price** discounts.</span></span> <span data-ttu-id="fe53d-125">Beide Produkte qualifizieren der beiden Rabatte.</span><span class="sxs-lookup"><span data-stu-id="fe53d-125">Both products qualify for both discounts.</span></span> <span data-ttu-id="fe53d-126">Hierbei gelten die beiden Rabatte.</span><span class="sxs-lookup"><span data-stu-id="fe53d-126">Here are the two discounts.</span></span>

![Beispiel zweiter bester Preisrabatte](./media/overlapping-discount-combo-01.jpg)

<span data-ttu-id="fe53d-128">Bei zwei Produkten hängt der bessere der beiden Rabatte vom Preis der beiden Produkte ab.</span><span class="sxs-lookup"><span data-stu-id="fe53d-128">For any two products, the better of these two discounts depends on the prices of the two products.</span></span> <span data-ttu-id="fe53d-129">Wenn der Preis beider Produkte oder gleich fast gleich ist besser, Skonto 1.</span><span class="sxs-lookup"><span data-stu-id="fe53d-129">When the price of both products is equal or almost equal, discount 1 is better.</span></span> <span data-ttu-id="fe53d-130">Wenn der Preis aus einem Produkt bei geringer als der anderen Preis des Produkts ist besser, Rabatt ist 2.</span><span class="sxs-lookup"><span data-stu-id="fe53d-130">When the price of one product is significantly less than the price of the other product, discount 2 is better.</span></span> <span data-ttu-id="fe53d-131">Hier ist die mathematischen Regel zur Abwägung der beiden Rabatte gegeneinander.</span><span class="sxs-lookup"><span data-stu-id="fe53d-131">Here is the mathematical rule for evaluating these two discounts against each other.</span></span>

![Regel für die Bewertung der Rabatte](./media/overlapping-discount-combo-02.jpg)

> [!NOTE]
> <span data-ttu-id="fe53d-133">Wenn der Preis von Produkt 1 gleich Zweidrittel des Preises von Produkt 2 beträgt, sind die beiden Rabatte identisch.</span><span class="sxs-lookup"><span data-stu-id="fe53d-133">When the price of product 1 is equal to two-thirds of the price of product 2, the two discounts are equal.</span></span> <span data-ttu-id="fe53d-134">In diesem Beispiel ist der zum Diskont effektive Rabattprozentsatz 1 von einigen Prozent (wenn die Preise der beiden Produkte weites getrennt sind), bis zu maximal 25 Prozent (wenn die Produkte zwei denselben Preis haben).</span><span class="sxs-lookup"><span data-stu-id="fe53d-134">In this example, the effective discount percentage for discount 1 varies from a few percent (when the prices of the two products are far apart) to a maximum of 25 percent (when the two products have the same price).</span></span> <span data-ttu-id="fe53d-135">Der Rabattprozentsatz für den Skonto 2 ist fest.</span><span class="sxs-lookup"><span data-stu-id="fe53d-135">The effective discount percentage for discount 2 is fixed.</span></span> <span data-ttu-id="fe53d-136">Es ist immer 20 Prozent.</span><span class="sxs-lookup"><span data-stu-id="fe53d-136">It's always 20 percent.</span></span> <span data-ttu-id="fe53d-137">Da der gültigen Rabattprozentsatz für Skonto 1 einen Bereich hat, der mehr als Rabatt oder kleiner als 2 sein kann, hängt der beste Rabatt von Preisen der beiden Produkte aus, die für den Rabatt gewährt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="fe53d-137">Because the effective discount percentage for discount 1 has a range that can be more than or less than discount 2, the best discount depends on the prices of the two products that must be discounted.</span></span> <span data-ttu-id="fe53d-138">In diesem Beispiel wird die Berechnung schnell ausgefüllt, da nur beiden Rabatte auf nur zwei Produkten angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="fe53d-138">In this example, the calculation is completed quickly, because only two discounts are applied on only two products.</span></span> <span data-ttu-id="fe53d-139">Es gibt lediglich zwei mögliche Kombinationen: eine Bewerbung der Anwendung des Rabatts 1 oder einen Rabatt. 2.</span><span class="sxs-lookup"><span data-stu-id="fe53d-139">There are only two possible combinations: one application of discount 1 or one application of discount 2.</span></span> <span data-ttu-id="fe53d-140">Es sind keine zuzuteilenden Belastungen vorhanden.</span><span class="sxs-lookup"><span data-stu-id="fe53d-140">There are no permutations to calculate.</span></span> <span data-ttu-id="fe53d-141">Der Wert jedes Rabatt wird berechnet, indem das sowohl Produkte verwendet, und der beste Rabatt wird verwendet.</span><span class="sxs-lookup"><span data-stu-id="fe53d-141">The value of each discount is calculated by using both products, and the best discount is used.</span></span>

### <a name="example-2-four-products-and-two-discounts"></a><span data-ttu-id="fe53d-142">Beispiel 2: Vier beiden Rabatte und Produkte</span><span class="sxs-lookup"><span data-stu-id="fe53d-142">Example 2: Four products and two discounts</span></span>

<span data-ttu-id="fe53d-143">Danach verwenden Sie vier Produkte und dieselben beiden Rabatte.</span><span class="sxs-lookup"><span data-stu-id="fe53d-143">Next, we will use four products and the same two discounts.</span></span> <span data-ttu-id="fe53d-144">Alle vier Produkte qualifizieren der beiden Rabatte.</span><span class="sxs-lookup"><span data-stu-id="fe53d-144">All four products qualify for both discounts.</span></span> <span data-ttu-id="fe53d-145">Es gibt zwölf mögliche Kombinationen.</span><span class="sxs-lookup"><span data-stu-id="fe53d-145">There are twelve possible combinations.</span></span> <span data-ttu-id="fe53d-146">Am Ende der Buchung werden beiden Rabatte auf drei verschiedene Kombinationen verwendet: Anwendungen zwei von Skonto 1, zwei Bewerbungen der Anwendung des Rabatts 2 oder einer der Anwendung des Rabatts 1 und einer von Rabatt. 2.</span><span class="sxs-lookup"><span data-stu-id="fe53d-146">In the end, two discounts will be applied to the transaction in one of three combinations: two applications of discount 1, two applications of discount 2, or one application of discount 1 and one application of discount 2.</span></span> <span data-ttu-id="fe53d-147">Um die möglichen Kombinationen zum Demonstrieren, beachten Sie zwei verschiedene Gruppen der Produkte die vier verschiedene Preise haben:</span><span class="sxs-lookup"><span data-stu-id="fe53d-147">To illustrate the possible combinations, we will look at two different sets of four products that have different prices:</span></span>

- <span data-ttu-id="fe53d-148">Alle vier Produkte denselben Preis haben, €15,00.</span><span class="sxs-lookup"><span data-stu-id="fe53d-148">All four products have the same price, $15.00.</span></span> <span data-ttu-id="fe53d-149">In diesem Fall ist die beste Rabattkombination zwei Bewerbungen von Rabatt. 1.</span><span class="sxs-lookup"><span data-stu-id="fe53d-149">In this case, the best discount combination is two applications of discount 1.</span></span> <span data-ttu-id="fe53d-150">Zwei Produkte sind voller Preis, und sind zwei heruntergesetzt 50 Prozent.</span><span class="sxs-lookup"><span data-stu-id="fe53d-150">Two products will be full price, and two will be 50 percent off.</span></span> <span data-ttu-id="fe53d-151">Die rabattierte Summe für die Buchung ist €45 (15 + 15 + 7,50 + 7,50), die €15 (25 Prozent) die zur Abrundung der nicht-rabattierten Summe von €60 ist.</span><span class="sxs-lookup"><span data-stu-id="fe53d-151">The discounted total for the transaction is $45 (15 + 15 + 7.50 + 7.50), which is $15 (25 percent) off the undiscounted total of $60.</span></span> <span data-ttu-id="fe53d-152">Skonto 2 ist nur €12 (20 Prozent).</span><span class="sxs-lookup"><span data-stu-id="fe53d-152">Discount 2 is only $12 (20 percent).</span></span>
- <span data-ttu-id="fe53d-153">Zwei Produkte sind €20 je, ist ein Produkt €15, und das Produkt ist €5.</span><span class="sxs-lookup"><span data-stu-id="fe53d-153">Two products are $20 each, one product is $15, and one product is $5.</span></span> <span data-ttu-id="fe53d-154">In diesem Fall ist die beste Rabattkombination eine Bewerbung der Anwendung des Rabatts 2 und einer erweiterten Rabatts. 1.</span><span class="sxs-lookup"><span data-stu-id="fe53d-154">In this case, the best discount combination is one application of discount 2 and one application of discount 1.</span></span> <span data-ttu-id="fe53d-155">Die folgenden Tabellen wird gezeigt Rabatte.</span><span class="sxs-lookup"><span data-stu-id="fe53d-155">The following tables illustrates the discounts.</span></span>

<span data-ttu-id="fe53d-156">Um die Tabellen gelesen, verwenden Sie ein Produkt aus einer Zeile und ein Produkt aus einer Spalte.</span><span class="sxs-lookup"><span data-stu-id="fe53d-156">To read the tables, use one product from a row and one product from a column.</span></span> <span data-ttu-id="fe53d-157">In der Tabelle für Skonto 1, wenn Sie mit den beiden €20 Produkte kombinieren, werden Sie bei €10 ab.</span><span class="sxs-lookup"><span data-stu-id="fe53d-157">For example, in the table for discount 1, when you combine the two $20 products, you get $10 off.</span></span> <span data-ttu-id="fe53d-158">In der Tabelle für Skonto 2, wenn Sie mit den €15 Produkt und dem €5 Produkt kombinieren, erhalten Sie €4 Rabatt.</span><span class="sxs-lookup"><span data-stu-id="fe53d-158">In the table for discount 2, when you combine the $15 product and the $5 product, you get $4 off.</span></span>

![Beispiel, das vier Produkte für dieselben zwei Rabatte verwendet](./media/overlapping-discount-combo-03.jpg)

<span data-ttu-id="fe53d-160">Zunächst suchen wir den höchsten Rabatt, der für einen der beiden Produkte verfügbar ist, in dem wir einen der Rabatte anwenden.</span><span class="sxs-lookup"><span data-stu-id="fe53d-160">First, we find the largest discount that is available from any two products by using either discount.</span></span> <span data-ttu-id="fe53d-161">Die beiden Tabellen zeigen den Rabattbetrag für alle Kombinationen der beiden Produkte angezeigt.</span><span class="sxs-lookup"><span data-stu-id="fe53d-161">The two tables show the discount amount for all combinations of the two products.</span></span> <span data-ttu-id="fe53d-162">Die schattierten Teile der Tabellen finden jeden Fälle, in denen ein Produkt mit dem zugeordnet ist, das von uns nicht ausführen können, oder ein Rückzuordnen zweier Produkten dar, weshalb dieselbe Rabattbetrag hergestellt und ignoriert werden kann.</span><span class="sxs-lookup"><span data-stu-id="fe53d-162">The shaded portions of the tables represent either cases where a product is paired with itself, which we can't do, or a reverse pairing of two products that produces the same discount amount and can be ignored.</span></span> <span data-ttu-id="fe53d-163">Durch Festlegen der Tabellen einmal genauer anschauen, werden Sie sehen, dass Skonto 1 für die zwei €20 Artikel der größten Rabatt ist, für jeden der Rabatt auf alle vier Produkte verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="fe53d-163">By looking at the tables, you can see that discount 1 for the two $20 items is the largest discount that is available for either discount on all four products.</span></span> <span data-ttu-id="fe53d-164">(Dieser Rabatt wird in grün in der ersten Tabelle. Markieren) Dadurch lassen nur das Produkt €15 und das Produkt €5.</span><span class="sxs-lookup"><span data-stu-id="fe53d-164">(This discount is highlighted in green in the first table.) That leaves only the $15 product and the $5 product.</span></span> <span data-ttu-id="fe53d-165">Wenn Sie erneut die beiden Tabellen einmal genauer anschauen, werden Sie sehen, dass, für diese beiden Produkte, Skonto 1 einen Rabatt €2,50 gibt, für Skonto 2 einen Rabatt €4 gibt.</span><span class="sxs-lookup"><span data-stu-id="fe53d-165">By looking at the two tables again, you can see that, for these two products, discount 1 gives a $2.50 discount, whereas discount 2 gives a $4 discount.</span></span> <span data-ttu-id="fe53d-166">Daher wird Skonto 2 aus.</span><span class="sxs-lookup"><span data-stu-id="fe53d-166">Therefore, we select discount 2.</span></span> <span data-ttu-id="fe53d-167">Der Rechnungsrabatt beträgt €14.</span><span class="sxs-lookup"><span data-stu-id="fe53d-167">The total discount is $14.</span></span> <span data-ttu-id="fe53d-168">Um diese Diskussion zu vereinfachen visualisiert werden, sollten Sie hier zwei zusätzliche Tabellen die der eigentliche Rabattprozentsatz für alle möglichen Zwei-Produktkombinationen für Skonto 1 Skonto 2 und anzeigen.</span><span class="sxs-lookup"><span data-stu-id="fe53d-168">To make this discussion easier to visualize, here are two additional tables that show the effective discount percentage for all possible two-product combinations for both discount 1 and discount 2.</span></span> <span data-ttu-id="fe53d-169">Nur ist Hälfte Liste mit Kombinationen eingeschlossen, weil, für diese beiden Rabatte, den Auftrag, in der zwei die Produkte in den Rabatt angewendet werden, noch ist.</span><span class="sxs-lookup"><span data-stu-id="fe53d-169">Only half the list of combinations is included, because, for these two discounts, the order in which the two products are put into the discount doesn't matter.</span></span> <span data-ttu-id="fe53d-170">Der höchste effektive Rabatt (25 Prozent) wird in grün und niedrigsten im tatsächlichen Rabatt (10 Prozent) markiert wird rot hervorgehoben.</span><span class="sxs-lookup"><span data-stu-id="fe53d-170">The highest effective discount (25 percent) is highlighted in green, and the lowest effective discount (10 percent) is highlighted in red.</span></span>

![Effektiver Rabattprozentsatz für alle Zwei-Produkt-Kombinationen für beide Rabatte](./media/overlapping-discount-combo-04.jpg)

> [!NOTE]
> <span data-ttu-id="fe53d-172">Wenn Preise variieren, und zwei oder mehr Rabatte miteinander konkurrieren, besteht die einzige Möglichkeit, die beste Rabattkombination zu garantieren, darin, beide Rabatte zu bewerten und miteinander zu vergleichen.</span><span class="sxs-lookup"><span data-stu-id="fe53d-172">When prices vary, and two or more discount compete, the only way to guarantee the best combination of discounts is to evaluate both discounts and compare them.</span></span>

## <a name="total-possible-combinations"></a><span data-ttu-id="fe53d-173">Insgesamt mögliche Kombinationen</span><span class="sxs-lookup"><span data-stu-id="fe53d-173">Total possible combinations</span></span>

<span data-ttu-id="fe53d-174">Dieser Abschnitt wird das beispielsweise von vorherigen Abschnitt fort.</span><span class="sxs-lookup"><span data-stu-id="fe53d-174">This section continues the example from the previous section.</span></span> <span data-ttu-id="fe53d-175">Es können weitere Produkte und einen anderen Rabatt hinzu und finden, wie viele Kombinationen berechnet und verglichen werden müssen.</span><span class="sxs-lookup"><span data-stu-id="fe53d-175">We will add more products and another discount, and see how many combinations must be calculated and compared.</span></span> <span data-ttu-id="fe53d-176">In der folgenden Tabelle wird die Anzahl für mögliche Rabattkombinationen als die Produktmengenerhöhungen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="fe53d-176">The following table shows the number of possible discount combinations as the product quantity increases.</span></span> <span data-ttu-id="fe53d-177">Die Tabelle ist angegeben, was einerseits, wenn zwei überlappende Rabatte gibt, wie im vorherigen Beispiel erfolgt, und wenn es drei überlappende Rabatte gibt.</span><span class="sxs-lookup"><span data-stu-id="fe53d-177">The table shows what happens both when there are two overlapping discounts, as in the previous example, and when there are three overlapping discounts.</span></span> <span data-ttu-id="fe53d-178">Die Anzahl für mögliche Rabattkombinationen, die demnächst ausgewertet werden müssen, überschreitet, was auch ein Computer schneller berechnen sowie Vergleichen kann schnell genug, um für Einzelhandelstransaktionen akzeptiert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="fe53d-178">The number of possible discount combinations that must be evaluated soon exceeds what even a fast computer can calculate and compare quickly enough to be acceptable for retail transactions.</span></span>

![Anzahl für mögliche Rabattkombinationen bei Erhöhung der Produktmenge](./media/overlapping-discount-combo-05.jpg)

<span data-ttu-id="fe53d-180">Werden sogar größere Mengen oder mehr sich überschneidende Rabatte angewendet, geht die gesamte Anzahl möglicher Rabattkombinationen schnell in die Millionen. Und die Zeit, die erforderlich ist, die bestmögliche Kombination zu bewerten und auszuwählen, wird schnell spürbar.</span><span class="sxs-lookup"><span data-stu-id="fe53d-180">When even larger quantities or more overlapping discounts are applied, the total number of possible discount combinations quickly goes into the millions, and the time that is required in order to evaluate and select the best possible combination quickly becomes noticeable.</span></span> <span data-ttu-id="fe53d-181">Einige Optimierungen sind im Preismodul erfolgt, um die Gesamtanzahl von Kombinationen zu reduzieren, die überprüft werden müssen.</span><span class="sxs-lookup"><span data-stu-id="fe53d-181">Some optimizations have been done in the price engine to reduce the total number of combinations that must be evaluated.</span></span> <span data-ttu-id="fe53d-182">Da jedoch die überlappenden Rabatte der Nummer und Mengen in einer Buchung nicht eingeschränkt werden, müssen mehrere Kombinationen immer ausgewertet werden, sobald sich überlappende Rabatte gibt.</span><span class="sxs-lookup"><span data-stu-id="fe53d-182">However, because the number overlapping discounts and the quantities in a transaction aren't limited, a large number of combinations will always have to be evaluated whenever there are overlapping discounts.</span></span> <span data-ttu-id="fe53d-183">Dieses Problem wird der Abgang die Schwellenwertklassifizierungs-Methodenadressen.</span><span class="sxs-lookup"><span data-stu-id="fe53d-183">This issue is the issue that the marginal value ranking method addresses.</span></span>

## <a name="marginal-value-method"></a><span data-ttu-id="fe53d-184">Schwellenwertmethode</span><span class="sxs-lookup"><span data-stu-id="fe53d-184">Marginal value method</span></span>

<span data-ttu-id="fe53d-185">Um den Abgang einer exponential zunehmenden Anzahl von Kombinationen die Behebung ausgewertet werden müssen, ist eine Optimierung die den Wert pro freigegebenes Produkt jedes Rabatts im Satz von Produkten berechnet die zwei oder mehr Rabatte angewendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="fe53d-185">To resolve the issue of an exponentially increasing number of combinations that must be evaluated, an optimization exists that calculates the value per shared product of each discount on the set of products that two or more discounts can be applied to.</span></span> <span data-ttu-id="fe53d-186">Wir bezeichnen diesen Wert als **Schwellenwert** des Rabatts für die freigegebene Produkte angezeigt.</span><span class="sxs-lookup"><span data-stu-id="fe53d-186">We refer to this value as the **marginal value** of the discount for the shared products.</span></span> <span data-ttu-id="fe53d-187">Der Schwellenwert ist der Durchschnitt pro Produkterhöhung im freigegebenen Gesamtrabattbetrag, wenn die Produkte in den Rabattzeitraum einbezogen werden sollen.</span><span class="sxs-lookup"><span data-stu-id="fe53d-187">The marginal value is the average per product increase in the total discount amount when the shared products are included in each discount.</span></span> <span data-ttu-id="fe53d-188">Der Schwellenwert wird berechnet, indem der Gesamtrabattbetrag (DTotal), den Rabattbetrag ohne die freigegebene Produkte (DMinus\\Shared) abgezogen, und die Differenz von der Anzahl von freigegebenen Produkten (ProductsShared) geteilt.</span><span class="sxs-lookup"><span data-stu-id="fe53d-188">The marginal value is calculated by taking the total discount amount (DTotal), subtracting the discount amount without the shared products (DMinus\\ Shared), and dividing that difference by the number of shared products (ProductsShared).</span></span>

![Formel für die Berechnung des Schwellenwerts](./media/overlapping-discount-combo-06.jpg)

<span data-ttu-id="fe53d-190">Nachdem der Schwellenwert eines jeden Rabatts auf einem freigegebenen Produktsatz berechnet wurde, werden die Rabatte auf die freigegebenen Produkten angewendet, und zwar in der Reihenfolge vom höchsten Schwellenwert bis zu niedrigsten Schwellenwert.</span><span class="sxs-lookup"><span data-stu-id="fe53d-190">After the marginal value of each discount on a shared set of products is calculated, the discounts are applied to the shared products in order, exhaustively, from highest marginal value to lowest marginal value.</span></span> <span data-ttu-id="fe53d-191">Bei dieser Methode werden alle restlichen Rabattmöglichkeiten nicht jedes Mal verglichen, nachdem eine einzelne AOS-Instanz einen Rabatt angewendet wurde.</span><span class="sxs-lookup"><span data-stu-id="fe53d-191">For this method, all remaining discount possibilities aren't compared every time after a single instance of a discount is applied.</span></span> <span data-ttu-id="fe53d-192">Stattdessen werden einmal verglichen überlappenden die Rabatte angewendet und dann im Auftrag.</span><span class="sxs-lookup"><span data-stu-id="fe53d-192">Instead, the overlapping discounts are compared one time and then applied in order.</span></span> <span data-ttu-id="fe53d-193">Keine weiteren Vergleiche durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="fe53d-193">No additional comparisons are done.</span></span> <span data-ttu-id="fe53d-194">Sie können den Schwellenwert konfigurieren, die der auf der Schwellenwertmethode **Rabatt** Registerkarte der **Commerce Parameter** Seite zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="fe53d-194">You can configure the threshold to switch to the marginal value method on the **Discount** tab of the **Commerce parameters** page.</span></span> <span data-ttu-id="fe53d-195">Die akzeptierte Zeit, den Rechnungsrabatt zu berechnen variiert zu Einzelhandel.</span><span class="sxs-lookup"><span data-stu-id="fe53d-195">The acceptable time to calculate the total discount varies across retail industries.</span></span> <span data-ttu-id="fe53d-196">Allerdings liegt diese Zeit im Allgemeinen im Bereich der zehnten Millisekunden auf einer Sekunde.</span><span class="sxs-lookup"><span data-stu-id="fe53d-196">However, this time generally falls in the range of tens of milliseconds to one second.</span></span>
