---
title: Synchronisieren von Projektverträgen und Projekten direkt aus Project Service Automation mit Finance and Operations
description: Dieses Thema beschreibt die Vorlagen und die zugrunde liegenden Aufgaben, die verwendet werden, um die Projekte und Projektverträge direkt aus Microsoft Dynamics 365 Project Service Automation mit Dynamics 365 Finance zu synchronisieren.
author: KimANelson
manager: AnnBe
ms.date: 09/09/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: 87983
ms.assetid: b454ad57-2fd6-46c9-a77e-646de4153067
ms.search.region: Global
ms.author: knelson
ms.search.validFrom: 2017-12-13
ms.dyn365.ops.version: AX 7.3.0
ms.openlocfilehash: 76c62f3a503ff2a8c93143390fc91ef81fbf7d0f
ms.sourcegitcommit: 2460d0da812c45fce67a061386db52e0ae46b0f3
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 09/30/2019
ms.locfileid: "2250460"
---
# <a name="synchronize-project-contracts-and-projects-directly-from-project-service-automation-to-finance-and-operations"></a><span data-ttu-id="ac390-103">Synchronisieren von Projektverträgen und Projekten direkt aus Project Service Automation mit Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="ac390-103">Synchronize project contracts and projects directly from Project Service Automation to Finance and Operations</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="ac390-104">Dieses Thema beschreibt die Vorlagen und die zugrunde liegenden Aufgaben, die verwendet werden, um die Projekte und Projektverträge direkt aus Dynamics 365 Project Service Automation mit Dynamics 365 Finance zu synchronisieren.</span><span class="sxs-lookup"><span data-stu-id="ac390-104">This topic describes the template and underlying tasks that are used to synchronize project contracts and projects directly from Dynamics 365 Project Service Automation to Dynamics 365 Finance.</span></span>

> [!NOTE] 
> <span data-ttu-id="ac390-105">Wenn Sie Enterprise Edition 7.3.0 verwenden, müssen Sie KB 4074835 installieren.</span><span class="sxs-lookup"><span data-stu-id="ac390-105">If you're using Enterprise edition 7.3.0, you must install KB 4074835.</span></span>

## <a name="data-flow-for-project-service-automation-to-finance"></a><span data-ttu-id="ac390-106">Datenfluss für Project Service Automation zu Finance</span><span class="sxs-lookup"><span data-stu-id="ac390-106">Data flow for Project Service Automation to Finance</span></span>

> [!NOTE]
> <span data-ttu-id="ac390-107">Bevor Sie die Project Service Automation to Finance Integrationslösung nutzen können, sollten Sie sich mit der Datenenintegrationsfunktion von Dynamics 365 vertraut gemacht haben.</span><span class="sxs-lookup"><span data-stu-id="ac390-107">Before you can use the Project Service Automation to Finance integration solution, you should be familiar with the Dynamics 365 Data integration feature.</span></span>

<span data-ttu-id="ac390-108">Die Project Service Automation nach Finance-Integrationslösung nutzen die Datenenintegrationsfunktion, um Daten in Instanzen von Project Service Automation und Finance zu synchronisieren.</span><span class="sxs-lookup"><span data-stu-id="ac390-108">The Project Service Automation to Finance integration solution uses the Data integration feature to synchronize data across instances of Project Service Automation and Finance.</span></span> <span data-ttu-id="ac390-109">Die Integrationsvorlagen, die in der Daten-Integrationsfunktion verfügbar sind, aktivieren den Fluss von Daten zu Projektverträgen, Projekten, Projektvertragspositionen und Projektvertragszeilen-Meilensteine von Project Service Automation zu Finance.</span><span class="sxs-lookup"><span data-stu-id="ac390-109">The integration template that is available with the Data integration feature enables the flow of data about project contracts, projects, project contract lines, and project contract line milestones from Project Service Automation to Finance.</span></span>

<span data-ttu-id="ac390-110">Die folgende Abbildung zeigt, wie Daten als Teil der Integration zwischen Project Service Automation und Finance synchronisiert werden.</span><span class="sxs-lookup"><span data-stu-id="ac390-110">The following illustration shows how the data is synchronized between Project Service Automation and Finance.</span></span>

<span data-ttu-id="ac390-111">[![Datenfluss für Project Service Automation Integration mit Finance](./media/ProjectsAndContractsFlow.JPG)](./media/ProjectsAndContractsFlow.JPG)</span><span class="sxs-lookup"><span data-stu-id="ac390-111">[![Data flow for Project Service Automation integration with Finance](./media/ProjectsAndContractsFlow.JPG)](./media/ProjectsAndContractsFlow.JPG)</span></span>

## <a name="templates-and-tasks"></a><span data-ttu-id="ac390-112">Vorlagen und Aufgaben</span><span class="sxs-lookup"><span data-stu-id="ac390-112">Templates and tasks</span></span>

<span data-ttu-id="ac390-113">Wenn Sie auf die verfügbaren Vorlagen im Microsoft PowerApps-Admin Center zugreifen möchten, wählen Sie **Projekte**, und klicken Sie dann in der oberen rechten Ecke auf **Neues Projekt**, um die öffentliche Vorlage auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="ac390-113">To access the available templates, in the Microsoft PowerApps admin center, select **Projects**, and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="ac390-114">Die folgenden Vorlagen und zugrunde liegenden Aufgaben werden verwendet, um Projektverträge und Projekte von Project Service Automation zu Finance zu synchronisieren:</span><span class="sxs-lookup"><span data-stu-id="ac390-114">The following templates and underlying tasks are used to synchronize project contracts and projects from Project Service Automation to Finance:</span></span>

### <a name="integrating-with-dynamics-365-project-service-automation-v2x"></a><span data-ttu-id="ac390-115">Integration in Dynamics 365 Project Service Automation v2.x</span><span class="sxs-lookup"><span data-stu-id="ac390-115">Integrating with Dynamics 365 Project Service Automation v2.x</span></span>
- <span data-ttu-id="ac390-116">**Name der Vorlage in der Datenintegration:** Projekte und Verträge (PSA zu Fin und Ops)</span><span class="sxs-lookup"><span data-stu-id="ac390-116">**Name of the template in Data integration:** Projects and contracts (PSA to Fin and Ops)</span></span>
- <span data-ttu-id="ac390-117">**Name der Aufgaben im Projekt:**</span><span class="sxs-lookup"><span data-stu-id="ac390-117">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="ac390-118">Projektverträge PSA zu Fin und Ops</span><span class="sxs-lookup"><span data-stu-id="ac390-118">Project contracts PSA to Fin and Ops</span></span>
    - <span data-ttu-id="ac390-119">Projekte PSA zu Fin und Ops</span><span class="sxs-lookup"><span data-stu-id="ac390-119">Projects PSA to Fin and Ops</span></span>
    - <span data-ttu-id="ac390-120">Projektvertragszeilen PSA zu Fin und Ops</span><span class="sxs-lookup"><span data-stu-id="ac390-120">Project contract lines PSA to Fin and Ops</span></span>
    - <span data-ttu-id="ac390-121">Projektvertragszeilen-Meilensteine PSA zu Fin und Ops</span><span class="sxs-lookup"><span data-stu-id="ac390-121">Project contract line milestones PSA to Fin and Ops</span></span>
  
### <a name="integrating-with-dynamics-365-project-service-automation-v3x"></a><span data-ttu-id="ac390-122">Integration in Dynamics 365 Project Service Automation v3.x</span><span class="sxs-lookup"><span data-stu-id="ac390-122">Integrating with Dynamics 365 Project Service Automation v3.x</span></span>
<span data-ttu-id="ac390-123">Es gibt eine Schemaänderung in Project Service Automation, die sich auf die Vorlage für Projektvertragspositionsmeilensteine auswirkt und die Nutzung der Vorlage für Version v2 der erforderlich, um Project Service Automation v3.x in Dynamics 365 zu integrieren.</span><span class="sxs-lookup"><span data-stu-id="ac390-123">There is a schema change in Project Service Automation that impacts the Project contract line milestone template and use of the v2 version of the template is required to integrate Project Service Automation v3.x with Dynamics 365.</span></span>

- <span data-ttu-id="ac390-124">**Name der Vorlage in der Datenintegration:** Projekte und Verträge (PSA 3.x zu Fin und Ops) - v2</span><span class="sxs-lookup"><span data-stu-id="ac390-124">**Name of the template in Data integration:** Projects and Contracts (PSA 3.x to Fin and Ops) - v2</span></span>
- <span data-ttu-id="ac390-125">**Name der Aufgaben im Projekt:**</span><span class="sxs-lookup"><span data-stu-id="ac390-125">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="ac390-126">Projektverträge PSA zu Fin und Ops</span><span class="sxs-lookup"><span data-stu-id="ac390-126">Project contracts PSA to Fin and Ops</span></span>
    - <span data-ttu-id="ac390-127">Projekte PSA zu Fin und Ops</span><span class="sxs-lookup"><span data-stu-id="ac390-127">Projects PSA to Fin and Ops</span></span>
    - <span data-ttu-id="ac390-128">Projektvertragszeilen PSA zu Fin und Ops</span><span class="sxs-lookup"><span data-stu-id="ac390-128">Project contract lines PSA to Fin and Ops</span></span>
    - <span data-ttu-id="ac390-129">Projektvertragszeilen-Meilensteine PSA zu Fin und Ops</span><span class="sxs-lookup"><span data-stu-id="ac390-129">Project contract line milestones PSA to Fin and Ops</span></span>

<span data-ttu-id="ac390-130">Vor der Synchronisierung von Projektverträgen und Projekten müssen Sie zunächst Konten synchronisieren.</span><span class="sxs-lookup"><span data-stu-id="ac390-130">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>

## <a name="entity-set"></a><span data-ttu-id="ac390-131">Entitätssatz</span><span class="sxs-lookup"><span data-stu-id="ac390-131">Entity set</span></span>

| <span data-ttu-id="ac390-132">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="ac390-132">Project Service Automation</span></span>       | <span data-ttu-id="ac390-133">Finanzen</span><span class="sxs-lookup"><span data-stu-id="ac390-133">Finance</span></span>                                                |
|----------------------------------|--------------------------------------------------------|
| <span data-ttu-id="ac390-134">Aufträge</span><span class="sxs-lookup"><span data-stu-id="ac390-134">Orders</span></span>                           | <span data-ttu-id="ac390-135">Integrationsentität für Projektvertrag</span><span class="sxs-lookup"><span data-stu-id="ac390-135">Integration entity for project contract</span></span>                |
| <span data-ttu-id="ac390-136">Projekte</span><span class="sxs-lookup"><span data-stu-id="ac390-136">Projects</span></span>                         | <span data-ttu-id="ac390-137">Integrationsentität für Projekt</span><span class="sxs-lookup"><span data-stu-id="ac390-137">Integration entity for project</span></span>                         |
| <span data-ttu-id="ac390-138">Auftragspositionen</span><span class="sxs-lookup"><span data-stu-id="ac390-138">Order lines</span></span>                      | <span data-ttu-id="ac390-139">Integrationsentität für Projektvertragsposition</span><span class="sxs-lookup"><span data-stu-id="ac390-139">Integration entity for project contract line</span></span>           |
| <span data-ttu-id="ac390-140">Projektvertragspositionen-Meilenstein</span><span class="sxs-lookup"><span data-stu-id="ac390-140">Project contract line milestones</span></span> | <span data-ttu-id="ac390-141">Integrationsentität für Meilensteine von Projektvertragspositionen</span><span class="sxs-lookup"><span data-stu-id="ac390-141">Integration entity for project contract line milestone</span></span> |

## <a name="entity-flow"></a><span data-ttu-id="ac390-142">Entitätsfluss</span><span class="sxs-lookup"><span data-stu-id="ac390-142">Entity flow</span></span>

<span data-ttu-id="ac390-143">Projektverträge werden in der Project Service Automation verwaltet und zu Finance als Projektverträge synchronisiert.</span><span class="sxs-lookup"><span data-stu-id="ac390-143">Project contracts are managed in Project Service Automation, and they are synchronized to Finance as project contracts.</span></span> <span data-ttu-id="ac390-144">Als Teil der Integrationsvorlage können Sie die Integrationsquelle in Finance für den Projektvertrag einrichten.</span><span class="sxs-lookup"><span data-stu-id="ac390-144">As part of the integration template, you can set the integration source in Finance for the project contract.</span></span>

<span data-ttu-id="ac390-145">Zeit- und Materialprojekt sowie Festpreisprojekte werden in Project Service Automation verwaltet, und sie werden mit Finance als Projekte synchronisiert.</span><span class="sxs-lookup"><span data-stu-id="ac390-145">Time and material project and Fixed price projects are managed in Project Service Automation, and they are synchronized to Finance as projects.</span></span> <span data-ttu-id="ac390-146">Als Teil der Integrationsvorlage können Sie die Integrationsquelle in Finance für das Projekt einrichten.</span><span class="sxs-lookup"><span data-stu-id="ac390-146">As part of the template integration, you can set the integration source in Finance for the project.</span></span>

<span data-ttu-id="ac390-147">Projektvertragspositionen werden in Project Service Automation verwaltet und zu Finance als Projektvertrags-Fakturierungsregeln synchronisiert.</span><span class="sxs-lookup"><span data-stu-id="ac390-147">Project contract lines are managed in Project Service Automation, and they are synchronized to Finance as project contract billing rules.</span></span> <span data-ttu-id="ac390-148">Wenn sich die Fakturierungsmethode vom Standardprojekttyp unterscheidet, wird durch die Synchronisierung der Projekttyp für das Vertragspositionsprojekt und die Projektgruppe aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="ac390-148">If the billing method differs from the default project type, the synchronization updates the project type for the contract line project and project group.</span></span>

<span data-ttu-id="ac390-149">Projektvertragspositionen-Meilensteine werden in Project Service Automation verwaltet und zu Finance als Projektvertrags-Fakturierungsregeln synchronisiert.</span><span class="sxs-lookup"><span data-stu-id="ac390-149">Project contract line milestones are managed in Project Service Automation, and they are synchronized to Finance as project contract billing rule milestones.</span></span>

## <a name="project-service-automation-to-finance-integration-solution"></a><span data-ttu-id="ac390-150">Project Service Automation zu Finance-Integrationslösung</span><span class="sxs-lookup"><span data-stu-id="ac390-150">Project Service Automation to Finance integration solution</span></span>

<span data-ttu-id="ac390-151">Das Feld **Projektvertragskennung** ist auf der Seite **Projektverträge** verfügbar.</span><span class="sxs-lookup"><span data-stu-id="ac390-151">The **Project contract ID** field is available on the **Project contracts** page.</span></span> <span data-ttu-id="ac390-152">Das Feld wurde zu einem natürlichen und eindeutigen Schlüssel für die Unterstützung der Integration.</span><span class="sxs-lookup"><span data-stu-id="ac390-152">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="ac390-153">Wenn ein neuer Projektvertrag erstellt wird, wenn ein **Projektvertragskennungs**-Wert nicht bereits vorhanden ist, wird er automatisch unter Verwendung einer fortlaufenden Nummerierung erstellt.</span><span class="sxs-lookup"><span data-stu-id="ac390-153">When a new project contract is created, if a **Project contract ID** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="ac390-154">Der Wert besteht aus **ORD**, gefolgt von einer aufsteigenden fortlaufenden Nummerierung und einem Suffix aus sechs Zeichen.</span><span class="sxs-lookup"><span data-stu-id="ac390-154">The value consists of **ORD** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="ac390-155">Hier ist ein Beispiel: **ORD-01022-Z4M9Q0**.</span><span class="sxs-lookup"><span data-stu-id="ac390-155">Here is an example: **ORD-01022-Z4M9Q0**.</span></span>

<span data-ttu-id="ac390-156">Das Feld **Projektnummer** steht auf der Seite **Projekte** zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="ac390-156">The **Project Number** field is available on the **Projects** page.</span></span> <span data-ttu-id="ac390-157">Das Feld wurde zu einem natürlichen und eindeutigen Schlüssel für die Unterstützung der Integration.</span><span class="sxs-lookup"><span data-stu-id="ac390-157">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="ac390-158">Wenn ein neues Projekt angelegt wird und noch kein **Projektnummer**-Wert vorhanden ist, wird es automatisch unter Verwendung einer fortlaufenden Nummerierung erstellt.</span><span class="sxs-lookup"><span data-stu-id="ac390-158">When a new project is created, if a **Project Number** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="ac390-159">Der Wert besteht aus **PRJ**, gefolgt von einer aufsteigenden fortlaufenden Nummerierung und einem Suffix aus sechs Zeichen.</span><span class="sxs-lookup"><span data-stu-id="ac390-159">The value consists of **PRJ** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="ac390-160">Hier ist ein Beispiel: **PRJ-01049-CCNID0**.</span><span class="sxs-lookup"><span data-stu-id="ac390-160">Here is an example: **PRJ-01049-CCNID0**.</span></span>

<span data-ttu-id="ac390-161">Wenn die Project Service Automation zu Finance Integrationslösung angewendet wird, legt ein Aktualisierungsskript das Feld **Projektvertrag ID** für vorhandene Projektverträge und das Feld **Projektnummern** für vorhandene Projekte in Project Service Automation fest.</span><span class="sxs-lookup"><span data-stu-id="ac390-161">When the Project Service Automation to Finance integration solution is applied, an upgrade script sets the **Project contract ID** field for existing project contracts and the **Project Number** field for existing projects in Project Service Automation.</span></span>

## <a name="prerequisites-and-mapping-setup"></a><span data-ttu-id="ac390-162">Voraussetzungen und Zuordnungseinrichtung</span><span class="sxs-lookup"><span data-stu-id="ac390-162">Prerequisites and mapping setup</span></span>

- <span data-ttu-id="ac390-163">Vor der Synchronisierung von Projektverträgen und Projekten müssen Sie zunächst Konten synchronisieren.</span><span class="sxs-lookup"><span data-stu-id="ac390-163">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>
- <span data-ttu-id="ac390-164">In Ihrem Verbindungssatz fügen Sie eine Integrationsschlüsselfeldzuordnung für **msdyn\_organizationalunits** zu **msdyn\_name \[Name\]** hinzu.</span><span class="sxs-lookup"><span data-stu-id="ac390-164">In your connection set, add an integration key field mapping for **msdyn\_organizationalunits** to **msdyn\_name \[Name\]**.</span></span> <span data-ttu-id="ac390-165">Möglicherweise müssen Sie zuerst ein Projekt im Verbindungssatz hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ac390-165">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="ac390-166">Weitere Informationen finden Sie unter [Datenintegration in Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="ac390-166">For more information, see [Integrate data into Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="ac390-167">In Ihrem Verbindungssatz fügen Sie eine Integrationsschlüsselfeldzuordnung für **msdyn\_projects** zu **msdynce\_projectnumber \[Project Number\]** hinzu.</span><span class="sxs-lookup"><span data-stu-id="ac390-167">In your connection set, add an integration key field mapping for **msdyn\_projects** to **msdynce\_projectnumber \[Project Number\]**.</span></span> <span data-ttu-id="ac390-168">Möglicherweise müssen Sie zuerst ein Projekt im Verbindungssatz hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ac390-168">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="ac390-169">Weitere Informationen finden Sie unter [Datenintegration in Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="ac390-169">For more information, see [Integrate data into Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="ac390-170">**SourceDataID** für Projektverträge und Projekte kann mit einem anderen Wert aktualisiert oder von der Zuordnung entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="ac390-170">**SourceDataID** for project contracts and projects can be updated to a different value or removed from the mapping.</span></span> <span data-ttu-id="ac390-171">Der Standardvorlagewert ist **Project Service Automation**.</span><span class="sxs-lookup"><span data-stu-id="ac390-171">The default template value is **Project Service Automation**.</span></span>
- <span data-ttu-id="ac390-172">Die Zuordnung **PaymentTerms** muss aktualisiert werden, damit er gültige Zahlungsbedingungen in Finance anzeigt.</span><span class="sxs-lookup"><span data-stu-id="ac390-172">The **PaymentTerms** mapping must be updated so that it reflects valid terms of payment in Finance.</span></span> <span data-ttu-id="ac390-173">Sie können die Zuordnung aus der Projektaufgabe auch wieder entfernen.</span><span class="sxs-lookup"><span data-stu-id="ac390-173">You can also remove the mapping from the project task.</span></span> <span data-ttu-id="ac390-174">Die Standardwerte für Standardwertzuordnung hat Demodaten.</span><span class="sxs-lookup"><span data-stu-id="ac390-174">The default value map has default values for demo data.</span></span> <span data-ttu-id="ac390-175">Die folgende Tabelle zeigt die Werte in der Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="ac390-175">The following table shows the values in Project Service Automation.</span></span>

    | <span data-ttu-id="ac390-176">Wert</span><span class="sxs-lookup"><span data-stu-id="ac390-176">Value</span></span> | <span data-ttu-id="ac390-177">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="ac390-177">Description</span></span>   |
    |-------|---------------|
    | <span data-ttu-id="ac390-178">1</span><span class="sxs-lookup"><span data-stu-id="ac390-178">1</span></span>     | <span data-ttu-id="ac390-179">Netto 30</span><span class="sxs-lookup"><span data-stu-id="ac390-179">Net 30</span></span>        |
    | <span data-ttu-id="ac390-180">2</span><span class="sxs-lookup"><span data-stu-id="ac390-180">2</span></span>     | <span data-ttu-id="ac390-181">2% 10, Netto 30</span><span class="sxs-lookup"><span data-stu-id="ac390-181">2% 10, Net 30</span></span> |
    | <span data-ttu-id="ac390-182">3</span><span class="sxs-lookup"><span data-stu-id="ac390-182">3</span></span>     | <span data-ttu-id="ac390-183">Netto 45</span><span class="sxs-lookup"><span data-stu-id="ac390-183">Net 45</span></span>        |
    | <span data-ttu-id="ac390-184">4</span><span class="sxs-lookup"><span data-stu-id="ac390-184">4</span></span>     | <span data-ttu-id="ac390-185">Netto 60</span><span class="sxs-lookup"><span data-stu-id="ac390-185">Net 60</span></span>        |

## <a name="power-query"></a><span data-ttu-id="ac390-186">Powerabfrage</span><span class="sxs-lookup"><span data-stu-id="ac390-186">Power Query</span></span>

<span data-ttu-id="ac390-187">Sie müssen Microsoft Power Query für Excel verwenden, um Daten zu filtern, wenn die folgenden Bedingungen erfüllt sind:</span><span class="sxs-lookup"><span data-stu-id="ac390-187">You must use Microsoft Power Query for Excel to filter data if the following conditions are met:</span></span>

- <span data-ttu-id="ac390-188">Sie haben Aufträge in Dynamics 365 Sales.</span><span class="sxs-lookup"><span data-stu-id="ac390-188">You have sales orders in Dynamics 365 Sales.</span></span>
- <span data-ttu-id="ac390-189">Es haben mehrere Organisationseinheiten in der Project Service Automation und diese Organisationseinheiten werden mehreren juristischen Personen in Finance zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="ac390-189">You have multiple organizational units in Project Service Automation, and these organizational units will be mapped to multiple legal entities in Finance.</span></span>

<span data-ttu-id="ac390-190">Wenn Sie Power Query verwenden möchten, folgen Sie diesen Richtlinien:</span><span class="sxs-lookup"><span data-stu-id="ac390-190">If you must use Power Query, follow these guidelines:</span></span>

- <span data-ttu-id="ac390-191">Die Vorlage für Projekte und Verträge (PSA zu Fin and Ops) besitzt einen Standardfilter, der nur Aufträge vom Typ **Arbeitsaufgabe (msdyn\_ordertype = 192350001)** enthält.</span><span class="sxs-lookup"><span data-stu-id="ac390-191">The Projects and contracts (PSA to Fin and Ops) template has a default filter that includes only sales orders of the **Work item (msdyn\_ordertype = 192350001)** type.</span></span> <span data-ttu-id="ac390-192">Durch diesen Filter wird sichergestellt, dass Projektverträge nicht für Aufträge in Finance erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="ac390-192">This filter helps guarantee that project contracts aren't created for sales orders in Finance.</span></span> <span data-ttu-id="ac390-193">Wenn Sie Ihre eigenen Vorlagen erstellen, müssen Sie diese dem Filter hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ac390-193">If you create your own template, you must add this filter.</span></span>
- <span data-ttu-id="ac390-194">Sie müssen einen Power Query-Filter erstellen, der nur Vertragsorganisationen enthält, die mit der juristischen Person des Integrations-Verbindungssatzes synchronisiert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="ac390-194">You must create a Power Query filter that includes only the contract organizations that should be synchronized to the legal entity of the integration connection set.</span></span> <span data-ttu-id="ac390-195">Beispielsweise sollten Projektverträge, die Sie mit der Vertragsorganisationseinheit von Contoso USA haben, mit der USSI-juristischen Person synchronisiert werden, aber Projektverträge, die Sie mit der Vertragsorganisationseinheit von Contoso Global haben, sollten mit der USMF juristischen Person synchronisiert werden.</span><span class="sxs-lookup"><span data-stu-id="ac390-195">For example, project contracts that you have with the contract organizational unit of Contoso US should be synchronized to the USSI legal entity, but project contracts that you have with the contract organizational unit of Contoso Global should be synchronized to the USMF legal entity.</span></span> <span data-ttu-id="ac390-196">Wenn Sie diesen Filter nicht Ihrer Aufgabenzuordnung hinzufügen, werden alle Projektverträge mit der juristischen Person synchronisiert, die für den Verbindungssatz definiert ist, unabhängig von der Vertragsorganisationseinheit.</span><span class="sxs-lookup"><span data-stu-id="ac390-196">If you don't add this filter to your task mapping, all project contracts will be synchronized to the legal entity that is defined for the connection set, regardless of the contract organizational unit.</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="ac390-197">Vorlagenzuordnung in Datenintegration</span><span class="sxs-lookup"><span data-stu-id="ac390-197">Template mapping in Data integration</span></span>

> [!NOTE] 
> <span data-ttu-id="ac390-198">**CustomerReference**, **AddressCity**, **AddressCountryRegionID**, **AddressDescription**, **AddressLine1**, **AddressLine2**, **AddressState** Und **AddressZipCode** Felder sind nicht in der Standardzuordnung für Projektverträge enthalten.</span><span class="sxs-lookup"><span data-stu-id="ac390-198">The **CustomerReference**, **AddressCity**, **AddressCountryRegionID**, **AddressDescription**, **AddressLine1**, **AddressLine2**, **AddressState**, and **AddressZipCode** fields aren't included in the default mapping for project contracts.</span></span> <span data-ttu-id="ac390-199">Sie können Zuordnungen hinzugefügen, wenn Sie festlegen, dass die Daten für Projektverträge synchronisiert werden.</span><span class="sxs-lookup"><span data-stu-id="ac390-199">You can add the mappings if you require that this data be synchronized for project contracts.</span></span>
>
> <span data-ttu-id="ac390-200">**Beschreibung**, **ParentID**, **ProjectGroup**, **ProjectManagerPersonnelNumber** Und **ProjectType** Felder sind nicht in der Standardzuordnung für Projekte einbezogen.</span><span class="sxs-lookup"><span data-stu-id="ac390-200">The **Description**, **ParentID**, **ProjectGroup**, **ProjectManagerPersonnelNumber**, and **ProjectType** fields aren't included in the default mapping for projects.</span></span> <span data-ttu-id="ac390-201">Sie können Zuordnungen hinzugefügen, wenn Sie festlegen, dass die Daten für Projeke synchronisiert werden.</span><span class="sxs-lookup"><span data-stu-id="ac390-201">You can add the mappings if you require that this data be synchronized for projects.</span></span>

<span data-ttu-id="ac390-202">Die folgenden Abbildungen zeigen ein Beispiel für eine Vorlagenaufgabenzuordnung im Datenintegrator.</span><span class="sxs-lookup"><span data-stu-id="ac390-202">The following illustrations show examples of the template task mappings in Data integration.</span></span> <span data-ttu-id="ac390-203">Die Zuordnung zeigt, welche Feldinformationen von Project Service Automation zu Finance synchronisiert werden.</span><span class="sxs-lookup"><span data-stu-id="ac390-203">The mapping shows the field information that will be synchronized from Project Service Automation to Finance.</span></span>

<span data-ttu-id="ac390-204">[![Vorlagenzuordnung](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="ac390-204">[![Template mapping](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span></span>

<span data-ttu-id="ac390-205">[![Vorlagenzuordnung](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="ac390-205">[![Template mapping](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span></span>

<span data-ttu-id="ac390-206">[![Vorlagenzuordnung](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="ac390-206">[![Template mapping](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span></span>

<span data-ttu-id="ac390-207">[![Vorlagenzuordnung](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="ac390-207">[![Template mapping](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span></span>

#### <a name="project-contract-line-milestone-mapping-in-the-projects-and-contracts-psa-3x-to-dynamics---v2-template"></a><span data-ttu-id="ac390-208">Meilensteinzuordnung von Projektvertragspositionen in Projekten und PSA-Verträgen (3.x zu Dynamics) - Vorlage v2:</span><span class="sxs-lookup"><span data-stu-id="ac390-208">Project contract line milestone mapping in the Projects and Contracts (PSA 3.x to Dynamics) - v2 template:</span></span>

<span data-ttu-id="ac390-209">[![Vorlagenzuordnung](./media/ProjectContractLineMilestoneMapping_v2.jpg)](./media/ProjectContractLineMilestoneMapping_v2.jpg)</span><span class="sxs-lookup"><span data-stu-id="ac390-209">[![Template mapping](./media/ProjectContractLineMilestoneMapping_v2.jpg)](./media/ProjectContractLineMilestoneMapping_v2.jpg)</span></span>
