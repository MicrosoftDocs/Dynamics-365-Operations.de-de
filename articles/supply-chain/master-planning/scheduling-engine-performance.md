---
title: Verbessern der Leistung des Planungsmoduls
description: Dieses Thema enthält Informationen zum Planungsmodul und zur Verbesserung der Leistung.
author: ChristianRytt
manager: tfehr
ms.date: 09/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 19311
ms.assetid: 5ffb1486-2e08-4cdc-bd34-b47ae795ef0f
ms.search.region: Global
ms.search.industry: ''
ms.author: kamaybac
ms.search.validFrom: 2020-09-03
ms.dyn365.ops.version: ''
ms.openlocfilehash: 1c1b940754021956998fe27ba16020d4b16aedf1
ms.sourcegitcommit: 49f3011b8a6d8cdd038e153d8cb3cf773be25ae4
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 10/16/2020
ms.locfileid: "4015066"
---
# <a name="improve-scheduling-engine-performance"></a><span data-ttu-id="ef2ff-103">Verbessern der Leistung des Planungsmoduls</span><span class="sxs-lookup"><span data-stu-id="ef2ff-103">Improve scheduling engine performance</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="ef2ff-104">Das Ressourcenplanungsmodul wird verwendet, um Arbeitspläne für geplante und freigegebene Produktionsaufträge zu planen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-104">The resource scheduling engine is used when scheduling routes for planned and released production orders.</span></span> <span data-ttu-id="ef2ff-105">Das Modul wurde ursprünglich als Teil von Dynamics AX 2012 veröffentlicht und hat seit seiner Veröffentlichung mehrere Verbesserungen durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-105">The engine was originally released as part of Dynamics AX 2012 and has gone through several improvements since its release.</span></span>

<span data-ttu-id="ef2ff-106">Das [Feinterminierungsproblem](https://en.wikipedia.org/wiki/Job_shop_scheduling) ist ein äußerst komplexes kombinatorisches Problem, bei dem die Lösungszeit exponential mit der Anzahl der Entscheidungsvariablen wächst.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-106">The [job shop scheduling problem](https://en.wikipedia.org/wiki/Job_shop_scheduling) is an extremely complex combinatorial problem where solution time grows exponentially with the number of decision variables.</span></span> <span data-ttu-id="ef2ff-107">Oft richten Kunden Produktionsarbeitspläne und zugehörige Daten so ein, dass ein Planungsarbeitsplan entsteht, das selbst auf modernster Hardware nicht in angemessener Zeit gelöst werden kann.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-107">Oftentimes, customers set up production routes and related data in a way that results in a scheduling problem that can't be solved in reasonable time even on the most modern hardware.</span></span> <span data-ttu-id="ef2ff-108">Dieses Thema hilft Ihnen dabei, das Planungsmodul zu verstehen und zu verstehen, wie ein bestimmtes Setup die Leistung beeinflussen kann.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-108">This topic will help you understand the scheduling engine and how a specific setup can have influence on the performance.</span></span>

<span data-ttu-id="ef2ff-109">Wenn es darum geht, die Leistung der Planung zu verbessern, empfehlen allgemeine Richtlinien, die Komplexität des Problems zu reduzieren, das das Modul lösen muss.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-109">When it comes to improving the performance of the scheduling, general guidelines recommend reducing the complexity of the problem the engine needs to solve.</span></span> <span data-ttu-id="ef2ff-110">Einige der Hauptfaktoren, die die Leistung beeinflussen können, sind:</span><span class="sxs-lookup"><span data-stu-id="ef2ff-110">Some of the main factors that can affect performance include:</span></span>

- <span data-ttu-id="ef2ff-111">Arbeitspläne mit vielen Arbeitsgängen</span><span class="sxs-lookup"><span data-stu-id="ef2ff-111">Routes with many operations</span></span>
- <span data-ttu-id="ef2ff-112">Arbeitspläne mit parallelen Arbeitsgängen</span><span class="sxs-lookup"><span data-stu-id="ef2ff-112">Routes with parallel operations</span></span>
- <span data-ttu-id="ef2ff-113">Arbeitsgänge mit einer Ressourcenmenge von mehr als eins</span><span class="sxs-lookup"><span data-stu-id="ef2ff-113">Operations with quantity of resources higher than one</span></span>
- <span data-ttu-id="ef2ff-114">Arbeitsgänge mit vielen anwendbaren Ressourcen</span><span class="sxs-lookup"><span data-stu-id="ef2ff-114">Operations with many applicable resources</span></span>
- <span data-ttu-id="ef2ff-115">Verwendung von festen Links</span><span class="sxs-lookup"><span data-stu-id="ef2ff-115">Use of hard links</span></span>
- <span data-ttu-id="ef2ff-116">Nutzung begrenzter Kapazität</span><span class="sxs-lookup"><span data-stu-id="ef2ff-116">Use of finite capacity</span></span>
- <span data-ttu-id="ef2ff-117">Die Anzahl der verschiedenen verwendeten Kalender</span><span class="sxs-lookup"><span data-stu-id="ef2ff-117">The number of different calendars used</span></span>
- <span data-ttu-id="ef2ff-118">Die Anzahl der Arbeitszeitfenster pro Tag im Kalender</span><span class="sxs-lookup"><span data-stu-id="ef2ff-118">The number of working time slots per day in the calendar</span></span>
- <span data-ttu-id="ef2ff-119">Gesamtdauer des Arbeitsplans</span><span class="sxs-lookup"><span data-stu-id="ef2ff-119">Total duration of the route</span></span>
- <span data-ttu-id="ef2ff-120">Paralleles Ausführen mehrerer Planungsmodule</span><span class="sxs-lookup"><span data-stu-id="ef2ff-120">Running multiple scheduling engines in parallel</span></span>

## <a name="overview-of-basic-scheduling-flow"></a><span data-ttu-id="ef2ff-121">Übersicht über den grundlegenden Planungsflow</span><span class="sxs-lookup"><span data-stu-id="ef2ff-121">Overview of basic scheduling flow</span></span>

<span data-ttu-id="ef2ff-122">Um zu verstehen, wie sich ein bestimmtes Setup auf die Leistung auswirken kann, ist es wichtig, etwas über den Ablauf des Prozesses zu verstehen, sowohl innerhalb des Moduls als auch im umgebenden X++–Code.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-122">To understand how a given setup can affect performance, it is important to understand something about how the process flows, both inside the engine and in the X++ code that surrounds it.</span></span>

<span data-ttu-id="ef2ff-123">Der grundlegende Prozess zum Planen eines Auftrags besteht aus drei Hauptschritten:</span><span class="sxs-lookup"><span data-stu-id="ef2ff-123">The basic process of scheduling an order consists of three main steps:</span></span>

- <span data-ttu-id="ef2ff-124">**Daten laden** – Hier werden die X++–Datenmodelle in Form von Einzelvorgängen und Einschränkungen in das interne Datenmodell des Moduls integriert.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-124">**Loading data** – Here, the X++ data models are transformed into the engine's internal data model in the form of jobs and constraints.</span></span>
- <span data-ttu-id="ef2ff-125">**Planung** – Dies ist die Hauptquelle für die Planung, die das angegebene Modell und die Einschränkungen verarbeitet und ein Ergebnis generiert.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-125">**Scheduling** – This is the main source for scheduling that processes the given model and constraints, and generates a result.</span></span> <span data-ttu-id="ef2ff-126">Während dieses Vorgangs fordert das Modul bei Bedarf Arbeitszeitinformationen und vorhandene Kapazitätsreservierungen von X++ an.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-126">During this process, the engine will request working time information and existing capacity reservations from X++ as needed.</span></span>
- <span data-ttu-id="ef2ff-127">**Daten speichern** – Das Modulergebnis in Form von Slots für Einzelvorgangs-Kapazitätsreservierungen wird von X++ Code verarbeitet, um Kapazitätsreservierungen zu speichern und die Start- und Endzeiten der Einzelvorgänge/des Arbeitsgangs/des Auftrags zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-127">**Save data** – The engine result in the form of job capacity reservation slots is processed by X++ code to save capacity reservations and update the start and end times of the jobs/operation/order.</span></span>

## <a name="load-data-into-the-engine"></a><span data-ttu-id="ef2ff-128">Laden der Daten in das Modul</span><span class="sxs-lookup"><span data-stu-id="ef2ff-128">Load data into the engine</span></span>

<span data-ttu-id="ef2ff-129">Das Planungsmodul verfügt über ein abstrakteres Datenmodell als die Supply Chain Management-Datenbank, da es als generisches Modul erstellt wurde, das verschiedene Datenquellen verarbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-129">The scheduling engine has a more abstract data model than the Supply Chain Management database because it has been built as a generic engine that can handle different sources of data.</span></span> <span data-ttu-id="ef2ff-130">Die Konzepte des Arbeitsplans, der sekundären Arbeitsgänge und der Laufzeit müssen in das generische Einzelvorgangs- und Einschränkungsmodell „übersetzt“ werden, das das Modul verfügbar macht.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-130">The concepts of route, secondary operations, and run time need to be "translated" into the generic job and constraint model that the engine exposes.</span></span> <span data-ttu-id="ef2ff-131">Die Logik zum Erstellen des Modells enthält eine erhebliche Menge an Geschäftslogik und ist je nach Quelldaten unterschiedlich.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-131">The logic for building the model has a significant amount of business logic to it and is different depending on the source data.</span></span> <span data-ttu-id="ef2ff-132">Die verantwortliche X++– Klasse ist `WrkCtrScheduler`. Zudem gibt es abgeleitete Klassen für geplante Produktionsaufträge, freigegebene Produktionsaufträge und Projektplanungen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-132">The responsible X++ class is `WrkCtrScheduler` and it has derived classes for planned production orders, released production orders, and project forecasts.</span></span>

<span data-ttu-id="ef2ff-133">Betrachten Sie als Beispiel einen Arbeitsplan, der in der folgenden Tabelle und im folgenden Bild dargestellt ist und relativ einfach zu sein scheint.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-133">As an example, consider a route shown in the following table and image, which seems relatively simple.</span></span>

| <span data-ttu-id="ef2ff-134">Arbeitsgang-</span><span class="sxs-lookup"><span data-stu-id="ef2ff-134">Oper.</span></span> <span data-ttu-id="ef2ff-135">Nr.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-135">No.</span></span> | <span data-ttu-id="ef2ff-136">Priorität</span><span class="sxs-lookup"><span data-stu-id="ef2ff-136">Priority</span></span> | <span data-ttu-id="ef2ff-137">Rüstzeit</span><span class="sxs-lookup"><span data-stu-id="ef2ff-137">Setup time</span></span> | <span data-ttu-id="ef2ff-138">Bearbeitungszeit</span><span class="sxs-lookup"><span data-stu-id="ef2ff-138">Run time</span></span> | <span data-ttu-id="ef2ff-139">Wartezeit danach</span><span class="sxs-lookup"><span data-stu-id="ef2ff-139">Queue time after</span></span> | <span data-ttu-id="ef2ff-140">Ressourcenmenge</span><span class="sxs-lookup"><span data-stu-id="ef2ff-140">Quantity of resources</span></span> | <span data-ttu-id="ef2ff-141">Nächster</span><span class="sxs-lookup"><span data-stu-id="ef2ff-141">Next</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="ef2ff-142">10</span><span class="sxs-lookup"><span data-stu-id="ef2ff-142">10</span></span> | <span data-ttu-id="ef2ff-143">Primär</span><span class="sxs-lookup"><span data-stu-id="ef2ff-143">Primary</span></span> | <span data-ttu-id="ef2ff-144">1.00</span><span class="sxs-lookup"><span data-stu-id="ef2ff-144">1.00</span></span> | <span data-ttu-id="ef2ff-145">2.00</span><span class="sxs-lookup"><span data-stu-id="ef2ff-145">2.00</span></span> | | <span data-ttu-id="ef2ff-146">1</span><span class="sxs-lookup"><span data-stu-id="ef2ff-146">1</span></span> | <span data-ttu-id="ef2ff-147">20</span><span class="sxs-lookup"><span data-stu-id="ef2ff-147">20</span></span> |
| <span data-ttu-id="ef2ff-148">10</span><span class="sxs-lookup"><span data-stu-id="ef2ff-148">10</span></span> | <span data-ttu-id="ef2ff-149">Sekundär&nbsp;1</span><span class="sxs-lookup"><span data-stu-id="ef2ff-149">Secondary&nbsp;1</span></span> | | | | <span data-ttu-id="ef2ff-150">1</span><span class="sxs-lookup"><span data-stu-id="ef2ff-150">1</span></span> | <span data-ttu-id="ef2ff-151">20</span><span class="sxs-lookup"><span data-stu-id="ef2ff-151">20</span></span> |
| <span data-ttu-id="ef2ff-152">20</span><span class="sxs-lookup"><span data-stu-id="ef2ff-152">20</span></span> | <span data-ttu-id="ef2ff-153">Primär</span><span class="sxs-lookup"><span data-stu-id="ef2ff-153">Primary</span></span> | | <span data-ttu-id="ef2ff-154">3.00</span><span class="sxs-lookup"><span data-stu-id="ef2ff-154">3.00</span></span> | <span data-ttu-id="ef2ff-155">1.00</span><span class="sxs-lookup"><span data-stu-id="ef2ff-155">1.00</span></span> | <span data-ttu-id="ef2ff-156">3</span><span class="sxs-lookup"><span data-stu-id="ef2ff-156">3</span></span> | <span data-ttu-id="ef2ff-157">0</span><span class="sxs-lookup"><span data-stu-id="ef2ff-157">0</span></span> |

<span data-ttu-id="ef2ff-158">![Beispiel eines Arbeitsplandiagramms](media/scheduling-engine-route.png "Beispiel eines Arbeitsplandiagramms")</span><span class="sxs-lookup"><span data-stu-id="ef2ff-158">![Example rout diagram](media/scheduling-engine-route.png "Example rout diagram")</span></span>

<span data-ttu-id="ef2ff-159">Wenn Sie dies an das Modul senden, wird es in acht Einzelvorgänge aufgeteilt, wie in der folgenden Abbildung gezeigt (wählen Sie das Bild aus, um es zu vergrößern).</span><span class="sxs-lookup"><span data-stu-id="ef2ff-159">When sending this to the engine, it is split out into eight jobs, as shown in the following illustration (select the image to enlarge it).</span></span>

<span data-ttu-id="ef2ff-160">[![Planen von Moduleinzelvorgängen](media/scheduling-engine-jobs.png "Planen von Moduleinzelvorgängen")](media/scheduling-engine-jobs-large.png)</span><span class="sxs-lookup"><span data-stu-id="ef2ff-160">[![Scheduling engine jobs](media/scheduling-engine-jobs.png "Scheduling engine jobs")](media/scheduling-engine-jobs-large.png)</span></span>

<span data-ttu-id="ef2ff-161">Die Standardverbindung zwischen zwei Einzelvorgängen ist `FinishStart`. Dies bedeutet, dass die Endzeit eines Einzelvorgangs vor der Startzeit eines anderen Einzelvorgangs liegen muss.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-161">The standard link between two jobs is `FinishStart`, meaning that the end time of one job must be before the start time of another job.</span></span> <span data-ttu-id="ef2ff-162">Da das Setup von derselben Ressource ausgeführt werden muss, die später den Prozess ausführt, gibt es `OnSameResource`-Einschränkungen zwischen ihnen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-162">Because the setup must be performed by the same resource that will later do the process, there are `OnSameResource` constraints between them.</span></span> <span data-ttu-id="ef2ff-163">Zwischen den Einzelvorgängen für den primären und den sekundären Betrieb für 10 gibt es `StartStart`- und`FinishFinish`-Links, was bedeutet, dass die Einzelvorgänge gleichzeitig beginnen und enden müssen, und es gibt `NotOnSameResource`-Einschränkungen, die verhindern, dass die gleiche Ressource für primäre und sekundäre Arbeitsvorgänge verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-163">Between the jobs for primary and secondary operation for 10, there are `StartStart` and `FinishFinish` links, which means that the jobs must both start and end at the same time, and there are `NotOnSameResource` constraints, which will prevent the same resource for primary and secondary.</span></span>

<span data-ttu-id="ef2ff-164">Für Arbeitsgang 20, bei dem die Ressourcenmenge auf 3 festgelegt wurde, wurde der Prozesseinzelvorgang in drei verschiedene Einzelvorgänge aufgeteilt, bei denen alle Einzelvorgänge genau zur gleichen Zeit ausgeführt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-164">For operation 20, where the quantity of resources has been set to 3, the process job has been split into three distinct jobs where all the jobs must run at the exact same time.</span></span>
<span data-ttu-id="ef2ff-165">In diesem Fall wurde die Arbeitsplangruppe so eingerichtet, dass keine Kapazität für die Warteschlange nach Zeiten reserviert wird. Daher gibt es nur einen einzigen Einzelvorgang für die Warteschlange danach.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-165">In this case, the route group has been set up to not reserve capacity for queue after times, which is why there is only a single job for the queue after.</span></span>

<span data-ttu-id="ef2ff-166">Das Planungsmodul versteht nur die Konzepte von Einzelvorgängen und hat keine Vorstellung von Arbeitsgängen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-166">The scheduling engine only understands the concepts of jobs and has no notion of operations.</span></span> <span data-ttu-id="ef2ff-167">Dies bedeutet, dass bei der Arbeitsgangplanung die Arbeitsgänge auch in Einzelvorgänge aufgeteilt werden, obwohl diese nicht in der Datenbank gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-167">This means that when doing operation scheduling, the operations are also split into jobs, although these will not be persisted in the database.</span></span>

<span data-ttu-id="ef2ff-168">Für jeden Einzelvorgang definieren wir auch die zugehörige Kapazitätsanforderung (die Anzahl der erforderlichen Sekunden).</span><span class="sxs-lookup"><span data-stu-id="ef2ff-168">For each job, we will also define what the job capacity requirement is (the number of seconds required).</span></span> <span data-ttu-id="ef2ff-169">Abhängig davon, wie die Ressourcenanforderungen definiert wurden, können wir für jeden Einzelvorgang auch eine Liste aller potenziell anwendbaren Ressourcen senden, mit denen der Einzelvorgang ausgeführt werden könnte, und die Kapazitätsanforderungen für diese bestimmte Ressource angeben.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-169">Depending on how the resource requirements have been defined, we may also, for each job, send a list of all the potential applicable resources that the job could run on and what the capacity requirement is for that specific resource.</span></span> <span data-ttu-id="ef2ff-170">Obwohl die Liste der anwendbaren Ressourcen beim Erstellen des Modells gesendet wird, muss das Modul dennoch sicherstellen, dass die Ressourcenzuweisung tatsächlich für die gesamte Einzelvorgangsdauer gültig ist.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-170">Even though the list of applicable resources is sent when building the model, the engine will still need to ensure that the resource assignment is actually valid for the entire job duration.</span></span>

## <a name="scheduling-engine-internals"></a><span data-ttu-id="ef2ff-171">Interne Komponenten des Planungsmoduls</span><span class="sxs-lookup"><span data-stu-id="ef2ff-171">Scheduling engine internals</span></span>

### <a name="scheduling-engine-interface"></a><span data-ttu-id="ef2ff-172">Schnittstelle des Planungsmoduls</span><span class="sxs-lookup"><span data-stu-id="ef2ff-172">Scheduling engine interface</span></span>

<span data-ttu-id="ef2ff-173">Um eine Vorstellung davon zu bekommen, wie das Modul intern funktioniert, sollten Sie sich die Funktionen ansehen, die es extern bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-173">To get an idea of how the engine works internally, it is best to look at the functionality it exposes externally.</span></span> <span data-ttu-id="ef2ff-174">In X++ ist die Hauptschnittstelle `WrkCtrSchedulerEngineInterface`.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-174">In X++, the main interface is `WrkCtrSchedulerEngineInterface`.</span></span> <span data-ttu-id="ef2ff-175">Sie verfügt über die in den folgenden Unterabschnitten beschriebenen Methoden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-175">It has the methods described in the following subsections.</span></span>

#### <a name="general-engine"></a><span data-ttu-id="ef2ff-176">Allgemeines Modul</span><span class="sxs-lookup"><span data-stu-id="ef2ff-176">General engine</span></span>

| <span data-ttu-id="ef2ff-177">**Methode**</span><span class="sxs-lookup"><span data-stu-id="ef2ff-177">**Method**</span></span> | <span data-ttu-id="ef2ff-178">**Kostenträger**</span><span class="sxs-lookup"><span data-stu-id="ef2ff-178">**Purpose**</span></span> |
| --- | --- |
| `run` | <span data-ttu-id="ef2ff-179">Plant alle geladenen Einzelvorgänge und gibt den Fehlercode zurück.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-179">Schedules all loaded jobs and returns the error code.</span></span> |
| `getJobSchedulingSequenceResult` | <span data-ttu-id="ef2ff-180">Ruft das Planungsergebnis und den ersten Einzelvorgang mit Fehler für die von einem bestimmten Einzelvorgang identifizierte Sequenz ab.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-180">Gets the scheduling result and the first error job for the sequence identified by a specific job.</span></span> |
| `validateJobCapacityReservations` | <span data-ttu-id="ef2ff-181">Überprüft die Kapazitätsreservierungen für alle vom Modul gespeicherten Einzelvorgänge.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-181">Validates the capacity reservations for all the jobs stored by the engine.</span></span> |
| `setReservationsTimeStamp` | <span data-ttu-id="ef2ff-182">Sendet einen Zeitstempel an das Modul, der für alle neuen Kapazitätsreservierungen für die geplanten Einzelvorgänge im Cache des Moduls festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-182">Sends a timestamp to the engine set on all new capacity reservations for the scheduled jobs in the cache of the engine.</span></span> |
| `addPropertyToGroupAggregation` | <span data-ttu-id="ef2ff-183">Fügt dem Satz von Eigenschaften, die beim Aggregieren der Kapazität verwendet werden, ein Eigenschaftspräfix hinzu.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-183">Adds a property prefix to the set of properties used when capacity is aggregated.</span></span> |
| `addResource` | <span data-ttu-id="ef2ff-184">Fügt dem Ressourcenpool des Planungsmoduls eine Ressource hinzu.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-184">Adds a resource to the scheduling engine resource pool.</span></span> |
| `addResourceGroup` | <span data-ttu-id="ef2ff-185">Fügt dem Ressourcengruppenpool des Planungsmoduls eine Ressourcengruppe hinzu.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-185">Adds a resource group to the scheduling engine resource group pool.</span></span> |
| `addResourceGroupMembership` | <span data-ttu-id="ef2ff-186">Fügt einer Ressourcengruppe eine Ressource als Mitglied hinzu.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-186">Adds a resource as a member to a resource group.</span></span> |
| `addOptimizationGoal` | <span data-ttu-id="ef2ff-187">Fügt ein Planungsoptimierungsziel hinzu (Dauer oder Priorität).</span><span class="sxs-lookup"><span data-stu-id="ef2ff-187">Adds a scheduling optimization goal (duration or priority).</span></span> |

#### <a name="individual-jobs"></a><span data-ttu-id="ef2ff-188">Einzelne Einzelvorgänge</span><span class="sxs-lookup"><span data-stu-id="ef2ff-188">Individual jobs</span></span>

| <span data-ttu-id="ef2ff-189">**Methode**</span><span class="sxs-lookup"><span data-stu-id="ef2ff-189">**Method**</span></span> | <span data-ttu-id="ef2ff-190">**Kostenträger**</span><span class="sxs-lookup"><span data-stu-id="ef2ff-190">**Purpose**</span></span> |
| --- | --- |
| `addJobInfo` | <span data-ttu-id="ef2ff-191">Fügt einen Datensatz mit Einzelvorgangsinformationen hinzu, der das Modul über einen Einzelvorgang informiert, der geplant werden soll.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-191">Adds a job information record that informs the engine about a job that should be scheduled.</span></span> |
| `addConstraintJobEndsAt` | <span data-ttu-id="ef2ff-192">Fügt eine Einschränkung hinzu, dass ein Einzelvorgang zu einem bestimmten Datum und einer bestimmten Uhrzeit enden soll.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-192">Adds a constraint that a job should end at a specified date and time.</span></span> |
| `addConstraintJobStartsAt` | <span data-ttu-id="ef2ff-193">Fügt eine Einschränkung hinzu, dass ein Einzelvorgang zu einem bestimmten Datum und einer bestimmten Uhrzeit starten soll.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-193">Adds a constraint that a job should start at a specified date and time.</span></span> |
| `addConstraintMaxJobDays` | <span data-ttu-id="ef2ff-194">Definiert die Einschränkung, dass sich ein Einzelvorgang über eine bestimmte maximale Anzahl von Tagen erstrecken kann.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-194">Defines the constraint that a job can span over a specified maximal number of days.</span></span> |
| `addConstraintResourceRequirement` | <span data-ttu-id="ef2ff-195">Fügt die Einschränkung hinzu, dass der Einzelvorgang für eine bestimmte Ressource geplant werden muss.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-195">Adds the constraint that the job must be scheduled on a specific resource.</span></span> |
| `addJobBindPriority` | <span data-ttu-id="ef2ff-196">Fügt eine Einzelvorgangs-Bindungspriorität für ein Paar (Einzelvorgang, Einschränkungsebene) hinzu.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-196">Adds a job bind priority for a (job, constraint level) pair.</span></span> <span data-ttu-id="ef2ff-197">Ein höherer Prioritätswert bedeutet, dass die Einzelvorgangsvariablen früher gebunden werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-197">A higher priority value means the job variables will be bound earlier.</span></span> <span data-ttu-id="ef2ff-198">Der Einzelvorgang wird vor Einzelvorgängen mit niedrigerer Priorität in derselben Sequenz verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-198">The job will be processed before jobs with lower priority value in the same sequence.</span></span> |
| `addJobCapacity` | <span data-ttu-id="ef2ff-199">Fügt Kapazitätsauslastungsinformationen für einen Einzelvorgang hinzu (z. B. die erforderliche Einzelvorgangs-Laufzeit), unabhängig davon, mit welcher Ressource der Einzelvorgang ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-199">Adds capacity load information for a job (like the required job runtime) independent on which resource the job runs on.</span></span> |
| `addJobResourceCapacity` | <span data-ttu-id="ef2ff-200">Fügt der Gruppe von Ressourcen, die zum Ausführen eines Einzelvorgangs verwendet werden können, eine Ressource hinzu und gibt die Kapazität an, die für die Ausführung mit dieser Ressource erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-200">Adds a resource to the set of resources that may be used to perform a job, and states the capacity required when running on that resource.</span></span> |
| `addJobGoal` | <span data-ttu-id="ef2ff-201">Fügt Einzelvorgangsziel-Informationen für eine bestimmte Einschränkungsebene hinzu (früheste Endzeit oder späteste Startzeit).</span><span class="sxs-lookup"><span data-stu-id="ef2ff-201">Adds job goal information for a specific constraint level (earliest end time or latest start time).</span></span> |
| `addJobResourcePriority` | <span data-ttu-id="ef2ff-202">Fügt die Priorität hinzu, die verwendet werden soll, wenn ein Einzelvorgang für eine Ressource geplant ist.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-202">Adds the priority to use when a job is scheduled on a resource.</span></span> |
| `addJobResourceRuntime` | <span data-ttu-id="ef2ff-203">Gibt eine Einzelvorgangszeit an, die von der Ressource abhängt, für die der Einzelvorgang geplant wird.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-203">Specifies a job time that is dependent of the resource the job will be scheduled on.</span></span> |
| `addJobRuntime` | <span data-ttu-id="ef2ff-204">Gibt eine Einzelvorgangszeit an, die von der Ressource unabhängig ist, für die der Einzelvorgang geplant wird.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-204">Specifies a job time that is independent of the resource on which the job will be scheduled.</span></span> |
| `scheduleJobOnResourceGroup` | <span data-ttu-id="ef2ff-205">Markiert einen Einzelvorgang für die Planung auf Ressourcengruppenebene.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-205">Marks a job for scheduling on the resource group level.</span></span> |
| `setJobResourcePreemptionAllowed` | <span data-ttu-id="ef2ff-206">Legt fest, ob für einen Einzelvorgang einer Ressource eine Vorwegnahme zulässig ist (wenn das Modul den Einzelvorgang nicht in zusammenhängenden Kapazitätsslots planen darf).</span><span class="sxs-lookup"><span data-stu-id="ef2ff-206">Sets whether preemption is allowed for a job on a resource (if engine is allowed to schedule the job in noncontiguous capacity slots).</span></span> |
| `setRequiredNumberOfResources` | <span data-ttu-id="ef2ff-207">Legt die Anzahl der Ressourcen fest, die zum Planen eines Einzelvorgangs erforderlich sind (nur für die Planung von Arbeitsgängen).</span><span class="sxs-lookup"><span data-stu-id="ef2ff-207">Sets the number of resources required to schedule a job (only for operations scheduling).</span></span> |

#### <a name="constraints-between-jobs"></a><span data-ttu-id="ef2ff-208">Einschränkungen zwischen Einzelvorgängen</span><span class="sxs-lookup"><span data-stu-id="ef2ff-208">Constraints between jobs</span></span>

| <span data-ttu-id="ef2ff-209">**Methode**</span><span class="sxs-lookup"><span data-stu-id="ef2ff-209">**Method**</span></span> | <span data-ttu-id="ef2ff-210">**Kostenträger**</span><span class="sxs-lookup"><span data-stu-id="ef2ff-210">**Purpose**</span></span> |
| --- | --- |
| `addJobLink` | <span data-ttu-id="ef2ff-211">Fügt einen Link (z. B. Ende\>Start) zwischen zwei Einzelvorgängen hinzu.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-211">Adds a link (such as finish\>start) between two jobs.</span></span> |
| `addConstraintEndsDelayed` | <span data-ttu-id="ef2ff-212">Definiert die Einschränkung, dass ein Einzelvorgang nicht vor dem Ende eines anderen Einzelvorgangs beendet werden kann, zuzüglich einer gewissen Verzögerungszeit.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-212">Defines the constraint that a job cannot end before another jobs end plus some delay time.</span></span> |
| `addConstraintJobListWorkingTimeIntersect` | <span data-ttu-id="ef2ff-213">Fügt eine Einschränkung hinzu, dass sich die für die Einzelvorgänge reservierten Kapazitätsslots in den sich überschneidenden Arbeitszeiten für die beiden von den Einzelvorgängen verwendeten Ressourcen befinden müssen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-213">Adds a constraint that the capacity slots reserved for the jobs must be on the intersecting working times for the two resources used by the jobs.</span></span> |
| `addConstraintJobOverlap` | <span data-ttu-id="ef2ff-214">Fügt eine Einschränkung hinzu, die definiert, wie Einzelvorgänge sequenziert werden, wenn eine bestimmte Menge eines Artikels zwischen zwei Ressourcen verschoben werden kann, während die erste Ressource die Verarbeitung noch nicht beendet hat, sodass die zweite Ressource mit der Verarbeitung beginnen kann.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-214">Add a constraint that defines how jobs are sequenced when a given quantity of an item can be moved between two resources while the first resource is still not finished processing, so that the second resource can start processing.</span></span> |
| `addConstraintNotOnSameResource` | <span data-ttu-id="ef2ff-215">Fügt eine Einschränkung hinzu, dass zwei Einzelvorgänge nicht für dieselbe Ressource geplant werden sollen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-215">Adds a constraint that two jobs should not be scheduled on the same resource.</span></span> |
| `addConstraintOnSameResource` | <span data-ttu-id="ef2ff-216">Fügt eine Einschränkung hinzu, dass zwei Einzelvorgänge dieselbe Ressource verwenden müssen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-216">Adds a constraint that two jobs must be using the same resource.</span></span> |
| `addJobSameReservations` | <span data-ttu-id="ef2ff-217">Fügt eine Einschränkung hinzu, dass ein Einzelvorgang am Ende Kapazitätsreservierungen für dieselben Zeitfenster wie der primäre Einzelvorgang haben muss.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-217">Adds a constraint that a job must end up having capacity reservations for the same time slots as the primary job.</span></span> |
| `setPrimaryParallelJob` | <span data-ttu-id="ef2ff-218">Fügt Informationen darüber hinzu, welcher Einzelvorgang der primäre Einzelvorgang in einer Reihe von parallelen Einzelvorgängen ist.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-218">Adds information about what job is the primary job in a set of parallel jobs.</span></span> |

### <a name="solver"></a><span data-ttu-id="ef2ff-219">Solver</span><span class="sxs-lookup"><span data-stu-id="ef2ff-219">Solver</span></span>

<span data-ttu-id="ef2ff-220">Das Modul selbst ist im Wesentlichen ein spezialisierter Einschränkungssolver mit benutzerdefinierten Heuristiken.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-220">The engine itself is essentially a specialized constraint solver with custom heuristics added.</span></span> <span data-ttu-id="ef2ff-221">Der Solver basiert auf zwei Hauptelementen: Variablen und Einschränkungen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-221">The solver is based on two main elements: variables and constraints.</span></span>

#### <a name="variable"></a><span data-ttu-id="ef2ff-222">Variabel</span><span class="sxs-lookup"><span data-stu-id="ef2ff-222">Variable</span></span>

<span data-ttu-id="ef2ff-223">Eine Variable repräsentiert eine Domäne möglicher Werte.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-223">A variable represents a domain of possible values.</span></span> <span data-ttu-id="ef2ff-224">Das Planungsmodul verfügt über zwei Arten von Variablen:</span><span class="sxs-lookup"><span data-stu-id="ef2ff-224">Scheduling engine has two types of variables:</span></span>

- <span data-ttu-id="ef2ff-225">**DateTime-Variable** – Hat eine Domäne mit allen Daten und Zeiten, und die Domäne kann eingeschränkt werden, indem die Unter- und Obergrenze für die Zeit der Variablen näher aneinander verschoben werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-225">**DateTime variable** - Has a domain of all dates and times, and the domain can be restricted by moving the lower and upper bound for the time of the variable closer to each other.</span></span>
- <span data-ttu-id="ef2ff-226">**Ressourcenvariable** – Verfügt über eine Domäne mit anwendbaren Ressourcen, und die Domäne kann eingeschränkt werden, indem Ressourcen aus der Liste entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-226">**Resource variable** - Has a domain of applicable resources, and the domain can be restricted by eliminating resources from the list.</span></span>

#### <a name="constraint"></a><span data-ttu-id="ef2ff-227">Einschränkung</span><span class="sxs-lookup"><span data-stu-id="ef2ff-227">Constraint</span></span>

<span data-ttu-id="ef2ff-228">Eine Einschränkung wirkt sich auf Variablen aus, indem sie ihre Domänen einschränkt. Sie hängt jedoch auch von Variablen ab, sodass sie aktiviert wird, wenn sich Variablen ändern.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-228">A constraint acts on variables by restricting their domains, but it also depends on variables so it gets activated when variables change.</span></span> <span data-ttu-id="ef2ff-229">Der Prozess der „Einschränkungsweitergabe“ ist, wenn eine Einschränkung ihre Hauptfunktion ausführt und bei Erfolg an die Hauptlogik zurückmeldet.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-229">The process of "constraint propagation" is when a constraint performs its main function and reports back to the main logic if successful.</span></span>

<span data-ttu-id="ef2ff-230">Eine Variable gilt als gebunden, wenn sie nicht weiter eingeschränkt werden kann. Dies bedeutet für die DateTime-Variable, dass obere und untere Grenze identisch sind, und für die Ressourcenvariable, dass sie nur eine einzige anwendbare Ressource hat.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-230">A variable is considered bound when it can't be restricted further, which for DateTime variable means that upper and lower bound is the same, and for the Resource variable that it has only a single applicable resource.</span></span> <span data-ttu-id="ef2ff-231">Wenn alle Variablen gebunden sind, wird eine Lösung gefunden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-231">When all variables are bound, a solution is found.</span></span>

### <a name="constraint-levels"></a><span data-ttu-id="ef2ff-232">Einschränkungsebenen</span><span class="sxs-lookup"><span data-stu-id="ef2ff-232">Constraint levels</span></span>

<span data-ttu-id="ef2ff-233">Wenn die Planung im Rahmen der Phase der Materialbedarfsplanung (MRP) ausgeführt wird, werden die Aufträge ab dem Anforderungsdatum rückwärts geplant.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-233">When scheduling is executed as part of the material requirements planning (MRP) coverage phase, the orders will be scheduled backward from requirement date.</span></span> <span data-ttu-id="ef2ff-234">Wenn es jedoch nicht möglich ist, einen Zeitplan zu finden, der heute oder später beginnt und vor dem Anforderungsdatum endet, ändert sich die Planungsrichtung ab heute in die Zukunft.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-234">However, if it is not possible to find a schedule that starts today or later and ends before the requirement date, then the scheduling direction will change to forward from today.</span></span>

<span data-ttu-id="ef2ff-235">Diese Hauptgeschäftsregel wird durch Organisieren der Einschränkungen in Ebenen abgewickelt.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-235">This main business rule is handled by organizing the constraints in levels.</span></span> <span data-ttu-id="ef2ff-236">Wenn bei Verwendung der Einschränkungen auf der höchsten Ebene keine Lösung gefunden wird, werden alle Einschränkungen auf dieser Ebene verworfen, und die niedrigere Ebene wird ausprobiert.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-236">If no solution is found when using the constraints on the highest level, then the constraints on that level are all dropped, and the lower level is tried.</span></span> <span data-ttu-id="ef2ff-237">In der Praxis bedeutet dies, dass das Modell für die Rückwärtsterminierung eine Ebene 1 mit Einzelvorgangszielen der spätesten Startzeit bei einer maximalen Endzeitbeschränkung (dem Anforderungsdatum) und eine Ebene 0 mit Einzelvorgangszielen der frühesten Endzeit und einer minimalen Startzeitbeschränkung von heute enthält.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-237">In praxis, this means that for backward scheduling the model will contain a level 1 with job goals of latest start time given a maximum end time constraint (the requirement date), and a level 0 with job goals of earliest end time and given a minimum start time constraint of today.</span></span>

### <a name="algorithm"></a><span data-ttu-id="ef2ff-238">Algorithmus</span><span class="sxs-lookup"><span data-stu-id="ef2ff-238">Algorithm</span></span>

<span data-ttu-id="ef2ff-239">Die Hauptschritte des Modulalgorithmus sind:</span><span class="sxs-lookup"><span data-stu-id="ef2ff-239">The main steps of the engine algorithm are:</span></span>

1. <span data-ttu-id="ef2ff-240">Finden Sie Sequenzen (Einzelvorgangsketten), die separat gelöst werden können.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-240">Find sequences (job chains) which can be solved separately.</span></span>
1. <span data-ttu-id="ef2ff-241">Versuchen Sie, eine erste Lösung für die Sequenz für die höchste Einschränkungsebene zu finden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-241">Try to find an initial solution for the sequence for the highest constraint level.</span></span>
    1. <span data-ttu-id="ef2ff-242">Sortieren Sie die Einzelvorgänge in der Reihenfolge nach Einzelvorgangsziel und Prioritäten, sodass ein Starteinzelvorgang gefunden werden kann.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-242">Sort the jobs in the sequence based on job goal and priorities, such that a start job can be found.</span></span>
    1. <span data-ttu-id="ef2ff-243">Ordnen Sie die Einzelvorgänge in der folgenden Reihenfolge in einer Schleife an:</span><span class="sxs-lookup"><span data-stu-id="ef2ff-243">Loop the jobs in the following sequence:</span></span>
        1. <span data-ttu-id="ef2ff-244">Finden Sie alle Einschränkungen, die weitergegeben werden müssen, und die Weitergabe ausführen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-244">Find all constraints that need to be propagated and run propagation.</span></span>
        1. <span data-ttu-id="ef2ff-245">Wenn alle Variablen für den Einzelvorgang gebunden wurden, wurde eine Lösung für diesen Einzelvorgang gefunden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-245">If all variables for the job have been bound, then a solution for that job has been found.</span></span>
        1. <span data-ttu-id="ef2ff-246">Wenn eine der Variablen nicht gebunden werden konnte, ohne die Einschränkungen zu verletzen, führen Sie ein Rollback der Variablenbindung aus, versuchen Sie einen anderen Wert in der Domäne (für Ressourcenvariable), und führen Sie die Weitergabe der Einschränkungen erneut aus.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-246">If one of the variables could not be bound without violating the constraints, then roll back the variable binding, try a different value in the domain (for resource variable), and rerun the constraint propagation.</span></span>
1. <span data-ttu-id="ef2ff-247">Wenn keine Lösung gefunden wurde, werden alle Einschränkungen auf der aktuellen Einschränkungsebene entfernt, eine niedrigere Einschränkungsebene wird verwendet (sofern niedrigere Ebenen verfügbar sind) und die Lösungssuche mit dem neuen Satz von Einschränkungen wiederholt.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-247">If no solution was found, then all constraints on the current constraint level is removed, the constraint level lowered (if any lower levels are available) and solution search retried with the new set of constraint.</span></span>
1. <span data-ttu-id="ef2ff-248">Wenn eine praktikable Lösung gefunden wurde, wird die Optimierungsphase gestartet, in der versucht wird, eine bessere Lösung zu finden, bis das Optimierungszeitlimit erreicht ist oder alle Ressourcenkombinationen erschöpft sind.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-248">If a feasible solution was found, then the optimization phase is started, which will try to find a better solution until the optimization timeout is reached or all resource combinations have been exhausted.</span></span>

<span data-ttu-id="ef2ff-249">Dem Einschränkungssolver sind die Besonderheiten des Planungsalgorithmus nicht bekannt.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-249">The constraint solver is not aware of the specifics of the scheduling algorithm.</span></span> <span data-ttu-id="ef2ff-250">In der Definition und Kombination der verschiedenen Einschränkungen geschieht die „Magie“.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-250">It is in the definition and combination of the various constraints that the "magic" happens.</span></span>

### <a name="determining-working-times"></a><span data-ttu-id="ef2ff-251">Arbeitszeiten bestimmen</span><span class="sxs-lookup"><span data-stu-id="ef2ff-251">Determining working times</span></span>

<span data-ttu-id="ef2ff-252">Ein großer Teil der (internen) Einschränkungen im Modul steuert die Arbeitszeit und Kapazität einer Ressource.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-252">A large part of the (internal) constraints in the engine controls the working time and capacity of a resource.</span></span> <span data-ttu-id="ef2ff-253">Im Wesentlichen besteht die Aufgabe darin, die Arbeitszeitfenster für eine Ressource von einem bestimmten Punkt in eine bestimmte Richtung zu durchlaufen und ein ausreichend langes Intervall zu finden, in das die für die Einzelvorgänge erforderliche Kapazität (Zeit) passen kann.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-253">Essentially, the task is to traverse the working time slots for a resource from a given point in a given direction, and find a long enough interval in which the jobs required capacity (time) can fit.</span></span>

<span data-ttu-id="ef2ff-254">Dazu muss da Modul die Arbeitszeiten einer Ressource kennen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-254">To do this, the engine needs to know the working times of a resource.</span></span> <span data-ttu-id="ef2ff-255">Im Gegensatz zu den Hauptmodelldaten sind die Arbeitszeiten *faul geladen*. Dies bedeutet, dass sie nach Bedarf in das Modul geladen werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-255">Opposite to the main model data, the working times are *lazy loaded* , meaning that they are loaded into the engine as needed.</span></span> <span data-ttu-id="ef2ff-256">Der Grund für diesen Ansatz ist, dass es in Supply Chain Management häufig Arbeitszeiten für einen Kalender über einen sehr langen Zeitraum gibt und in der Regel viele Kalender vorhanden sind, sodass die Daten zum Vorabladen ziemlich groß sind.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-256">The reason for this approach is that there are often working times in Supply Chain Management for a calendar for a very long period and typically many calendars exist so the data would be quite large to pre-load.</span></span>

<span data-ttu-id="ef2ff-257">Kalenderinformationen werden vom Modul in Blöcken angefordert, indem die X++–Klassenmethode aufgerufen wird `WrkCtrSchedulingInteropDataProvider.getWorkingTimes`.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-257">Calendar information is requested by the engine in chunks, by invoking the X++ class method `WrkCtrSchedulingInteropDataProvider.getWorkingTimes`.</span></span> <span data-ttu-id="ef2ff-258">Die Anforderung betrifft eine bestimmte Kalender-ID in einem bestimmten Zeitintervall.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-258">The request is for a specific calendar ID in a specific time interval.</span></span> <span data-ttu-id="ef2ff-259">Abhängig vom Status des Servercaches in Supply Chain Management kann jede dieser Anforderungen zu mehreren Datenbankaufrufen führen, was lange dauert (relativ zur reinen Rechenzeit).</span><span class="sxs-lookup"><span data-stu-id="ef2ff-259">Depending on the state of the server cache in Supply Chain Management, each of these requests could end up in several database calls, which takes a long time (relative to the pure computational time).</span></span> <span data-ttu-id="ef2ff-260">Wenn der Kalender sehr ausgefeilte Arbeitszeitdefinitionen mit vielen Arbeitszeitintervallen pro Tag enthält, verlängert sich die Ladezeit ebenfalls.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-260">Also, if the calendar contains very elaborate working time definitions with many working time intervals per day, this adds to the time the loading takes.</span></span>

<span data-ttu-id="ef2ff-261">Wenn die Arbeitszeitdaten in das Planungsmodul geladen werden, werden diese im internen Cache für den jeweiligen Kalender gespeichert. Wenn also andere Jobs oder Ressourcen denselben Kalender verwenden, können die nächsten Suchvorgänge schnell aus dem Speicher ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-261">When the working time data is loaded in the scheduling engine, this is retained in its internal cache for the specific calendar, meaning that if any other jobs or resources are using the same calendar then the next lookups can be performed quickly from memory.</span></span> <span data-ttu-id="ef2ff-262">Eine häufige Ursache für schlechte Leistung ist die Verwendung einer separaten Kalender-ID für jede Ressource, da dann für jeden Kalender Daten angefordert werden müssen, obwohl der Inhalt der Kalender möglicherweise identisch ist.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-262">One common cause of bad performance is if a separate calendar ID is used for each resource, because data will then need to be requested for each calendar, even though the content of the calendars might be the same.</span></span>

### <a name="finite-capacity"></a><span data-ttu-id="ef2ff-263">Begrenzte Kapazität</span><span class="sxs-lookup"><span data-stu-id="ef2ff-263">Finite capacity</span></span>

<span data-ttu-id="ef2ff-264">Bei Verwendung einer begrenzten Kapazität werden die Arbeitszeitfenster aus dem Kalender basierend auf den vorhandenen Kapazitätsreservierungen aufgeteilt und reduziert.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-264">When using finite capacity, the working time slots from the calendar are split and reduced based on the existing capacity reservations.</span></span> <span data-ttu-id="ef2ff-265">Diese Reservierungen werden auch über dieselbe `WrkCtrSchedulingInteropDataProvider`-Klasse wie die Kalender abgerufen, aber verwenden stattdessen die Methode `getCapacityReservations`.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-265">These reservations are also fetched through the same `WrkCtrSchedulingInteropDataProvider` class as the calendars, but instead use the method `getCapacityReservations`.</span></span> <span data-ttu-id="ef2ff-266">Bei der Planung während der Produktprogrammplanung werden die Reservierungen für den jeweiligen Produktprogrammplan berücksichtigt und, falls auf der Seite **Produktprogrammplanungsparameter** aktiviert, sind auch die Reservierungen aus festen Produktionsaufträgen enthalten.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-266">When scheduling during master planning, the reservations for the specific master plan are considered and if enabled on the **Master planning parameters** page, the reservations from firmed production orders are also included.</span></span> <span data-ttu-id="ef2ff-267">Ebenso ist es bei der Planung eines Produktionsauftrags möglich, Reservierungen aus vorhandenen geplanten Aufträgen einzubeziehen, obwohl dies nicht so häufig ist wie umgekehrt.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-267">Similarly, when scheduling a production order, it is also an option to include reservations from existing planned orders, although this is not as common as the other way around.</span></span>

<span data-ttu-id="ef2ff-268">Bei Verwendung einer begrenzten Kapazität dauert die Planung aus mehreren Gründen länger:</span><span class="sxs-lookup"><span data-stu-id="ef2ff-268">Using finite capacity will cause scheduling to take longer due to several reasons:</span></span>

- <span data-ttu-id="ef2ff-269">Das Abrufen der Kapazitätsinformationen aus der Datenbank ist ein langsamer Vorgang, und das serverseitige Zwischenspeichern von Kapazitätsinformationen ist normalerweise nicht so gut wie bei Arbeitszeiten, da sie normalerweise nicht wie Kalender von Ressourcen gemeinsam genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-269">Fetching the capacity information from database is a slow operation and the server-side caching of capacity information is typically not as good as for working times because they are not shared among resources like calendars typically are.</span></span>
- <span data-ttu-id="ef2ff-270">Die Anzahl der zu durchlaufenden Arbeitszeitfenster nimmt aufgrund der Teilungen zu, und Zeitfenster für einen längeren Zeitraum müssen typischerweise untersucht werden, bevor eine Lösung gefunden werden kann.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-270">The number of working time slots to traverse increases due to the splits, and slots for a longer time period must typically be investigated before a solution can be found.</span></span>
- <span data-ttu-id="ef2ff-271">Nach Abschluss der Planung muss eine Überprüfung auf widersprüchliche Reservierungen durchgeführt werden (Einzelheiten finden Sie im Abschnitt „Paralleles Ausführen von Planungsmodulen“).</span><span class="sxs-lookup"><span data-stu-id="ef2ff-271">After the scheduling is complete, a check for conflicting reservations must be performed (see the "Running scheduling engines in parallel" section for details).</span></span>

### <a name="examining-the-resource-combinations"></a><span data-ttu-id="ef2ff-272">Untersuchen der Ressourcenkombinationen</span><span class="sxs-lookup"><span data-stu-id="ef2ff-272">Examining the resource combinations</span></span>

<span data-ttu-id="ef2ff-273">Wenn die Abfolge der Einzelvorgänge nur die standardmäßigen `FinishStart`-Links enthält – sie also eine einfache Kette ohne Verzweigungen darstellt –, kann ein optimales Ergebnis (aus der Perspektive einzelner Aufträge, nicht über Aufträge hinweg) erzielt werden, indem die beste Lösung für den ersten Einzelvorgang gefunden und dann die beste Lösung für den nächsten Einzelvorgang gefunden wird.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-273">If the job sequence only contains the standard `FinishStart` links, meaning it forms a simple chain without any branches, an optimal result (seen from the single order, not across orders) can be achieved by finding the best solution for the first job and then moving on to find the best solution for the next job.</span></span> <span data-ttu-id="ef2ff-274">Die beste Lösung für einen Einzelvorgang besteht darin, die Ressource zu finden, mit der das Startdatum und das Enddatum geplant werden können, die am nächsten am Einzelvorgangsziel liegen (bei der Vorausplanung bedeutet dies, dass das Enddatum des Einzelvorgangs so früh wie möglich liegt), wobei die Einschränkungen weiterhin beachtet werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-274">The best solution for a job means finding the resource that can get the from and to date of the job closest to the job goal (in forward scheduling this means getting the end date of the job as early as possible) while still respecting the constraints.</span></span>

<span data-ttu-id="ef2ff-275">Bei parallelen Einzelvorgängen kann das Finden einer Lösung das Untersuchen verschiedener Ressourcenkombinationen umfassen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-275">When there are parallel jobs, finding a solution may involve examining different combinations of resources.</span></span> <span data-ttu-id="ef2ff-276">Die Anzahl der möglichen Ressourcenkombinationen ergibt sich aus der Anzahl der anwendbaren Ressourcen für die verbundenen parallelen Einzelvorgänge.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-276">The number of possible resource combinations is the product of the number of applicable resources for the connected parallel jobs.</span></span> <span data-ttu-id="ef2ff-277">Insbesondere wenn ein Auftrag ab einem Anforderungsdatum rückwärts geplant wird, kann es eine Weile dauern, bis die Logik erkennt, dass es keine Lösung für das Problem gibt, bei dem die parallelen Einzelvorgänge vor das heutige Datum passen, da alle Kombinationen überprüft werden müssen, weil es einige Ressourcen geben könnte, die eine höhere Effizienz hatten oder einen anderen Kalender, der ein Ergebnis liefern könnte.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-277">Especially when scheduling an order backwards from a requirement date, it can take quite a while for the logic to realize that there is no solution to the problem that will make the parallel jobs fit before today's date, as it will need to check all the combinations because there could be some resources that had a higher efficiency or a different calendar that might give a result.</span></span> <span data-ttu-id="ef2ff-278">Dies bedeutet, dass, wenn kein Zeitlimit festgelegt wurde, die Ausführung lange Zeit andauert, bevor die Richtung in vorwärts geändert wird.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-278">This means that if no timeout limit has been set it will run for a long time before changing the direction to forward.</span></span>

<span data-ttu-id="ef2ff-279">Diese kombinatorische Logik bedeutet auch, dass das Modul möglicherweise langsamer ausgeführt wird, wenn mehr anwendbare Ressourcen hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-279">This combinatorial logic also means that adding more applicable resources may make the engine run slower.</span></span> <span data-ttu-id="ef2ff-280">Wenn Leistungsprobleme bei parallelen Arbeitsgängen und bei der Planung mit unbegrenzter Kapazität auftreten, kann dies teilweise behoben werden, indem der Arbeitsplan-Designer entscheidet, welche Ressource verwendet werden soll, und die Ressource dann direkt dem Arbeitsgang zuweist (das Modul wird in den meisten Fällen am Ende immer die gleiche Ressource auswählen, sodass das Endergebnis das gleiche sein wird).</span><span class="sxs-lookup"><span data-stu-id="ef2ff-280">If performance problems occur when having parallel operations and scheduling with infinite capacity, it can partly be fixed by having the route designer take a decision on which resource should be used and then assign the resource directly on the operation (because the engine in most cases will always end up picking the same resource, so the end result will be the same).</span></span>

### <a name="hard-links"></a><span data-ttu-id="ef2ff-281">Feste Links</span><span class="sxs-lookup"><span data-stu-id="ef2ff-281">Hard links</span></span>

<span data-ttu-id="ef2ff-282">Wenn Sie den Linktyp zwischen zwei Einzelvorgänge auf „Fest“ setzen, wird sichergestellt, dass zwischen dem Ende eines Einzelvorgangs und dem Beginn des nächsten Einzelvorgangs keine Zeitlücke besteht.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-282">Setting the link type between two jobs to hard, ensures that there is no time gap between the finish of one job and the start of the next one.</span></span> <span data-ttu-id="ef2ff-283">Dies kann in Szenarien sehr nützlich sein, in denen Metall in einem Einzelvorgang erhitzt und dann im nächsten Einzelvorgang verarbeitet wird und in denen es nicht wünschenswert ist, das Metall dazwischen abkühlen zu lassen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-283">This can be very useful in scenarios like when metal is heated in one job and then processed in the next job, where it is not desirable to have the metal cool down in between.</span></span>

<span data-ttu-id="ef2ff-284">Wenn der Arbeitsplan bei standardmäßigen weichen Links und Vorwärtsplanung eine einfache Kette ohne Verzweigungen bildet, kann ein Ergebnis erzielt werden, indem eine Lösung für den ersten Einzelvorgang gefunden wird, der seine eigenen Einschränkungen erfüllt, und dann in der Kette weitergegangen wird und die Endzeit vom vorherigen Einzelvorgang zum nächsten Einzelvorgang weitergegeben wird.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-284">With standard soft links and forward scheduling, if the route forms a simple chain without any branches, a result can be achieved by finding a solution for the first job that satisfies its own constraints and then moving on through the chain propagating the end time from the previous job to the next job.</span></span> <span data-ttu-id="ef2ff-285">Wenn für den aktuellen Einzelvorgang keine Kapazität zu finden ist, wird seine Startzeit weiter verschoben, ohne dass dies Auswirkungen auf die vorherigen Einzelvorgänge hat, wodurch möglicherweise Lücken zwischen den Einzelvorgängen entstehen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-285">If the current job can't find any capacity, the start time for it will be moved out further, without any consequence for the previous jobs potentially creating gaps between the jobs.</span></span> <span data-ttu-id="ef2ff-286">Bei festen Links (insbesondere im Zusammenhang mit begrenzter Kapazität) für dasselbe Szenario bedeutet die Tatsache, dass ein Einzelvorgang später in der Kette keine Kapazität finden kann, dass alle vorher geplanten Einzelvorgänge einzeln nachgezogen und damit mehrmals umgeplant werden müssen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-286">However with hard links (especially in connection with finite capacity) for the same scenario, the fact that one job later in the chain cannot find capacity, will mean that all previous scheduled jobs will have to be "dragged" along one by one and thereby rescheduled a number of times.</span></span> <span data-ttu-id="ef2ff-287">Insbesondere in Szenarien mit hoher Auslastung für mehrere Ressourcen können die harten Links eine Kettenreaktion verursachen, bei der sich die Einzelvorgänge gegenseitig beeinflussen und eine Reihe von Iterationen durchgeführt werden müssen, bevor sich das Ergebnis in einem realisierbaren Zeitplan stabilisiert.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-287">Especially in scenarios with high load for multiple resources, the hard links can cause a chain reaction where the jobs will affect each other and a number of iterations will have to be performed before the result stabilizes into a feasible schedule.</span></span>

## <a name="running-scheduling-engines-in-parallel"></a><span data-ttu-id="ef2ff-288">Paralleles Ausführen von Planungsmodulen</span><span class="sxs-lookup"><span data-stu-id="ef2ff-288">Running scheduling engines in parallel</span></span>

<span data-ttu-id="ef2ff-289">Wenn Sie die Planung als Teil eines Produktprogrammplanungslaufs durchführen, in dem Hilfsprogramme verwendet werden, kann jeder der Produktprogrammplanung-Hilfsprogrammthreads auch Planungsaufgaben für Produktionsaufträge übernehmen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-289">When performing scheduling as part of a master planning run where helpers are used, each of the master planning helper threads can also pick up production order scheduling tasks.</span></span> <span data-ttu-id="ef2ff-290">Dies bedeutet, dass mehrere Planungsmodule gleichzeitig ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-290">This means that multiple scheduling engines can be running at the same time.</span></span> <span data-ttu-id="ef2ff-291">Während Multithreading im Allgemeinen einen sehr bedeutenden Leistungsvorteil darstellt, gibt es auch einige funktionale Nachteile, wenn es um die Planung geht.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-291">While multithreading in general is a highly significant performance benefit, there are also some functional downsides when it comes to scheduling.</span></span>

<span data-ttu-id="ef2ff-292">In der MRP werden alle Produktionsaufträge für eine bestimmte Stücklistenebene in der Reihenfolge des Anforderungsdatums geplant. Dies bedeutet, dass die Aufträge mit dem frühesten Anforderungsdatum zuerst geplant werden sollten und daher die höchste Chance haben, die verfügbare Ressourcenkapazität zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-292">In MRP, all production orders for a given bill of materials (BOM) level are scheduled in requirement date sequence, meaning that those orders with the earliest requirement date should be scheduled first and thereby have the highest chance of getting the available resource capacity.</span></span> <span data-ttu-id="ef2ff-293">Wenn jedoch mehrere Module aus der Liste der nicht geplanten Aufträge auswählen, ist die Reihenfolge nicht mehr gewährleistet, da eins möglicherweise schneller als das andere ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-293">However, with multiple engines picking from the list of unscheduled orders the sequence is no longer ensured, as one might complete faster than the other.</span></span>

<span data-ttu-id="ef2ff-294">Wenn Sie mit begrenzter Kapazität planen und mehrere Modulinstanzen versuchen, Aufträge zu planen, die möglicherweise dieselben Ressourcen im selben Zeitintervall verwenden, kann eine Racebedingung auftreten.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-294">Also, when scheduling using finite capacity and when multiple engine instances are trying to schedule orders that are potentially using the same resources at the same time interval, a race condition can occur.</span></span> <span data-ttu-id="ef2ff-295">Die Anzahl solcher Racebedingungen wird im Feld **Planungskonflikte** auf der Verlaufsseite der Produktprogrammpläne erfasst.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-295">The number of such race conditions is recorded in the **Scheduling conflicts** field on the master plans history page.</span></span> <span data-ttu-id="ef2ff-296">Die Konfliktlösungslogik lautet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="ef2ff-296">The conflict resolution logic is as follows:</span></span>

- <span data-ttu-id="ef2ff-297">Planen Sie einen Auftrag (sperrenfrei) und erhalten Sie Kapazitätsreservierungen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-297">Schedule an order (lock-free) and get capacity reservations.</span></span>
- <span data-ttu-id="ef2ff-298">Setzen Sie die Sperre.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-298">Take the lock.</span></span>
- <span data-ttu-id="ef2ff-299">Überprüfen Sie, ob in der Zeitspanne neuere Kapazitätsreservierungen für die geplanten Ressourcen vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-299">Check if newer capacity reservations exist for the scheduled resources in the timespan.</span></span>
  - <span data-ttu-id="ef2ff-300">Wenn nein, schreiben Sie die Kapazität und heben Sie die Sperre auf.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-300">If no, write the capacity and release the lock.</span></span>
  - <span data-ttu-id="ef2ff-301">Wenn ja, heben Sie die Sperre auf und planen Sie den Auftrag ganz neu.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-301">If yes, release the lock and reschedule the order from the beginning.</span></span>

<span data-ttu-id="ef2ff-302">Wenn Sie also mit mehreren Modulinstanzen planen, ist das Ergebnis nicht vollständig deterministisch, da es vom genauen Timing jedes Threads abhängt.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-302">So, when scheduling with multiple engine instances, the result is not fully deterministic because it will depend on the exact timing of each of the threads.</span></span>

## <a name="operation-scheduling-performance"></a><span data-ttu-id="ef2ff-303">Leistung der Grobterminierung</span><span class="sxs-lookup"><span data-stu-id="ef2ff-303">Operation scheduling performance</span></span>

<span data-ttu-id="ef2ff-304">Obwohl die Grobterminierung auch als grobe Kapazitätsplanung bezeichnet wird, kann es vom Standpunkt des Moduls aus schwieriger sein, das Problem zu lösen, wenn eine begrenzte Kapazität verwendet wird, da mehr Daten benötigt werden, um die Durchführbarkeit zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-304">Even though operation scheduling is also known as rough-cut capacity planning, seen from an engine standpoint, it can be a harder problem to solve if finite capacity is used, as more data is needed to determine feasibility.</span></span>

<span data-ttu-id="ef2ff-305">Die Kapazität einer Ressourcengruppe hängt davon ab, welche und wie viele Ressourcen Mitglieder der Ressourcengruppe sind.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-305">The capacity of a resource group depends on which and how many resources are members of the resource group.</span></span> <span data-ttu-id="ef2ff-306">Eine Ressourcengruppe an sich hat keine Kapazität – nur wenn Ressourcen Mitglied der Gruppe sind, verfügen sie über Kapazität.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-306">A resource group in itself does not have any capacity&mdash;only when resources are a member of the group will it have capacity.</span></span> <span data-ttu-id="ef2ff-307">Da die Mitgliedschaft in Ressourcengruppen im Laufe der Zeit variieren kann, muss die Kapazität pro Tag bewertet werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-307">Because the resource group membership can vary over time, capacity must be evaluated per day.</span></span>

<span data-ttu-id="ef2ff-308">Bei der Grobterminierung wird der Kalender der Ressourcengruppe verwendet, um die Start- und Endzeiten für jeden Arbeitsgang zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-308">In operations scheduling, the resource group's calendar is used to determine the start and end times for each operation.</span></span> <span data-ttu-id="ef2ff-309">Dies bedeutet, dass der Kalender der Ressourcengruppe begrenzt, wie viel Zeit für einen Arbeitsgang an einem Tag in einer Ressourcengruppe grobterminiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-309">This means that the resource group's calendar places a limit on how much time can be operations scheduled for one operation on one day in one resource group.</span></span> <span data-ttu-id="ef2ff-310">Im Gegensatz zum Kalender für die spezifischen Ressourcen werden die Effizienzdaten des Kalenders für die Ressourcengruppe ignoriert, da sie lediglich die Öffnungszeiten und nicht die tatsächliche Kapazität angeben.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-310">Opposite the calendar for the specific resources, the efficiency data of the calendar is ignored for the resource group as it simply denotes opening hours and not actual capacity.</span></span>

<span data-ttu-id="ef2ff-311">Wenn beispielsweise die Arbeitszeit für eine Ressourcengruppe an einem bestimmten Datum zwischen 8:00 und 16:00 Uhr liegt, kann ein Arbeitsgang die Ressourcengruppe nicht mehr belasten, als in 8 Stunden passt, egal über wie viel Kapazität diese Ressourcengruppe an diesem Tag insgesamt verfügt.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-311">For example, if the working time for a resource group on one specific date is from 8:00 to 16:00, one operation can't put more load on the resource group than what can be fit into 8 hours, no matter how much capacity that the resource group has available in total on that day.</span></span> <span data-ttu-id="ef2ff-312">Die verfügbare Kapazität kann die Last jedoch weiter begrenzen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-312">The available capacity can however limit the load further.</span></span>

<span data-ttu-id="ef2ff-313">Die Auslastung der Einzelvorgangsplanung für alle Ressourcen in der Ressourcengruppe an einem bestimmten Tag wird berücksichtigt, wenn die verfügbare Kapazität für die Ressourcengruppe am selben Tag berechnet wird.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-313">The load from job scheduling on all the resources included in the resource group on a given day is considered when the available capacity for the resource group on the same day is calculated.</span></span> <span data-ttu-id="ef2ff-314">Für jedes Datum lautet die Berechnung:</span><span class="sxs-lookup"><span data-stu-id="ef2ff-314">For each date, the calculation is:</span></span>

<span data-ttu-id="ef2ff-315">*Verfügbare Ressourcengruppenkapazität = Kapazität für Ressourcen in der Gruppe basierend auf ihrem Kalender &ndash; Job geplante Auslastung der Ressourcen in der Gruppe &ndash; Geplante Operationen laden die Ressourcen in der Gruppe &ndash; Geplante Operationen laden die Ressourcengruppe*</span><span class="sxs-lookup"><span data-stu-id="ef2ff-315">*Available resource group capacity = Capacity for resources in the group based on their calendar &ndash; Job scheduled load on the resources in the group &ndash; Operations scheduled load on the resources in the group &ndash; Operations scheduled load on the resource group*</span></span>

<span data-ttu-id="ef2ff-316">Auf der Registerkarte **Ressourcenanforderungen** des Arbeitsplan-Arbeitsgangs können die Ressourcenanforderungen entweder mithilfe einer bestimmten Ressource (in diesem Fall wird der Arbeitsgang mit dieser Ressource geplant), für eine Ressourcengruppe, für einen Ressourcentyp oder für eine oder mehrere Funktionen, Qualifikationen, Kurse oder Zertifikate angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-316">On the **Resource requirements** tab on the route operation, the resource requirements can be specified using either a specific resource (in which case the operation will be scheduled using that resource), for a resource group, for a resource type, or for one or more capabilities, skill, course, or certificate.</span></span> <span data-ttu-id="ef2ff-317">Die Verwendung all dieser Optionen bietet zwar eine große Flexibilität beim Arbeitsplandesign, erschwert jedoch auch die Planung für das Modul, da die Kapazität pro „Eigenschaft“ berücksichtigt werden muss (der abstrakte Name, der im Modul für Funktionen, Qualifikationen usw. verwendet wird).</span><span class="sxs-lookup"><span data-stu-id="ef2ff-317">While using all of these options gives a great flexibility on the route design, it also complicates the scheduling for the engine as the capacity must be accounted for per "property" (the abstract name used in the engine for capability, skills, and so on).</span></span>

<span data-ttu-id="ef2ff-318">Die Kapazität der Ressourcengruppe für eine Funktion ist die Summe der Kapazität für alle Ressourcen in der Ressourcengruppe, die über die betreffende Funktionen verfügen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-318">The resource group's capacity for a capability is the sum of the capacity for all resources in the resource group that has the capability in question.</span></span> <span data-ttu-id="ef2ff-319">Wenn eine Ressource in der Gruppe über eine Funktion verfügt, wird diese unabhängig von der erforderlichen Kapazität berücksichtigt.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-319">If a resource in the group has a capability, it will be considered no matter what level of the capacity is required.</span></span>

<span data-ttu-id="ef2ff-320">Bei der Grobterminierung wird die verfügbare Kapazität für eine bestimmte Funktion für eine Ressourcengruppe reduziert, wenn sie mit einem Arbeitsgang geladen wird, für den die betreffende Funktion erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-320">In operations scheduling, the available capacity for a certain capability for a resource group will be reduced when it is loaded with an operation that requires the capability in question.</span></span> <span data-ttu-id="ef2ff-321">Wenn für den Vorgang mehr als eine Funktion erforderlich ist, wird die Kapazität für alle erforderlichen Funktionen reduziert.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-321">If the operation requires more than one capability, the capacity will be reduced for all required capabilities.</span></span>

<span data-ttu-id="ef2ff-322">Für jedes Datum lautet die erforderliche Berechnung:</span><span class="sxs-lookup"><span data-stu-id="ef2ff-322">For each date, the required calculation is:</span></span>

<span data-ttu-id="ef2ff-323">*Verfügbare Kapazität für eine Fähigkeit = Kapazität für die Fähigkeit &ndash; Job geplante Auslastung der Ressourcen mit der spezifischen Funktion, die in der Ressourcengruppe enthalten ist &ndash; Geplante Operationen laden die Ressourcen mit der spezifischen Funktion, die in der Ressourcengruppe enthalten ist &ndash; Geplante Operationen laden die Ressourcengruppe selbst, für die die jeweilige Funktion erforderlich ist*</span><span class="sxs-lookup"><span data-stu-id="ef2ff-323">*Available capacity for a capability = Capacity for the capability &ndash; Job scheduled load on the resources with the specific capability, included in the resource group &ndash; Operations scheduled load on the resources with the specific capability, included in the resource group &ndash; Operations scheduled load on the resource group itself that require the specific capability*</span></span>

<span data-ttu-id="ef2ff-324">Dies bedeutet, dass bei einer Auslastung einer bestimmten Ressource die Auslastung bei der Berechnung der verfügbaren Kapazität der Ressourcengruppe pro Funktion berücksichtigt wird, da die Auslastung einer bestimmten Ressource ihren Beitrag zur Kapazität der Ressourcengruppe für eine Funktion reduziert, unabhängig davon, ob die Auslastung der spezifischen Ressource sich auf diese spezifische Funktion bezieht.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-324">This means that if there is load on a specific resource, the load is considered in the calculation of the resource group's available capacity per capability, because the load on a specific resource reduces its contribution to the resource group's capacity for a capability no matter if the load on the specific resource is for that specific capability.</span></span> <span data-ttu-id="ef2ff-325">Wenn auf Ressourcengruppenebene eine Auslastung vorhanden ist, wird diese bei der Berechnung der verfügbaren Kapazität der Ressourcengruppe pro Funktion nur berücksichtigt, wenn die Auslastung von einem Arbeitsgang stammt, für den die spezifische Funktion erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-325">If there is load on the resource group level, it is considered in the calculation of the resource group's available capacity per capability only if the load is from an operation that requires the specific capability.</span></span>

<span data-ttu-id="ef2ff-326">Die obige Logik ist kompliziert, weil diese für jeden Typ von „Eigenschaft“ gleich ist. Daher erfordert die Verwendung der Grobterminierung mit begrenzter Kapazität das Laden einer erheblichen Datenmenge.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-326">The above logic is complicated, as this is the same for each type of "property" so using operations scheduling with finite capacity requires a significant amount of data to be loaded.</span></span>

## <a name="viewing-scheduling-engine-input-and-output"></a><span data-ttu-id="ef2ff-327">Anzeigen der Ein- und Ausgabe des Planungsmoduls</span><span class="sxs-lookup"><span data-stu-id="ef2ff-327">Viewing scheduling engine input and output</span></span>

<span data-ttu-id="ef2ff-328">Aktivieren Sie die Protokollierung, um bestimmte Details zur Eingabe und Ausgabe des Planungsprozesses abzurufen, indem Sie zu **Organisationsverwaltung \> Einrichten \> Planung \> Planungsverfolgungs-Cockpit** wechseln.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-328">To get specific details of the input and output of the scheduling process,  enable logging by going to **Organization administration \> Setup \> Scheduling \> Scheduling tracing cockpit**.</span></span>

<span data-ttu-id="ef2ff-329">Wählen Sie auf dieser Seite zuerst **Protokollierung aktivieren** im Aktivitätsbereich aus.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-329">On this page, first select **Enable logging** on the Action Pane.</span></span> <span data-ttu-id="ef2ff-330">Führen Sie dann die Planung für den Produktionsauftrag aus.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-330">Then run the scheduling for the production order.</span></span> <span data-ttu-id="ef2ff-331">Wenn Sie fertig sind, kehren Sie zur Seite **Planungsverfolgungs-Cockpit** zurück und wählen **Protokollierung deaktivieren** im Aktivitätsbereich aus.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-331">When complete, return to the **Scheduling tracing cockpit** page and select **Disable logging** on the Action Pane.</span></span> <span data-ttu-id="ef2ff-332">Aktualisieren Sie die Seite und eine neue Zeile wird im Raster angezeigt.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-332">Refresh the page and a new line will appear in the grid.</span></span> <span data-ttu-id="ef2ff-333">Wählen Sie die neue Zeile aus und wählen Sie im Aktivitätsbereich **Herunterladen** aus.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-333">Select the new line and select **Download** on the Action Pane.</span></span> <span data-ttu-id="ef2ff-334">Dadurch erhalten Sie einen komprimierten ZIP-Ordner mit den folgenden Dateien:</span><span class="sxs-lookup"><span data-stu-id="ef2ff-334">This will give you a .zip compressed folder containing the following files:</span></span>

- <span data-ttu-id="ef2ff-335">**Log.txt** – Dies ist die Protokolldatei, die die Schritte beschreibt, die das Modul durchläuft.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-335">**Log.txt** - This is the log file that describes the steps that the engine goes through.</span></span> <span data-ttu-id="ef2ff-336">Es ist sehr präzise und kann etwas überwältigend sein, aber wenn es als Teil des Experimentierens mit den Arbeitsplaneinstellungen verwendet wird, um Leistungsprobleme zu lösen, ist das erste, wonach gesucht werden muss, der Zeitunterschied zwischen der ersten und der letzten Zeile, da dies die genaue Zeit ist, die der Scheduler benötigt hat.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-336">It is very elaborate and can be a bit overwhelming, but when used as part of experimenting with the route setup to resolve performance problems the first thing to look for is the difference in time between the first and the last line, as this will give you the exact time the scheduler has spent.</span></span>
- <span data-ttu-id="ef2ff-337">**XmlModel.xml** – Dies enthält das Modell, das in X++ erstellt wurde und mit dem das Modul arbeitet.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-337">**XmlModel.xml** - This contains the model that is built in X++ and that the engine operates on.</span></span> <span data-ttu-id="ef2ff-338">Die in der Datei verwendete `JobId` korreliert mit der `RecId` aus der Quelltabelle mit den Einzelvorgängen (`ReqRouteJob` oder `ProdRouteJob`).</span><span class="sxs-lookup"><span data-stu-id="ef2ff-338">The `JobId` used in the file correlates to the `RecId` from the source table containing the jobs (`ReqRouteJob` or `ProdRouteJob`).</span></span> <span data-ttu-id="ef2ff-339">Die typische Sache, nach der in dieser Datei gesucht werden muss, ist, dass die in `ConstraintJobStartsAt` und `ConstraintJobEndsAt` angegebenen Daten wie erwartet sind und dass die `JobGoal`-Eigenschaft korrekt festgelegt ist und die Einzelvorgänge über die `JobLink`-Einschränkungen miteinander verknüpft sind.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-339">The typical thing to look for in this file is that the dates given in `ConstraintJobStartsAt` and `ConstraintJobEndsAt` are as expected, that the `JobGoal` property is set correctly, and that the jobs are related to each other through the `JobLink` constraints.</span></span>
- <span data-ttu-id="ef2ff-340">**XmlSlots.xml** – Dies enthält alle Arbeitszeiten und Kapazitätsreservierungen, die das Modul angefordert hat.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-340">**XmlSlots.xml** - This contains all the working times and capacity reservations that the engine has requested.</span></span> <span data-ttu-id="ef2ff-341">Die Arbeitszeiten und Reservierungen des Kalenders werden von dem Modul nur für die Zeiträume angefordert, in denen versucht wird, die Einzelvorgänge (und einen zusätzlichen Puffer) zu platzieren. Wenn die Datei also Zeiten enthält, die sehr weit in der Zukunft liegen, kann dies ein Hinweis auf ein Problem mit dem Setup sein.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-341">The calendar working times and reservations will only be requested by the engine for the time periods where it tries to place the jobs (and an extra buffer), so if the file contains times very far in the future, it might be an indication of a problem with the setup.</span></span> <span data-ttu-id="ef2ff-342">Die `ResourceProperty`-Knoten zeigen für jede Ressource an, welcher Ressourcengruppe und welchen Funktionen sie für welche Zeiträume zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-342">The `ResourceProperty` nodes will show for each resource which resource group and capabilities it is associated with for which periods.</span></span>
- <span data-ttu-id="ef2ff-343">**Result.xml** – Dies enthält das Ergebnis des Planungslaufs.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-343">**Result.xml** - This contains the result of the scheduling run.</span></span>

<span data-ttu-id="ef2ff-344">Beachten Sie, dass die Ablaufverfolgungsfunktion einen erheblichen Leistungsaufwand verursachen kann. Verwenden Sie sie daher nur, um die Planung bestimmter Aufträge auf kontrollierte Weise zu untersuchen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-344">Note that the tracing functionality can add significant performance overhead, so only use it for investigating scheduling of specific orders in a controlled manner.</span></span> <span data-ttu-id="ef2ff-345">Wenn sie während eines Produktprogrammplanungslaufs eingeschaltet wird, erreicht sie schnell ihre Größenbeschränkung und stoppt.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-345">If it is turned on during a master planning run it will quickly reach its size limit and stop.</span></span>

## <a name="troubleshooting-performance"></a><span data-ttu-id="ef2ff-346">Problembehandlung bei der Leistung</span><span class="sxs-lookup"><span data-stu-id="ef2ff-346">Troubleshooting performance</span></span>

<span data-ttu-id="ef2ff-347">Wie aus allen vorherigen Abschnitten hervorgeht, gibt es einige Fallstricke bei der Einrichtung und Verwendung des Planungsmoduls, was zu Leistungsproblemen führen kann.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-347">As can be understood from all of the previous sections, there are some pitfalls when it comes to the setup and usage of the scheduling engine, which can lead to performance problems.</span></span> <span data-ttu-id="ef2ff-348">Die folgende Prüfliste kann zur Problembehandlung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-348">The following check list can be used for troubleshooting such issues.</span></span> <span data-ttu-id="ef2ff-349">Es ist wichtig, alle Punkte zu betrachten, da es meistens eine Kombination mehrerer Faktoren ist, die zu Problemen führt.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-349">It is important to look at all the points as it is most often a combination of multiple factors that leads to problems.</span></span>

### <a name="performing-scheduling-as-part-of-mrp-when-it-is-not-needed"></a><span data-ttu-id="ef2ff-350">Durchführen der Planung als Teil der Materialbedarfsplanung, wenn diese nicht benötigt wird</span><span class="sxs-lookup"><span data-stu-id="ef2ff-350">Performing scheduling as part of MRP when it is not needed</span></span>

<span data-ttu-id="ef2ff-351">Obwohl Arbeitspläne für Produktionskontrollzwecke wie Kostenrechnung und Berichterstellung verwendet werden, ist es möglicherweise nicht erforderlich, sie während der Materialbedarfsplanung zu berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-351">Even though routes are used for the production control purposes such as costing and reporting, it might not be necessary to consider them during MRP.</span></span> <span data-ttu-id="ef2ff-352">In einigen Fällen reicht es für die Planung aus, eine für den Artikel festgelegte standardmäßige Produktionsdurchlaufzeit zu haben.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-352">In some cases, having a standard production lead time specified for the item will be sufficient for planning.</span></span> <span data-ttu-id="ef2ff-353">Um die Arbeitsplanplanung zu deaktivieren, setzen Sie den Kapazitätszeitrahmen auf Null.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-353">To turn off route scheduling, set the capacity time fence to zero.</span></span> <span data-ttu-id="ef2ff-354">Wenn eine Planung durchgeführt werden soll, muss der Kapazitätszeitraum sorgfältig festgelegt werden, da möglicherweise nicht die Arbeitspläne für den ganzen Planungszeitraum der MRP berücksichtigt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-354">If scheduling should be done, then the capacity time fence must be carefully set because it might not be necessary to consider routes for the full extent of the MRP's coverage time fence.</span></span>

<span data-ttu-id="ef2ff-355">Beachten Sie, dass der Auftrag, wenn er während der Materialbedarfsplanung nicht geplant ist, stattdessen geplant werden muss, wenn der geplante Auftrag umgewandelt wird.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-355">Note that if the order is not scheduled during MRP, then it will instead need to be scheduled when the planned order is firmed.</span></span> <span data-ttu-id="ef2ff-356">Dies bedeutet, dass der Umwandlungsvorgang länger dauert. Je nachdem, wie viele der vorgeschlagenen geplanten Aufträge umgewandelt werden, kann der Leistungsgewinn aus der Materialbedarfsplanung beim Umwandeln verloren gehen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-356">This means that the firming process will take longer, so depending on how many of the suggested planned orders get firmed the performance gain during MRP might be lost at firming.</span></span>

### <a name="route-with-unnecessary-operations"></a><span data-ttu-id="ef2ff-357">Arbeitsplan mit unnötigen Arbeitsgängen</span><span class="sxs-lookup"><span data-stu-id="ef2ff-357">Route with unnecessary operations</span></span>

<span data-ttu-id="ef2ff-358">Bei der Gestaltung des Arbeitsplans ist es verlockend zu versuchen, die reale Welt mit allen Schritten, die die Produktion durchläuft, genau zu modellieren.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-358">When designing the route, it is tempting to try to model the real world exactly with all the steps the production goes through.</span></span> <span data-ttu-id="ef2ff-359">Dies kann in einigen Fällen nützlich sein, ist jedoch nicht gut für die Leistung, da das Modell, mit dem das Modul arbeiten muss, größer wird (sowohl in Bezug auf Einzelvorgänge als auch in Bezug auf Einschränkungen) und mehr SQL-Anweisungen zum Einfügen und Aktualisieren der Einzelvorgänge und Kapazitätsreservierungen ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-359">While this can be useful in some cases, it is not good for the performance as the model the engine needs to work on gets larger (both in terms of jobs and constraints) and more SQL statements will be executed for insertion and update of the jobs and capacity reservations.</span></span> <span data-ttu-id="ef2ff-360">Es gibt auch den nachgelagerten Effekt, dass eventuell Fortschritte bei den Einzelvorgängen gemeldet werden müssen, was durch automatische Buchungen gemindert werden kann.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-360">Also, there is the downstream effect of having to eventually report progress on the jobs, which can be mitigated with automatic postings.</span></span> <span data-ttu-id="ef2ff-361">Wenn die Daten für nichts verwendet werden, entsteht eine unnötige Auslastung.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-361">If the data is not used for anything, it creates unnecessary load.</span></span>

<span data-ttu-id="ef2ff-362">Wir empfehlen, dass Sie nur Arbeitsgänge erstellen, die für die Planung (in der Regel die Engpassressourcen) und/oder für Kalkulationszwecke unbedingt erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-362">We recommend that you only create operations that are strictly needed for scheduling (which will typically be the bottleneck resources) and/or costing purposes.</span></span> <span data-ttu-id="ef2ff-363">Alternativ sollten Sie viele kleinere unterschiedliche Arbeitsgänge zu einem größeren Arbeitsgang zusammenfassen, der einen größeren Teil des Prozesses darstellt.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-363">Alternatively you should group many smaller distinct operations into one larger operation that represents a greater part of the process.</span></span>

### <a name="many-applicable-resources-for-an-operation"></a><span data-ttu-id="ef2ff-364">Viele anwendbare Ressourcen für einen Arbeitsgang</span><span class="sxs-lookup"><span data-stu-id="ef2ff-364">Many applicable resources for an operation</span></span>

<span data-ttu-id="ef2ff-365">Die Anzahl der anwendbaren Ressourcen für einen Arbeitsgang wird durch die Ressourcenanforderungen bestimmt, die für die Arbeitsgangbeziehung festgelegt wurden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-365">The number of applicable resources for an operation is determined by the resource requirements set on the operation relation.</span></span> <span data-ttu-id="ef2ff-366">Die Anforderung kann entweder für eine bestimmte (einzelne) Ressource gelten oder auf der Mitgliedschaft der Ressource in einer Ressourcengruppe oder Funktion basieren.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-366">The requirement can either be for a specific (individual) resource or it can be based on the resource's membership of a resource group or capability.</span></span>

<span data-ttu-id="ef2ff-367">Wenn die Planung nicht mit begrenzter Kapazität durchgeführt wird und alle anwendbaren Ressourcen den gleichen Kalender und die gleiche Effizienz haben, wählt das Planungsmodul letztendlich immer dieselbe Ressource für einen Arbeitsgang aus, jedoch erst, nachdem alle anwendbaren Ressourcen ausprobiert wurden, um zu überprüfen, ob es eine Ressource gibt, die sich besser eignet als die anderen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-367">If scheduling is not done using finite capacity and all the applicable resources have the same calendar and efficiency, then the scheduling engine will always end up picking the same resource for an operation, but only after trying all the applicable resources to check if there is one that is "better" than the others.</span></span> <span data-ttu-id="ef2ff-368">In diesem Fall kann die Auslastung der Planung erheblich reduziert werden, indem dem Arbeitsgang zum Zeitpunkt des Arbeitsplandesigns immer eine bestimmte Ressource zugewiesen wird.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-368">In this case, the load of the scheduling can be greatly reduced simply by always assigning a specific resource to the operation at the route design time.</span></span>

### <a name="route-with-parallel-operations"></a><span data-ttu-id="ef2ff-369">Arbeitsplan mit parallelen Arbeitsgängen</span><span class="sxs-lookup"><span data-stu-id="ef2ff-369">Route with parallel operations</span></span>

<span data-ttu-id="ef2ff-370">Parallele Arbeitsgänge (primär/sekundär) sind ein leistungsstarkes Tool zur Modellierung von Szenarien, z. B. wenn eine Maschine und ein Bediener zur Ausführung einer bestimmten Aufgabe benötigt werden. Sie sind jedoch auch die Ursache für viele Leistungsprobleme.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-370">While parallel operations (primary/secondary) are a powerful tool to model scenarios like when a machine and an operator are both needed to perform a specific task, it is also the source of many performance issues.</span></span> <span data-ttu-id="ef2ff-371">Wenn eine Anforderung für eine bestimmte einzelne Ressource sowohl der primäre als auch der sekundäre Arbeitsgang zugewiesen wird, ist dies normalerweise kein Problem.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-371">If a requirement for a specific individual resource is assigned to both the primary and secondary operation, it is typically not a problem.</span></span> <span data-ttu-id="ef2ff-372">Wenn jedoch für jeden der Arbeitsgänge viele mögliche Ressourcen vorhanden sind, erhöht dies die Planungskomplexität erheblich.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-372">But if there are many possible resources for each of the operations, then it adds significant computational complexity to the scheduling.</span></span>

<span data-ttu-id="ef2ff-373">Eine Alternative zur Verwendung paralleler Arbeitsgänge besteht darin, die Paare entweder als „virtuelle“ Ressourcen zu modellieren (die dann das Team darstellen, das für den Arbeitsgang immer zusammenarbeitet) oder einfach keinen der Arbeitsgänge zu modellieren, wenn sie keinen Engpass darstellen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-373">An alternative to using parallel operations is either to model the pairs as "virtual" resources (which will then represent the team that always goes together for the operation) or to simply not model one of the operations if it doesn't represent a bottleneck.</span></span>

### <a name="route-with-quantity-of-resources-higher-than-1"></a><span data-ttu-id="ef2ff-374">Arbeitsgang mit einer Ressourcenmenge von mehr als 1</span><span class="sxs-lookup"><span data-stu-id="ef2ff-374">Route with quantity of resources higher than 1</span></span>

<span data-ttu-id="ef2ff-375">Wenn Sie die für einen Arbeitsgang erforderliche Ressourcenmenge auf mehr als eins festlegen, entspricht dies effektiv der Verwendung von primären/sekundären Arbeitsgängen, da mehrere parallele Einzelvorgänge an das Modul gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-375">If setting the quantity of resources needed for an operation higher than one, then it results effectively the same as using primary/secondary operations because multiple parallel jobs are sent to the engine.</span></span> <span data-ttu-id="ef2ff-376">In diesem Fall besteht jedoch keine Möglichkeit, bestimmte Ressourcenzuweisungen zu verwenden, da für eine höhere Menge als eins mehr als eine Ressource für den Einzelvorgang anwendbar sein muss.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-376">However, for this case there is not an option of using specific resource assignments, because a quantity higher than one requires that more than one resource is applicable for the operation.</span></span>

### <a name="excessive-use-of-finite-capacity"></a><span data-ttu-id="ef2ff-377">Übermäßige Nutzung begrenzter Kapazität</span><span class="sxs-lookup"><span data-stu-id="ef2ff-377">Excessive use of finite capacity</span></span>

<span data-ttu-id="ef2ff-378">Die Nutzung begrenzter Kapazität erfordert, dass das Modul die Kapazitätsinformationen aus einer Datenbank lädt, und kann einen Rechenaufwand verursachen, da es schwieriger ist, eine Lösung zu finden, insbesondere in Umgebungen, in denen die Ressourcen nahe ihrer maximalen Kapazität gebucht sind.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-378">Use of finite capacity requires the engine to load the capacity information from a database and can have a computational overhead because it will be harder to find a solution especially in environments where the resources are booked close to their maximum capacity.</span></span> <span data-ttu-id="ef2ff-379">Daher ist es wichtig, sorgfältig zu prüfen, ob eine Ressource wirklich eine begrenzte Kapazität benötigt oder überbucht werden kann.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-379">As a result, it is important to carefully evaluate if a resource really needs to use finite capacity or they can be overbooked.</span></span> <span data-ttu-id="ef2ff-380">Da es bei begrenzten Kapazitätsressourcen möglicherweise unterschiedlich wichtig ist, dass sie nicht überbucht werden, empfehlen wir, die Engpassoption für eine Ressource in Kombination mit einem separaten Wert im Plan unter „Kapazitätsplanungszeitraum für Engpassressourcen“ zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-380">Because there might be a difference among finite capacity resources in how important they are not to overbook, we recommend using the bottleneck option on a resource in combination with a separate value on the plan in "Capacity time fence for bottleneck resources".</span></span> <span data-ttu-id="ef2ff-381">Durch die Nutzung des Engpasskonzepts kann der allgemeine Zeitrahmen für begrenzte Kapazitäten verringert werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-381">Using the bottleneck concept can enable that the general finite capacity time fence can be lowered.</span></span>

### <a name="setting-hard-links"></a><span data-ttu-id="ef2ff-382">Feste Links setzen</span><span class="sxs-lookup"><span data-stu-id="ef2ff-382">Setting hard links</span></span>

<span data-ttu-id="ef2ff-383">Der Standardlinktyp des Arbeitsplans ist *weich*. Dies bedeutet, dass zwischen der Endzeit eines Arbeitsgangs und dem Beginn des nächsten Arbeitsgangs eine Zeitlücke zulässig ist.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-383">The standard link type of the route is *soft* , which means that a time gap is allowed between the finishing time of one operation and the start of the next.</span></span> <span data-ttu-id="ef2ff-384">Dies zuzulassen kann den unglücklichen Effekt haben, dass die Produktion für eine Weile stillstehen kann, wenn Materialien oder Kapazitäten für einen der Arbeitsgänge für eine sehr lange Zeit nicht verfügbar sind, was eine mögliche Erhöhung der laufenden Arbeit bedeutet.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-384">Allowing this can have the unfortunate effect that, if materials or capacity are not available for one of the operations for a very long time, the production could be idle for quite a while, meaning a possible increase of work in progress.</span></span> <span data-ttu-id="ef2ff-385">Dies ist bei harten Links nicht der Fall, da Ende und Start perfekt ausgerichtet sein müssen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-385">This will not happen with hard links because the finish and start must align perfectly.</span></span> <span data-ttu-id="ef2ff-386">Das Festlegen fester Links erschwert jedoch das Planungsproblem, da Arbeitszeit- und Kapazitätsschnittpunkte für die beiden Ressourcen der Arbeitsgänge berechnet werden müssen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-386">But setting hard links makes the scheduling problem more difficult because working time and capacity intersections must be calculated for the two resources of the operations.</span></span> <span data-ttu-id="ef2ff-387">Wenn auch parallele Arbeitsgänge beteiligt sind, erhöht dies die Rechenzeit erheblich.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-387">If there are also parallel operations involved, this adds significant computational time.</span></span> <span data-ttu-id="ef2ff-388">Wenn die Ressourcen der beiden Arbeitsgänge unterschiedliche Kalender haben, die sich überhaupt nicht überschneiden, ist das Problem nicht lösbar.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-388">If the resources of the two operations have different calendars that don't overlap at all, the problem is unsolvable.</span></span>

<span data-ttu-id="ef2ff-389">Wir empfehlen, harte Links nur dann zu verwenden, wenn dies unbedingt erforderlich ist, und sorgfältig zu prüfen, ob dies für jeden Arbeitsgang des Arbeitsplans erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-389">We recommend using hard links only when strictly necessary, and carefully consider if it is necessary for each operation of the route.</span></span>

<span data-ttu-id="ef2ff-390">Um die laufende Arbeit zu reduzieren, ohne feste Links anzuwenden, kann ein Trick angewendet werden: Ein Auftrag wird zweimal geplant, und für den zweiten Durchgang wird die entgegengesetzte Richtung verwendet.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-390">To reduce the work in progress without applying hard links, a trick is to schedule the order twice with changing to the opposite direction for the second pass.</span></span> <span data-ttu-id="ef2ff-391">Wenn der erste Zeitplan ab dem Liefertermin rückwärts erstellt wurde, sollte der zweite ab dem geplanten Startdatum vorwärts erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-391">If the first schedule was done backwards from delivery date, then the second should be done forward from the scheduled start date.</span></span> <span data-ttu-id="ef2ff-392">Dies führt dazu, dass die Arbeitsgänge so weit wie möglich komprimiert werden, sodass die laufende Arbeiten minimiert wird.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-392">This will result in the jobs being compressed as much as possible so that the work in progress is minimized.</span></span>

### <a name="separate-calendar-for-each-resource"></a><span data-ttu-id="ef2ff-393">Separater Kalender für jede Ressource</span><span class="sxs-lookup"><span data-stu-id="ef2ff-393">Separate calendar for each resource</span></span>

<span data-ttu-id="ef2ff-394">Eine der Hauptdatenquellen für das Planungsmodul sind Kalenderinformationen, deren Laden aus der Datenbank teuer sein kann.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-394">One of the main sources of data for the scheduling engine is calendar information, which can be expensive to load from the database.</span></span> <span data-ttu-id="ef2ff-395">Da Kalender basierend auf Vorlagen generiert werden, wäre es verlockend, für jede Ressource einen Kalender zu generieren und dann die Informationen in diesem Kalender anzupassen, wenn die Ressource Ausfallzeiten und andere Probleme aufweist.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-395">Because calendars are generated based on templates, it would be tempting to generate a calendar for each resource and then adjust the information in this calendar when the resource has downtime and other issues.</span></span> <span data-ttu-id="ef2ff-396">Dies schränkt jedoch die Fähigkeit der Module, die Kalenderdaten zwischenzuspeichern, erheblich ein, da sie neue Daten für jede Ressource anfordern müssten, was eine große Quelle von Leistungsproblemen sein kann.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-396">However, doing this will severely limit the engines ability to cache the calendar data as it would need to request new data for each resource and can be a large source of performance problems.</span></span> <span data-ttu-id="ef2ff-397">Stattdessen empfehlen wir, dass Sie die Kalender so weit wie möglich zwischen den Ressourcen wiederverwenden und dann Änderungen der Ausfallzeit steuern, indem Sie für einen bestimmten Zeitraum eine andere Kalender-ID zuweisen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-397">Instead, we recommend that you reuse the calendars as much as possible between the resources, and then control downtime changes by assigning a different calendar ID for a period.</span></span>

### <a name="high-number-of-working-time-slots-per-calendar-day"></a><span data-ttu-id="ef2ff-398">Hohe Anzahl der Arbeitszeitfenster pro Kalendertag</span><span class="sxs-lookup"><span data-stu-id="ef2ff-398">High number of working time slots per calendar day</span></span>

<span data-ttu-id="ef2ff-399">Da das Modul die Zeitfenster einzeln auf ihre Kapazität überprüft, ist es vorteilhaft, die Anzahl der Zeitfenster pro Kalendertag zu minimieren.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-399">Because the engine works by examining time slots one-by-one for capacity, it is beneficial to minimize the number of time slots per calendar day.</span></span> <span data-ttu-id="ef2ff-400">Dies könnte zum Beispiel dadurch geschehen, dass überlegt wird, ob es wichtig ist, dass der resultierende Zeitplan widerspiegelt, dass die Arbeitskräfte jede Stunde eine Pause von 5 Minuten einlegen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-400">This could be done, for example, by considering whether it's important for the resulting schedule to reflect that workers have a 5-minute break every hour.</span></span>

### <a name="large-or-none-scheduling-timeouts"></a><span data-ttu-id="ef2ff-401">Große (oder keine) Planungszeitüberschreitungen</span><span class="sxs-lookup"><span data-stu-id="ef2ff-401">Large (or none) scheduling timeouts</span></span>

<span data-ttu-id="ef2ff-402">Die Leistung des Planungsmoduls kann mithilfe der Parameter auf der Seite **Planungsparameter** optimiert werden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-402">Scheduling engine performance can be optimized using parameters found on the **Scheduling parameters** page.</span></span> <span data-ttu-id="ef2ff-403">Die Einstellungen **Zeitlimit für Zeitplanung aktiviert** und **Zeitlimit für Planungsoptimierung aktiviert** sollten immer auf **Ja** eingestellt sein.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-403">The **Scheduling timeout enabled** and **Scheduling optimization timeout enabled** settings should always be set to **Yes**.</span></span> <span data-ttu-id="ef2ff-404">Sind sie auf **Nein** gesetzt, kann die Planung möglicherweise unbegrenzt ausgeführt werden, wenn ein nicht realisierbarer Arbeitsplan mit vielen Optionen erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-404">If set to **No** , the scheduling can potentially run infinitely if an unfeasible route with many options has been created.</span></span>

<span data-ttu-id="ef2ff-405">Der Wert für **Maximale Planungszeit pro Sequenz** steuert, wie viele Sekunden höchstens für die Suche nach einer Lösung für eine einzelne Sequenz aufgewendet werden können (in den meisten Fällen entspricht eine Sequenz einem einzelnen Auftrag).</span><span class="sxs-lookup"><span data-stu-id="ef2ff-405">The value for **Maximum scheduling time per sequence** controls how many seconds can, at most, be spent trying to find a solution for a single sequence (in most cases a sequence corresponds to a single order).</span></span> <span data-ttu-id="ef2ff-406">Der hier zu verwendende Wert hängt stark von der Komplexität des Arbeitsplans und den Einstellungen wie der begrenzten Kapazität ab, aber ein Maximum von etwa 30 Sekunden ist ein guter Ausgangspunkt.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-406">The value to use here highly depends on the complexity of the route and settings like finite capacity, ut a maximum of about 30 seconds is a good starting point.</span></span>

<span data-ttu-id="ef2ff-407">Der Wert für **Zeitlimit für Optimierungsversuche** steuert, wie viele Sekunden höchstens verwendet werden können, um eine bessere Lösung als die ursprünglich gefundene zu finden.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-407">The value for **Optimization attempts timeout** controls how many seconds can at most be used to find a better solution than the one originally found.</span></span> <span data-ttu-id="ef2ff-408">Dies wirkt sich nur auf Arbeitspläne aus, die parallele Arbeitsgänge verwenden, da diese das Testen verschiedener Kombinationen erforderlich machen.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-408">This will only influence routes that are using parallel operations as these make it necessary to test different combinations.</span></span>

> [!NOTE]
> <span data-ttu-id="ef2ff-409">Die für die Zeitüberschreitungen festgelegten Werte werden sowohl für die Planung von freigegebenen Produktionsaufträgen und von geplanten Aufträgen im Rahmen der Materialbedarfsplanung angewendet.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-409">The values set for the timeouts will be applied both for scheduling of released production orders and of planned orders as part of MRP.</span></span> <span data-ttu-id="ef2ff-410">Infolgedessen kann das Festlegen sehr hoher Werte die Laufzeit der Materialbedarfsplanung erheblich verlängern, wenn ein Plan mit vielen geplanten Produktionsaufträgen ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="ef2ff-410">As a result, setting very high values could significantly add to the run time of MRP when running for a plan with many planned production orders.</span></span>
