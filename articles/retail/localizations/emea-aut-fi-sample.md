---
title: Beispiel der Steuerregistrierungsserviceintegration für Österreich
description: In diesem Thema erhalten Sie einen Überblick über das steuerliche Integrationsbeispiel für Österreich.
author: josaw
manager: annbe
ms.date: 03/01/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailFunctionalityProfile, RetailFormLayout, RetailParameters
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: Austria
ms.search.industry: Retail
ms.author: v-dmpere
ms.search.validFrom: 2019-3-1
ms.dyn365.ops.version: 10.0.1
ms.openlocfilehash: 0a10133952d1a161d265dd29e6a63b54de392417
ms.sourcegitcommit: f87de0f949b5d60993b19e0f61297f02d42b5bef
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 09/24/2019
ms.locfileid: "2023377"
---
# <a name="fiscal-registration-service-integration-sample-for-austria"></a><span data-ttu-id="a6990-103">Integrationsbeispiel für Steuererfassungsdienst für Österreich</span><span class="sxs-lookup"><span data-stu-id="a6990-103">Fiscal registration service integration sample for Austria</span></span>

[!include[banner](../includes/banner.md)]

## <a name="introduction"></a><span data-ttu-id="a6990-104">Einführung</span><span class="sxs-lookup"><span data-stu-id="a6990-104">Introduction</span></span>

<span data-ttu-id="a6990-105">Um die lokalen steuerlichen Anforderungen für Kassen in Österreich zu erfüllen, umfassen die Dynamics 365 Retail-Funktionen für Österreich eine Beispielintegration der Verkaufsstelle (POS) in einen externen Steuerregistrierungsservice.</span><span class="sxs-lookup"><span data-stu-id="a6990-105">To meet local fiscal requirements for cash registers in Austria, the Dynamics 365 Retail functionality for Austria includes a sample integration of the point of sale (POS) with an external fiscal registration service.</span></span> <span data-ttu-id="a6990-106">Das Beispiel erweitert die [steuerliche Integrationsfunktionen](fiscal-integration-for-retail-channel.md).</span><span class="sxs-lookup"><span data-stu-id="a6990-106">The sample extends the [fiscal integration functionality](fiscal-integration-for-retail-channel.md).</span></span> <span data-ttu-id="a6990-107">Es basiert auf der [EFR (Electronisches Fiskalregister)](https://efsta.org/sicherheitsloesungen/)-Lösung von [EFSTA](https://efsta.org/) und ermöglicht die Kommunikation mit dem EFR-Service über das HTTPS-Protokoll.</span><span class="sxs-lookup"><span data-stu-id="a6990-107">It's based on the [EFR (Electronic Fiscal Register)](https://efsta.org/sicherheitsloesungen/) solution from [EFSTA](https://efsta.org/) and enables communication with the EFR service via the HTTPS protocol.</span></span> <span data-ttu-id="a6990-108">Der EFR-Dienst sollte entweder in der Retail Hardware station oder auf einem separaten Computer gehostet werden, zu dem von der Hardare station aus eine Verbindung hergestellt werden kann.</span><span class="sxs-lookup"><span data-stu-id="a6990-108">The EFR service should be hosted on either the Retail Hardware station or a separate machine that can be connected to from the Hardware station.</span></span> <span data-ttu-id="a6990-109">Das Beispiel wird in der Form eines Quellcodes bereitgestellt und ist Teil des Retail Software Development Kit (SDK).</span><span class="sxs-lookup"><span data-stu-id="a6990-109">The sample is provided in the form of source code and is part of the Retail software development kit (SDK).</span></span>

<span data-ttu-id="a6990-110">Microsoft gibt keine Hardware, Software oder Dokumentation von EFSTA aus frei.</span><span class="sxs-lookup"><span data-stu-id="a6990-110">Microsoft doesn't release any hardware, software, or documentation from EFSTA.</span></span> <span data-ttu-id="a6990-111">Um Informationen darüber zu erhalten, wie Sie die EFR-Lösung beziehen und betreiben, wenden Sie sich an [EFSTA](https://efsta.org/kontakt/).</span><span class="sxs-lookup"><span data-stu-id="a6990-111">For information about how to get the EFR solution and operate it, contact [EFSTA](https://efsta.org/kontakt/).</span></span>

## <a name="scenarios"></a><span data-ttu-id="a6990-112">Szenarien</span><span class="sxs-lookup"><span data-stu-id="a6990-112">Scenarios</span></span>

<span data-ttu-id="a6990-113">Die folgenden Szenarien werden im Beispiel für die Integration des Steuerregistrierungsservice für Österreich abgedeckt:</span><span class="sxs-lookup"><span data-stu-id="a6990-113">The following scenarios are covered by the fiscal registration service integration sample for Austria:</span></span>

- <span data-ttu-id="a6990-114">Registrierung der Bargeldbuchungen im Steuererfassungsdienst:</span><span class="sxs-lookup"><span data-stu-id="a6990-114">Registration of cash transactions in the fiscal registration service:</span></span>

    - <span data-ttu-id="a6990-115">Senden Sie detaillierte Buchungsdaten zum Steuererfassungsdienst.</span><span class="sxs-lookup"><span data-stu-id="a6990-115">Send detailed transaction data to the fiscal registration service.</span></span> <span data-ttu-id="a6990-116">Diese Daten beinhalten Informationen zu Verkaufspositionen sowie Informationen über Rabatte, Zahlungen und Steuern.</span><span class="sxs-lookup"><span data-stu-id="a6990-116">This data includes sales line information, and information about discounts, payments, and taxes.</span></span>
    - <span data-ttu-id="a6990-117">Erfassen Sie eine Antwort vom Steuererfassungsdienst.</span><span class="sxs-lookup"><span data-stu-id="a6990-117">Capture a response from the fiscal registration service.</span></span> <span data-ttu-id="a6990-118">Diese Antwort beinhaltet eine digitale Signatur und einen Link zur erfassten Buchung.</span><span class="sxs-lookup"><span data-stu-id="a6990-118">This response includes a digital signature and a link to the registered transaction.</span></span>
    - <span data-ttu-id="a6990-119">Erfassen Sie Steuern und ordnen Sie diese den Steuercodes des Erfassungsdiensts zu.</span><span class="sxs-lookup"><span data-stu-id="a6990-119">Register taxes, and map them to the fiscal registration service's tax codes.</span></span>
    - <span data-ttu-id="a6990-120">Drucken Sie den QR-Code für eine erfasste Buchung auf den Beleg.</span><span class="sxs-lookup"><span data-stu-id="a6990-120">Print the QR code for a registered transaction on the receipt.</span></span>

- <span data-ttu-id="a6990-121">Die Erfassung von Geschenkkartenvorgängen und Debitoreneinzahlungen als Sachbuchungen im Steuererfassungsdienst.</span><span class="sxs-lookup"><span data-stu-id="a6990-121">Registration of gift card operations and customer deposits as non-cash transactions in the fiscal registration service:</span></span>

    - <span data-ttu-id="a6990-122">Stellen Sie eine Geschenkkarte aus oder laden Sie sie mit Geld auf.</span><span class="sxs-lookup"><span data-stu-id="a6990-122">Issue or add money to a gift card.</span></span>
    - <span data-ttu-id="a6990-123">Erfassen Sie eine Debitorenkonto-Einzahlung.</span><span class="sxs-lookup"><span data-stu-id="a6990-123">Register a customer account deposit.</span></span>
    - <span data-ttu-id="a6990-124">Erfassen Sie eine Debitorenauftragseinzahlung.</span><span class="sxs-lookup"><span data-stu-id="a6990-124">Register a customer order deposit.</span></span>

- <span data-ttu-id="a6990-125">Die Erfassung von Sachbuchungen und Ereignissen im Steuererfassungsdienst:</span><span class="sxs-lookup"><span data-stu-id="a6990-125">Registration of non-sales transactions and events as non-cash transactions in the fiscal registration service:</span></span>

    - <span data-ttu-id="a6990-126">Schlicht öffnen und Schicht schließen</span><span class="sxs-lookup"><span data-stu-id="a6990-126">Open shift and Close shift</span></span>
    - <span data-ttu-id="a6990-127">Anfangsbetrag, Bareinlage und Zahlungsmittelentfernung</span><span class="sxs-lookup"><span data-stu-id="a6990-127">Start amount, Float entry, and Tender removal</span></span>
    - <span data-ttu-id="a6990-128">Preisüberschreibung</span><span class="sxs-lookup"><span data-stu-id="a6990-128">Price override</span></span>
    - <span data-ttu-id="a6990-129">MwSt.-Überschreibung</span><span class="sxs-lookup"><span data-stu-id="a6990-129">Tax override</span></span>
    - <span data-ttu-id="a6990-130">Belegkopie drucken</span><span class="sxs-lookup"><span data-stu-id="a6990-130">Print copy of receipt</span></span>
    - <span data-ttu-id="a6990-131">Kassenlade öffnen</span><span class="sxs-lookup"><span data-stu-id="a6990-131">Open drawer</span></span>
    - <span data-ttu-id="a6990-132">X-Bericht drucken</span><span class="sxs-lookup"><span data-stu-id="a6990-132">Print X report</span></span>
    - <span data-ttu-id="a6990-133">Z-Bericht drucken</span><span class="sxs-lookup"><span data-stu-id="a6990-133">Print Z report</span></span>

- <span data-ttu-id="a6990-134">Drucken von Tagesendabrechnungen (X/Z-Berichte) die spezifische Felder für Österreich enthalten:</span><span class="sxs-lookup"><span data-stu-id="a6990-134">Printing end-of-day statements (X/Z reports) that have Austria-specific fields:</span></span>

    - <span data-ttu-id="a6990-135">Gesamtanzahl von Produkten oder Dienstleistungen, die an Debitoren geliefert wurden</span><span class="sxs-lookup"><span data-stu-id="a6990-135">Total number of products or services that were delivered to customers</span></span>
    - <span data-ttu-id="a6990-136">Aufschlüsselung von Verkäufen nach Steuersatz</span><span class="sxs-lookup"><span data-stu-id="a6990-136">Breakdown of sales by tax rate</span></span>
    - <span data-ttu-id="a6990-137">Aufschlüsselung von Zahlungen nach Kassierer-/Kassenoperator</span><span class="sxs-lookup"><span data-stu-id="a6990-137">Breakdown of payments by cashier/cash register operator</span></span>
    - <span data-ttu-id="a6990-138">Preisrabatte und Retouren, die Tagesumsatz verringern</span><span class="sxs-lookup"><span data-stu-id="a6990-138">Price discounts and returns that reduce daily sales</span></span>
    - <span data-ttu-id="a6990-139">Nullverkäufe (Geschenke)</span><span class="sxs-lookup"><span data-stu-id="a6990-139">Zero sales (giveaways)</span></span>

- <span data-ttu-id="a6990-140">Fehlerbehebung, wie beispielsweise die folgenden Optionen:</span><span class="sxs-lookup"><span data-stu-id="a6990-140">Error handling, such as the following options:</span></span>

    - <span data-ttu-id="a6990-141">Versuchen Sie die Steuererfassung erneut, falls ein Neuversuch möglich ist, wie z. B. wenn der Steuererfassungsdienst nicht verfügbar ist, nicht bereit ist oder nicht reagiert.</span><span class="sxs-lookup"><span data-stu-id="a6990-141">Retry fiscal registration if a retry is possible, such as if the fiscal registration service isn't available, isn't ready, or isn't responding.</span></span>
    - <span data-ttu-id="a6990-142">Verschieben Sie die Steuererfassung.</span><span class="sxs-lookup"><span data-stu-id="a6990-142">Postpone fiscal registration.</span></span>
    - <span data-ttu-id="a6990-143">Überspringen Sie Steuererfassung, oder markieren Sie die Buchung als erfasst, und schließen Sie Infocodes ein, um den Grund für den Fehler und zusätzliche Informationen zu erfassen.</span><span class="sxs-lookup"><span data-stu-id="a6990-143">Skip fiscal registration, or mark the transaction as registered, and include info codes to capture the reason for the failure and additional information.</span></span>
    - <span data-ttu-id="a6990-144">Überprüfen Sie die Verfügbarkeit des Steuererfassungsdiensts, bevor eine neue Verkaufsbuchung geöffnet wird oder eine Verkaufsbuchung abgeschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="a6990-144">Check the availability of the fiscal registration service before a new sales transaction is opened or a sales transaction is finalized.</span></span>

### <a name="default-data-mapping"></a><span data-ttu-id="a6990-145">Standarddatenzuordnung</span><span class="sxs-lookup"><span data-stu-id="a6990-145">Default data mapping</span></span>

<span data-ttu-id="a6990-146">Die folgende Standarddatenzuordnung ist in der Steuerbeleganbieter-Konfiguration enthalten, die als Teil des Steuerintegrationsbeispiels bereitgestellt wird:</span><span class="sxs-lookup"><span data-stu-id="a6990-146">The following default data mapping is included in the fiscal document provider configuration that is provided as part of the fiscal integration sample:</span></span>

- <span data-ttu-id="a6990-147">Mehrwertsteuer-(MwSt.)-Satzzuordnung:</span><span class="sxs-lookup"><span data-stu-id="a6990-147">Value-added tax (VAT) rates mapping:</span></span>

    <span data-ttu-id="a6990-148">*A: 20,00; B: 10,00; C: 13,00; D: 0,00; E: 19,00; F: 7,00*</span><span class="sxs-lookup"><span data-stu-id="a6990-148">*A: 20.00; B: 10.00; C: 13.00; D: 0.00; E: 19.00; F: 7.00*</span></span>

### <a name="gift-cards"></a><span data-ttu-id="a6990-149">Geschenkkarten</span><span class="sxs-lookup"><span data-stu-id="a6990-149">Gift cards</span></span>

<span data-ttu-id="a6990-150">Das Steuererfassungsdienst-Integrationsbeispiel implementiert die folgenden Regeln bezüglich Geschenkkarten:</span><span class="sxs-lookup"><span data-stu-id="a6990-150">The fiscal registration service integration sample implements the following rules that are related to gift cards:</span></span>

- <span data-ttu-id="a6990-151">Schließen Sie Verkaufspositionen aus, die sich auf die Vorgänge *Geschenkkarte ausstellen* und *Zu Geschenkkarte hinzufügen* aus einer Bargeldbuchung beziehen.</span><span class="sxs-lookup"><span data-stu-id="a6990-151">Exclude sales lines that are related to the *Issue gift card* and *Add to gift card* operations from a cash transaction.</span></span> <span data-ttu-id="a6990-152">Anstatt diese Positionen als Teil einer Bargeldbuchung zu erfassen, erfassen Sie sie als getrennte Sachbuchung im Steuererfassungsdienst.</span><span class="sxs-lookup"><span data-stu-id="a6990-152">Instead of registering those lines as a part of a cash transaction, register them as a separate non-cash transaction in the fiscal registration service.</span></span>
- <span data-ttu-id="a6990-153">Drucken Sie keine Steuergruppenaufschlüsselung und keinen QR-Code auf einen Beleg, wenn der Beleg nur aus Geschenkkartenpositionen besteht.</span><span class="sxs-lookup"><span data-stu-id="a6990-153">Don't print a tax group breakdown and a QR code on a receipt if the receipt consists only of gift card lines.</span></span>
- <span data-ttu-id="a6990-154">Drucken Sie den Gesamtbetrag von Geschenkkarten, die in einer Buchung getrennt vom Bargeldbuchungsbetrag auf dem Beleg ausgestellt oder erneut belastet wurden.</span><span class="sxs-lookup"><span data-stu-id="a6990-154">Print the total amount of gift cards that are issued or re-charged in a transaction separately from the cash transaction amount on the receipt.</span></span>
- <span data-ttu-id="a6990-155">Speichern Sie berechnete Zahlungsregulierungspositionen in der Kanaldatenbank mit einem Verweis auf eine entsprechende Steuerbuchung.</span><span class="sxs-lookup"><span data-stu-id="a6990-155">Save calculated adjustments of payment lines in the channel database with a reference to a corresponding fiscal transaction.</span></span>
- <span data-ttu-id="a6990-156">Zahlung per Geschenkkarte wird als eine normale Zahlung betrachtet.</span><span class="sxs-lookup"><span data-stu-id="a6990-156">Payment by gift card is considered a regular payment.</span></span>

### <a name="customer-deposits-and-customer-order-deposits"></a><span data-ttu-id="a6990-157">Debitoreneinzahlungen und Debitorenauftragseinzahlungen</span><span class="sxs-lookup"><span data-stu-id="a6990-157">Customer deposits and customer order deposits</span></span>

<span data-ttu-id="a6990-158">Das Integrationsbeispiel des Steuererfassungsdiensts implementiert die folgenden Regeln in Bezug auf Debitoreneinzahlungen und Debitorenauftragseinzahlungen:</span><span class="sxs-lookup"><span data-stu-id="a6990-158">The fiscal registration service integration sample implements the following rules that are related to customer deposits and customer order deposits:</span></span>

- <span data-ttu-id="a6990-159">Erfassen Sie eine Sachbuchung, wenn eine Buchung eine Debitoreneinzahlung ist.</span><span class="sxs-lookup"><span data-stu-id="a6990-159">Register a non-cash transaction if a transaction is a customer deposit.</span></span>
- <span data-ttu-id="a6990-160">Erfassen Sie eine Bargeldbuchung, wenn eine Buchung nur eine Debitorenauftragseinzalung oder eine Debitoren-Auftragseinzahlungsrückerstattung enthält.</span><span class="sxs-lookup"><span data-stu-id="a6990-160">Register a non-cash transaction if a transaction contains only a customer order deposit or a customer order deposit refund.</span></span>
- <span data-ttu-id="a6990-161">Ziehen Sie den Debitorenauftragseinzahlungsbetrag von den Zahlungspositionen ab, wenn ein hybrider Kundenauftrag erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="a6990-161">Deduct the customer order deposit amount from payment lines when a hybrid customer order is created.</span></span>
- <span data-ttu-id="a6990-162">Speichern Sie berechnete Zahlungsregulierungspositionen in der Kanaldatenbank mit einem Verweis auf eine Steuerbuchung für einen hybriden Debitorenauftrag.</span><span class="sxs-lookup"><span data-stu-id="a6990-162">Save calculated adjustments of payment lines in the channel database with a reference to a fiscal transaction for a hybrid customer order.</span></span>

### <a name="limitations-of-the-sample"></a><span data-ttu-id="a6990-163">Einschränkungen des Beispiels</span><span class="sxs-lookup"><span data-stu-id="a6990-163">Limitations of the sample</span></span>

<span data-ttu-id="a6990-164">Der Steuererfassungsdienst unterstützt nur Szenarien, bei denen die Mehrwertsteuer im Preis enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="a6990-164">The fiscal registration service supports only scenarios where sales tax is included in the price.</span></span> <span data-ttu-id="a6990-165">Daher muss die Option **Preis in Mehrwertsteuer enthalten** auf **Ja** sowohl für Einzelhandelsgeschäfte als auch Debitoren festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="a6990-165">Therefore, the **Price include sales tax** option must be set to **Yes** for both retail stores and customers.</span></span>

## <a name="set-up-retail-for-austria"></a><span data-ttu-id="a6990-166">Retail für Österreich einrichten</span><span class="sxs-lookup"><span data-stu-id="a6990-166">Set up Retail for Austria</span></span>

<span data-ttu-id="a6990-167">In diesem Abschnitt werden die Retail-Einstellungen beschrieben, die für Österreich spezifisch und empfohlen sind.</span><span class="sxs-lookup"><span data-stu-id="a6990-167">This section describes the Retail settings that are specific to and recommended for Austria.</span></span> <span data-ttu-id="a6990-168">Weitere Informationen zum Einrichten von Retail finden Sie in der [Microsoft Dynamics 365 for Retail-Dokumentation](../index.md).</span><span class="sxs-lookup"><span data-stu-id="a6990-168">For more information about how to set up Retail, see [Microsoft Dynamics 365 for Retail documentation](../index.md).</span></span>

<span data-ttu-id="a6990-169">Um die Österreich-spezifischen Retail-Funktionen zu verwenden, müssen Sie die folgenden Einstellungen angeben:</span><span class="sxs-lookup"><span data-stu-id="a6990-169">To use the Austria-specific functionality for Retail, you must specify the following settings:</span></span>

- <span data-ttu-id="a6990-170">Legen Sie in der primären Adresse der juristischen Person das Feld **Land/Region** auf **AUT** (Österreich) fest.</span><span class="sxs-lookup"><span data-stu-id="a6990-170">In the primary address of the legal entity, set the **Country/region** field to **AUT** (Austria).</span></span>
- <span data-ttu-id="a6990-171">Legen Sie im POS-Funktionsprofil jedes einzelnen Einzelhandelsgeschäfts in Österreich das Feld **ISO-Code** auf **AT** (Österreich) fest.</span><span class="sxs-lookup"><span data-stu-id="a6990-171">In the POS functionality profile of every store that is located in Austria, set the **ISO code** field to **AT** (Austria).</span></span>

<span data-ttu-id="a6990-172">Sie müssen auch die folgenden Einstellungen für Österreich angeben.</span><span class="sxs-lookup"><span data-stu-id="a6990-172">You must also specify the following settings for Austria.</span></span> <span data-ttu-id="a6990-173">Beachten Sie, dass Sie entsprechende Verteilungseinzelvorgänge ausführen müssen, nachdem Sie die Einrichtung abschließen.</span><span class="sxs-lookup"><span data-stu-id="a6990-173">Note that you must run appropriate distribution jobs after you complete the setup.</span></span>

### <a name="set-up-vat-per-austrian-requirements"></a><span data-ttu-id="a6990-174">MwSt. nach österreichischen Anforderungen einrichten</span><span class="sxs-lookup"><span data-stu-id="a6990-174">Set up VAT per Austrian requirements</span></span>


<span data-ttu-id="a6990-175">Sie müssen Mehrwertsteuercodes, Mehrwertsteuergruppen und Artikel-Mehrwertsteuergruppen erstellen.</span><span class="sxs-lookup"><span data-stu-id="a6990-175">You must create sales tax codes, sales tax groups, and item sales tax groups.</span></span> <span data-ttu-id="a6990-176">Sie müssen auch Mehrwertsteuerinformationen für Produkte und Dienstleistungen einrichten.</span><span class="sxs-lookup"><span data-stu-id="a6990-176">You must also set up sales tax information for products and services.</span></span> <span data-ttu-id="a6990-177">Weitere Informationen dazu, wie die Mehrwertsteuer in eingerichtet und verwendet wird, finden Sie unter [Mehrwertsteuerüberblick](../../financials/general-ledger/indirect-taxes-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a6990-177">For more information about how to set up and use sales tax features, see [Sales tax overview](../../financials/general-ledger/indirect-taxes-overview.md).</span></span>


<span data-ttu-id="a6990-178">Auf Verkaufsbelegen können Sie einen abgekürzten Code für einen Mehrwertsteuercode drucken (beispielsweise „A” oder „B”).</span><span class="sxs-lookup"><span data-stu-id="a6990-178">On sales receipts, you can print an abbreviated code for a sales tax code (for example, "A" or "B").</span></span> <span data-ttu-id="a6990-179">Um diese Funktionalität verfügbar zu machen, legen Sie das Feld **Code drucken** auf der Seite **Mehrwertsteuercodes** fest.</span><span class="sxs-lookup"><span data-stu-id="a6990-179">To make this functionality available, set the **Print code** field on the **Sales tax codes** page.</span></span>

### <a name="set-up-retail-stores"></a><span data-ttu-id="a6990-180">Einzelhandelsgeschäfte einrichten</span><span class="sxs-lookup"><span data-stu-id="a6990-180">Set up retail stores</span></span>

<span data-ttu-id="a6990-181">Aktualisieren Sie auf der Seite **Alle Einzelhandelsgeschäfte** die Details der Einzelhandelsgeschäfte.</span><span class="sxs-lookup"><span data-stu-id="a6990-181">On the **All retail stores** page, update the retail store details.</span></span> <span data-ttu-id="a6990-182">Legen Sie genauer die folgenden Parameter fest:</span><span class="sxs-lookup"><span data-stu-id="a6990-182">Specifically, set the following parameters:</span></span>

- <span data-ttu-id="a6990-183">Geben Sie im Feld **Mehrwertsteuergruppe** die Mehrwertsteuergruppe an, die für Verkäufe an den Standard-Einzelhändlerdebitoren verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="a6990-183">In the **Sales tax group** field, specify the sales tax group that should be used for sales to the default retail customer.</span></span>
- <span data-ttu-id="a6990-184">Legen Sie die Option **Preis enthält Mehrwertsteuersatz** auf **Ja** fest.</span><span class="sxs-lookup"><span data-stu-id="a6990-184">Set the **Prices include sales tax** option to **Yes**.</span></span>
- <span data-ttu-id="a6990-185">Legen Sie das Feld **Name** auf den Unternehmensnamen fest.</span><span class="sxs-lookup"><span data-stu-id="a6990-185">Set the **Name** field to the company name.</span></span> <span data-ttu-id="a6990-186">Durch diese Änderung wird sichergestellt, dass der Unternehmensname auf dem Verkaufsbeleg erscheint.</span><span class="sxs-lookup"><span data-stu-id="a6990-186">This change helps guarantee that the company name appears on a sales receipt.</span></span> <span data-ttu-id="a6990-187">Alternativ können Sie den Unternehmensnamen im Verkaufsbeleglayout als Freiformtext hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="a6990-187">Alternatively, you can add the company name to the sales receipt layout as free-form text.</span></span>
- <span data-ttu-id="a6990-188">Legen Sie das Feld **Steuernummer (TIN)** auf die Unternehmenskennnummer fest.</span><span class="sxs-lookup"><span data-stu-id="a6990-188">Set the **Tax identification number (TIN)** field to the company identification number.</span></span> <span data-ttu-id="a6990-189">Durch diese Änderung wird sichergestellt, dass die Identifikationsnummer auf dem Verkaufsbeleg erscheint.</span><span class="sxs-lookup"><span data-stu-id="a6990-189">This change helps guarantee that the company identification number appears on a sales receipt.</span></span> <span data-ttu-id="a6990-190">Alternativ können Sie Unternehmenskennnummer dem Verkaufsbeleglayout als Freiformtext hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="a6990-190">Alternatively, you can add the company identification number to the sales receipt layout as free-form text.</span></span>

### <a name="set-up-functionality-profiles"></a><span data-ttu-id="a6990-191">Einrichten von Funktionsprofilen</span><span class="sxs-lookup"><span data-stu-id="a6990-191">Set up functionality profiles</span></span>

<span data-ttu-id="a6990-192">POS-Funktionsprofile einrichten:</span><span class="sxs-lookup"><span data-stu-id="a6990-192">Set up POS functionality profiles:</span></span>

- <span data-ttu-id="a6990-193">Richten Sie im Inforegister **Belegnummerierung** die Belegnummerierung ein, indem Sie Datensätzen für die Belegbuchungstypen **Verkauf**, **Auftrag** und **Retoure** erstellen oder aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="a6990-193">On the **Receipt numbering** FastTab, set up receipt numbering by creating or updating records for the **Sale**, **Sales order**, and **Return** receipt transaction types.</span></span>

### <a name="configure-custom-fields-so-that-they-can-be-used-in-receipt-formats-for-sales-receipts"></a><span data-ttu-id="a6990-194">Konfigurieren Sie benutzerdefinierte Felder, damit sie in Belegformate für Verkaufsbelege verwendet werden können</span><span class="sxs-lookup"><span data-stu-id="a6990-194">Configure custom fields so that they can be used in receipt formats for sales receipts</span></span>

<span data-ttu-id="a6990-195">Sie können den Sprachtext und die benutzerdefinierten Felder konfigurieren, die in den POS-Belegformaten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="a6990-195">You can configure the language text and custom fields that are used in the POS receipt formats.</span></span> <span data-ttu-id="a6990-196">Das Standardunternehmen des Benutzers, der die Boneinrichtung erstellt, sollte die gleiche juristische Person sein, in dem die Sprachtexteinstellung erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="a6990-196">The default company of the user who creates the receipt setup should be the same legal entity where the language text setup is created.</span></span> <span data-ttu-id="a6990-197">Alternativ sollten dieselben Sprachtexte im Standardunternehmen des Benutzers und in der juristischen Person des Shops verwendet werden, für den das Setup erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="a6990-197">Alternatively, the same language texts should be created in both the user's default company and the legal entity of the store that the setup is created for.</span></span>

<span data-ttu-id="a6990-198">Fügen Sie auf der Seite **Sprachentext** die folgenden Datensätze für die Beschriftungen der benutzerdefinierten Felder für Bonlayouts hinzu.</span><span class="sxs-lookup"><span data-stu-id="a6990-198">On the **Language text** page, add the following records for the labels of the custom fields for receipt layouts.</span></span> <span data-ttu-id="a6990-199">Beachten Sie, dass **Sprachen-ID**, **Text-ID** und **Text**-Werte, die in der Tabelle angezeigt werden, nur Beispiele sind.</span><span class="sxs-lookup"><span data-stu-id="a6990-199">Note that the **Language ID**, **Text ID**, and **Text** values that are shown in the table are just examples.</span></span> <span data-ttu-id="a6990-200">Sie können sie ändern, damit sie Ihre Anforderungen erfüllen.</span><span class="sxs-lookup"><span data-stu-id="a6990-200">You can change them to meet to your requirements.</span></span> <span data-ttu-id="a6990-201">Allerdings müssen die **Text-ID**-Werte, die Sie verwenden, eindeutig sein und gleich oder größer als 900001 sein.</span><span class="sxs-lookup"><span data-stu-id="a6990-201">However, the **Text ID** values that you use must be unique, and they must be equal to or more than 900001.</span></span>

<span data-ttu-id="a6990-202">Fügen Sie dem Abschnitt **POS** des **Sprachentext** aus der Tabelle die folgenden POS-Beschriftungen hinzu:</span><span class="sxs-lookup"><span data-stu-id="a6990-202">Add the following POS labels to the **POS** section of **Language text** from the table:</span></span>

| <span data-ttu-id="a6990-203">Sprachkennung</span><span class="sxs-lookup"><span data-stu-id="a6990-203">Language ID</span></span> | <span data-ttu-id="a6990-204">Textkennung</span><span class="sxs-lookup"><span data-stu-id="a6990-204">Text ID</span></span> | <span data-ttu-id="a6990-205">Text</span><span class="sxs-lookup"><span data-stu-id="a6990-205">Text</span></span>                      |
|-------------|---------|---------------------------|
| <span data-ttu-id="a6990-206">en-US</span><span class="sxs-lookup"><span data-stu-id="a6990-206">en-US</span></span>       | <span data-ttu-id="a6990-207">900001</span><span class="sxs-lookup"><span data-stu-id="a6990-207">900001</span></span>  | <span data-ttu-id="a6990-208">QR-Code</span><span class="sxs-lookup"><span data-stu-id="a6990-208">QR Code</span></span>                   |
| <span data-ttu-id="a6990-209">en-US</span><span class="sxs-lookup"><span data-stu-id="a6990-209">en-US</span></span>       | <span data-ttu-id="a6990-210">900002</span><span class="sxs-lookup"><span data-stu-id="a6990-210">900002</span></span>  | <span data-ttu-id="a6990-211">Forlaufende Nummer</span><span class="sxs-lookup"><span data-stu-id="a6990-211">Continuous Number</span></span>         |
| <span data-ttu-id="a6990-212">en-US</span><span class="sxs-lookup"><span data-stu-id="a6990-212">en-US</span></span>       | <span data-ttu-id="a6990-213">900003</span><span class="sxs-lookup"><span data-stu-id="a6990-213">900003</span></span>  | <span data-ttu-id="a6990-214">Einzelhandelsdruckcode für Steuer</span><span class="sxs-lookup"><span data-stu-id="a6990-214">Tax Retail Print Code</span></span>     |
| <span data-ttu-id="a6990-215">en-US</span><span class="sxs-lookup"><span data-stu-id="a6990-215">en-US</span></span>       | <span data-ttu-id="a6990-216">900004</span><span class="sxs-lookup"><span data-stu-id="a6990-216">900004</span></span>  | <span data-ttu-id="a6990-217">Gesamt (Umsatz)</span><span class="sxs-lookup"><span data-stu-id="a6990-217">Total (sales)</span></span>             |
| <span data-ttu-id="a6990-218">en-US</span><span class="sxs-lookup"><span data-stu-id="a6990-218">en-US</span></span>       | <span data-ttu-id="a6990-219">900005</span><span class="sxs-lookup"><span data-stu-id="a6990-219">900005</span></span>  | <span data-ttu-id="a6990-220">Gesamte Steuern (Umsatz)</span><span class="sxs-lookup"><span data-stu-id="a6990-220">Total Tax (sales)</span></span>         |
| <span data-ttu-id="a6990-221">en-US</span><span class="sxs-lookup"><span data-stu-id="a6990-221">en-US</span></span>       | <span data-ttu-id="a6990-222">900006</span><span class="sxs-lookup"><span data-stu-id="a6990-222">900006</span></span>  | <span data-ttu-id="a6990-223">Gesamte enthaltene Steuern (Umsatz)</span><span class="sxs-lookup"><span data-stu-id="a6990-223">Total Include Tax (sales)</span></span> |
| <span data-ttu-id="a6990-224">en-US</span><span class="sxs-lookup"><span data-stu-id="a6990-224">en-US</span></span>       | <span data-ttu-id="a6990-225">900007</span><span class="sxs-lookup"><span data-stu-id="a6990-225">900007</span></span>  | <span data-ttu-id="a6990-226">Steuerbetrag (Umsatz)</span><span class="sxs-lookup"><span data-stu-id="a6990-226">Tax Amount (sales)</span></span>        |
| <span data-ttu-id="a6990-227">en-US</span><span class="sxs-lookup"><span data-stu-id="a6990-227">en-US</span></span>       | <span data-ttu-id="a6990-228">900008</span><span class="sxs-lookup"><span data-stu-id="a6990-228">900008</span></span>  | <span data-ttu-id="a6990-229">Steuergrundlage (Umsatz)</span><span class="sxs-lookup"><span data-stu-id="a6990-229">Tax Basis (sales)</span></span>         |

<span data-ttu-id="a6990-230">Fügen Sie auf der Seite **Benutzerdefinierte Felder** die folgenden Datensätze für die benutzerdefinierten Felder für Bonlayouts hinzu.</span><span class="sxs-lookup"><span data-stu-id="a6990-230">On the **Custom fields** page, add the following records for the custom fields for receipt layouts.</span></span> <span data-ttu-id="a6990-231">Beachten Sie, dass die Werte für **Textkennung Titel** den Werten **Textkennung** entsprechen müssen, die Sie auf der Seite **Sprachentext** angegeben haben:</span><span class="sxs-lookup"><span data-stu-id="a6990-231">Note that **Caption text ID** values must correspond to the **Text ID** values that you specified on the **Language text** page:</span></span>

| <span data-ttu-id="a6990-232">Name</span><span class="sxs-lookup"><span data-stu-id="a6990-232">Name</span></span>                 | <span data-ttu-id="a6990-233">Typ</span><span class="sxs-lookup"><span data-stu-id="a6990-233">Type</span></span>    | <span data-ttu-id="a6990-234">Textkennung Titel</span><span class="sxs-lookup"><span data-stu-id="a6990-234">Caption text ID</span></span> |
|----------------------|---------|-----------------|
| <span data-ttu-id="a6990-235">QRCODE</span><span class="sxs-lookup"><span data-stu-id="a6990-235">QRCODE</span></span>               | <span data-ttu-id="a6990-236">Zugang</span><span class="sxs-lookup"><span data-stu-id="a6990-236">Receipt</span></span> | <span data-ttu-id="a6990-237">900001</span><span class="sxs-lookup"><span data-stu-id="a6990-237">900001</span></span>          |
| <span data-ttu-id="a6990-238">CONTINUOUSNUMBER</span><span class="sxs-lookup"><span data-stu-id="a6990-238">CONTINUOUSNUMBER</span></span>     | <span data-ttu-id="a6990-239">Zugang</span><span class="sxs-lookup"><span data-stu-id="a6990-239">Receipt</span></span> | <span data-ttu-id="a6990-240">900002</span><span class="sxs-lookup"><span data-stu-id="a6990-240">900002</span></span>          |
| <span data-ttu-id="a6990-241">RETAILPRINTCODE</span><span class="sxs-lookup"><span data-stu-id="a6990-241">RETAILPRINTCODE</span></span>      | <span data-ttu-id="a6990-242">Zugang</span><span class="sxs-lookup"><span data-stu-id="a6990-242">Receipt</span></span> | <span data-ttu-id="a6990-243">900003</span><span class="sxs-lookup"><span data-stu-id="a6990-243">900003</span></span>          |
| <span data-ttu-id="a6990-244">SALESTOTAL</span><span class="sxs-lookup"><span data-stu-id="a6990-244">SALESTOTAL</span></span>           | <span data-ttu-id="a6990-245">Zugang</span><span class="sxs-lookup"><span data-stu-id="a6990-245">Receipt</span></span> | <span data-ttu-id="a6990-246">900004</span><span class="sxs-lookup"><span data-stu-id="a6990-246">900004</span></span>          |
| <span data-ttu-id="a6990-247">SALESTOTALTAX</span><span class="sxs-lookup"><span data-stu-id="a6990-247">SALESTOTALTAX</span></span>        | <span data-ttu-id="a6990-248">Zugang</span><span class="sxs-lookup"><span data-stu-id="a6990-248">Receipt</span></span> | <span data-ttu-id="a6990-249">900005</span><span class="sxs-lookup"><span data-stu-id="a6990-249">900005</span></span>          |
| <span data-ttu-id="a6990-250">SALESTOTALINCLUDETAX</span><span class="sxs-lookup"><span data-stu-id="a6990-250">SALESTOTALINCLUDETAX</span></span> | <span data-ttu-id="a6990-251">Zugang</span><span class="sxs-lookup"><span data-stu-id="a6990-251">Receipt</span></span> | <span data-ttu-id="a6990-252">900006</span><span class="sxs-lookup"><span data-stu-id="a6990-252">900006</span></span>          |
| <span data-ttu-id="a6990-253">SALESTAXAMOUNT</span><span class="sxs-lookup"><span data-stu-id="a6990-253">SALESTAXAMOUNT</span></span>       | <span data-ttu-id="a6990-254">Zugang</span><span class="sxs-lookup"><span data-stu-id="a6990-254">Receipt</span></span> | <span data-ttu-id="a6990-255">900007</span><span class="sxs-lookup"><span data-stu-id="a6990-255">900007</span></span>          |
| <span data-ttu-id="a6990-256">SALESTAXBASIS</span><span class="sxs-lookup"><span data-stu-id="a6990-256">SALESTAXBASIS</span></span>        | <span data-ttu-id="a6990-257">Zugang</span><span class="sxs-lookup"><span data-stu-id="a6990-257">Receipt</span></span> | <span data-ttu-id="a6990-258">900008</span><span class="sxs-lookup"><span data-stu-id="a6990-258">900008</span></span>          |

### <a name="configure-receipt-formats"></a><span data-ttu-id="a6990-259">Bonformate konfigurieren</span><span class="sxs-lookup"><span data-stu-id="a6990-259">Configure receipt formats</span></span>

<span data-ttu-id="a6990-260">Ändern Sie für jedes erforderliche Belegformat den Wert des Felds **Druckverhalten** auf **Immer drucken**.</span><span class="sxs-lookup"><span data-stu-id="a6990-260">For every required receipt format, change the value of the **Print behavior** field to **Always print**.</span></span>

<span data-ttu-id="a6990-261">In Designer für Bonformat fügen Sie die folgenden benutzerdefinierten Felder den entsprechenden Bonabschnitten hinzu.</span><span class="sxs-lookup"><span data-stu-id="a6990-261">In the Receipt format designer, add the following custom fields to the appropriate receipt sections.</span></span> <span data-ttu-id="a6990-262">Beachten Sie, dass die Feldnamen den Sprachtexten entsprechen, die Sie im vorherigen Abschnitt definiert haben.</span><span class="sxs-lookup"><span data-stu-id="a6990-262">Note that field names correspond to the language texts that you defined in the previous section.</span></span>

- <span data-ttu-id="a6990-263">**Kopfzeile:** Fügen Sie die folgenden Felder hinzu:</span><span class="sxs-lookup"><span data-stu-id="a6990-263">**Header:** Add the following fields:</span></span>

    - <span data-ttu-id="a6990-264">Die Felder **Shopname** und **Steueridentifikationsnummer**, die zum Drucken des Unternehmensnamens und der Identitätsnummer auf Belegen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="a6990-264">**Store name** and **Tax Identification Number** fields, which are used to print the company name and identity number on receipts.</span></span> <span data-ttu-id="a6990-265">Alternativ können Sie den Unternehmensnamen und die Identitätsnummer im Layout als Freiformtext hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="a6990-265">Alternatively, you can add the company name and identity number to the layout as free-form text.</span></span>
    - <span data-ttu-id="a6990-266">**Shopadresse**, **Datum**, **Zeit 24 h**, **Bonnummer** und **Registernummer**</span><span class="sxs-lookup"><span data-stu-id="a6990-266">**Store address**, **Date**, **Time 24H**, **Receipt Number**, and **Register number** fields.</span></span>
    - <span data-ttu-id="a6990-267">Felder **Fortlaufende Zahl**, um die Nummer der Bargeldbuchungen im Steuererfassungsdienst zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="a6990-267">**Continuous Number** fields, to identify the number of the cash transaction in the fiscal registration service.</span></span>

- <span data-ttu-id="a6990-268">**Positionen:** Fügen Sie die folgenden Felder hinzu:</span><span class="sxs-lookup"><span data-stu-id="a6990-268">**Lines:** Add the following fields:</span></span>

    - <span data-ttu-id="a6990-269">**Artikelname**.</span><span class="sxs-lookup"><span data-stu-id="a6990-269">**Item name**.</span></span>
    - <span data-ttu-id="a6990-270">**Menge**.</span><span class="sxs-lookup"><span data-stu-id="a6990-270">**Qty**.</span></span>
    - <span data-ttu-id="a6990-271">**Gesamtpreis mit USt.**.</span><span class="sxs-lookup"><span data-stu-id="a6990-271">**Total price with tax**.</span></span>
    - <span data-ttu-id="a6990-272">**Steuereinzelhandels-Druckcode**, der verwendet wird, um den abgekürzten Code zu drucken, der dem Mehrwertsteuercode entspricht, der für den Artikel gilt.</span><span class="sxs-lookup"><span data-stu-id="a6990-272">**Tax Retail Print Code**, which is used to print the abbreviated code that corresponds to the sales tax code that applies to the item.</span></span>

- <span data-ttu-id="a6990-273">**Fußzeile:** Fügen Sie die folgenden Felder hinzu:</span><span class="sxs-lookup"><span data-stu-id="a6990-273">**Footer:** Add the following fields:</span></span>

    - <span data-ttu-id="a6990-274">Ändern Sie die Zahlungsfelder, damit die Zahlungsbeträge für jede Zahlungsmethode gedruckt werden.</span><span class="sxs-lookup"><span data-stu-id="a6990-274">Payment fields, so that the payment amounts for each payment method are printed.</span></span> <span data-ttu-id="a6990-275">Beispiel: Fügen Sie die Felder **Name des Zahlungsmittels** und **Betrag des Zahlungsmittels** einer Position des Layouts hinzu.</span><span class="sxs-lookup"><span data-stu-id="a6990-275">For example, add the **Tender name** and **Tender amount** fields to one line of the layout.</span></span>
    - <span data-ttu-id="a6990-276">**Verkaufssumme**-Feldgruppe:</span><span class="sxs-lookup"><span data-stu-id="a6990-276">**Sales total** field group:</span></span>

        - <span data-ttu-id="a6990-277">Feld **Summe (Verkauf)**, das verwendet wird, um den Gesamt-Barverkaufsbetrag des Belegs zu drucken.</span><span class="sxs-lookup"><span data-stu-id="a6990-277">**Total (sales)** field, which is used to print the receipt's total cash sale amount.</span></span> <span data-ttu-id="a6990-278">Der Betrag enthält keine Steuer.</span><span class="sxs-lookup"><span data-stu-id="a6990-278">The amount excludes tax.</span></span> <span data-ttu-id="a6990-279">Vorauszahlungen und Geschenkkartenvorgänge werden ausgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="a6990-279">Prepayments and gift card operations are excluded.</span></span>
        - <span data-ttu-id="a6990-280">Feld **Summe einschließlich Steuer (Verkauf)**, das verwendet wird, um den Gesamt-Barverkaufsbetrag des Belegs zu drucken.</span><span class="sxs-lookup"><span data-stu-id="a6990-280">**Total Include Tax (sales)** field, which is used to print the receipt's total cash sale amount.</span></span> <span data-ttu-id="a6990-281">Der Betrag enthält Steuer.</span><span class="sxs-lookup"><span data-stu-id="a6990-281">The amount includes tax.</span></span> <span data-ttu-id="a6990-282">Vorauszahlungen und Geschenkkartenvorgänge werden ausgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="a6990-282">Prepayments and gift card operations are excluded.</span></span>
        - <span data-ttu-id="a6990-283">Feld **Gesamtsteuer (Verkauf)**, das verwendet wird, um den Gesamtsteuerbetrag für Barverkäufe des Belegs zu drucken.</span><span class="sxs-lookup"><span data-stu-id="a6990-283">**Total Tax (sales)** field, which is used to print the receipt's total tax amount for cash sales.</span></span> <span data-ttu-id="a6990-284">Vorauszahlungen und Geschenkkartenvorgänge werden ausgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="a6990-284">Prepayments and gift card operations are excluded.</span></span>

    - <span data-ttu-id="a6990-285">**Steueraufschlüsselung**-Feldgruppe.</span><span class="sxs-lookup"><span data-stu-id="a6990-285">**Tax break down** field group.</span></span> <span data-ttu-id="a6990-286">Die Felder in dieser Feldgruppe müssen in einer separaten Position gedruckt werden.</span><span class="sxs-lookup"><span data-stu-id="a6990-286">The fields in this field group must be printed on a separate line.</span></span>

        - <span data-ttu-id="a6990-287">Feld **Steuerkennung**, das ein Standardfeld ist, das den Druck einer Mehrwertsteuerzusammenfassung für jeden Mehrwertsteuercode aktiviert.</span><span class="sxs-lookup"><span data-stu-id="a6990-287">**Tax Id** field, which is a standard field that enables a sales tax summary to be printed for each sales tax code.</span></span> <span data-ttu-id="a6990-288">Das Feld muss einer neuen Position hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="a6990-288">The field must be added to a new line.</span></span>
        - <span data-ttu-id="a6990-289">**Steuerprozentsatz**-Feld, das ein Standardfeld ist, das zum Drucken des tatsächlichen Steuersatzes für den Mehrwertsteuercode verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="a6990-289">**Tax Percentage** field, which is a standard field that is used to print the effective tax rate for the sales tax code.</span></span>
        - <span data-ttu-id="a6990-290">Feld **Steuerbasis (Verkauf)**, das verwendet wird, um den Gesamtbarverkaufsbetrag für den Mehrwertsteuercode des Belegs zu drucken.</span><span class="sxs-lookup"><span data-stu-id="a6990-290">**Tax Basis (sales)** field, which is used to print the receipt's total cash sale amount for the sales tax code.</span></span> <span data-ttu-id="a6990-291">Vorauszahlungen und Geschenkkartenvorgänge werden ausgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="a6990-291">Prepayments and gift card operations are excluded.</span></span>
        - <span data-ttu-id="a6990-292">Feld **Steuerbetrag (Verkauf)**, das verwendet wird, um den Steuerbetrag für Barverkäufe des Belegs für den Mehrwertsteuercode zu drucken.</span><span class="sxs-lookup"><span data-stu-id="a6990-292">**Tax Amount (sales)** field, which is used to print the receipt's tax amount for cash sales for the sales tax code.</span></span>
        - <span data-ttu-id="a6990-293">Feld **Steuereinzelhandels-Druckcode**, das verwendet wird, um den abgekürzten Code zu drucken, der dem Mehrwertsteuercode entspricht.</span><span class="sxs-lookup"><span data-stu-id="a6990-293">**Tax Retail Print Code** field, which is used to print the abbreviated code that corresponds to the sales tax code.</span></span>

    - <span data-ttu-id="a6990-294">Feld **QR-Code**, das verwendet wird, um den Verweis auf die erfasste Bargeldbuchung in der Form eines QR-Codes zu drucken.</span><span class="sxs-lookup"><span data-stu-id="a6990-294">**QR Code** field, which is used to print the reference to the registered cash transaction in the form of QR code.</span></span>

<span data-ttu-id="a6990-295">Weitere Informationen zum Arbeiten mit Belegformaten finden Sie unter [Belegvorlagen und Drucken](../receipt-templates-printing.md).</span><span class="sxs-lookup"><span data-stu-id="a6990-295">For more information about how to work with receipt formats, see [Receipt templates and printing](../receipt-templates-printing.md).</span></span>

### <a name="configure-fiscal-integration"></a><span data-ttu-id="a6990-296">Steuerintegration konfigurieren</span><span class="sxs-lookup"><span data-stu-id="a6990-296">Configure fiscal integration</span></span>

<span data-ttu-id="a6990-297">Schließen Sie die Steuerintegrationseinrichtungsschritte ab, wie beschrieben in [Steuerintegration für Retail Channels einrichten](setting-up-fiscal-integration-for-retail-channel.md):</span><span class="sxs-lookup"><span data-stu-id="a6990-297">Complete the fiscal integration setup steps as described in [Set up the fiscal integration for Retail channels](setting-up-fiscal-integration-for-retail-channel.md):</span></span>

- <span data-ttu-id="a6990-298">[Richten Sie einen Steuererfassungsprozesses ein](setting-up-fiscal-integration-for-retail-channel.md#set-up-a-fiscal-registration-process).</span><span class="sxs-lookup"><span data-stu-id="a6990-298">[Set up a fiscal registration process](setting-up-fiscal-integration-for-retail-channel.md#set-up-a-fiscal-registration-process).</span></span> <span data-ttu-id="a6990-299">Beachten Sie auch die Einstellungen für den Steuererfassungsprozess, die [für dieses Steuererfassungsdienst-Integrationsbeispiel spezifisch sind](#set-up-the-registration-process).</span><span class="sxs-lookup"><span data-stu-id="a6990-299">Note also the settings for the fiscal registration process that are [specific to this fiscal registration service integration sample](#set-up-the-registration-process).</span></span>
- <span data-ttu-id="a6990-300">[Legen Sie Einstellungen zur Fehlerbehandlung fest](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span><span class="sxs-lookup"><span data-stu-id="a6990-300">[Set error handling settings](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span></span>
- <span data-ttu-id="a6990-301">[Aktivieren Sie manuelle Ausführung der verschobenen steuerlichen Erfassung](setting-up-fiscal-integration-for-retail-channel.md#enable-manual-execution-of-postponed-fiscal-registration).</span><span class="sxs-lookup"><span data-stu-id="a6990-301">[Enable manual execution of postponed fiscal registration](setting-up-fiscal-integration-for-retail-channel.md#enable-manual-execution-of-postponed-fiscal-registration).</span></span>

## <a name="deployment-guidelines-for-cash-registers-for-austria"></a><span data-ttu-id="a6990-302">Bereitstellungsrichtlinien für Kassen für Österreich</span><span class="sxs-lookup"><span data-stu-id="a6990-302">Deployment guidelines for cash registers for Austria</span></span>

<span data-ttu-id="a6990-303">Das Steuererfassungsdienst-Integrationsbeispiel für Österreich ist Teil des Retail SDK.</span><span class="sxs-lookup"><span data-stu-id="a6990-303">The fiscal registration service integration sample for Austria is part of the Retail SDK.</span></span> <span data-ttu-id="a6990-304">Informationen zur Installation und Verwendung des Retail SDK finden Sie in der [Retail SDK-Dokumentation](../dev-itpro/retail-sdk/retail-sdk-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a6990-304">For information about how to install and use the Retail SDK, see the [Retail SDK documentation](../dev-itpro/retail-sdk/retail-sdk-overview.md).</span></span>

<span data-ttu-id="a6990-305">Dieses Beispiel besteht aus Erweiterungen für CRT, Hardwarestation und POS.</span><span class="sxs-lookup"><span data-stu-id="a6990-305">This sample consists of extensions for the CRT, Hardware station, and POS.</span></span> <span data-ttu-id="a6990-306">Um dieses Beispiel auszuführen, müssen Sie CRT, Hardwarestation und POS-Projekte ändern und erstellen.</span><span class="sxs-lookup"><span data-stu-id="a6990-306">To run this sample, you must modify and build the CRT, Hardware station, and POS projects.</span></span> <span data-ttu-id="a6990-307">Es wird empfohlen, dass Sie ein unverändertes Retail SDK verwenden, um die Änderungen vorzunehmen, die in diesem Thema beschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="a6990-307">We recommend that you use an unmodified Retail SDK to make the changes that are described in this topic.</span></span> <span data-ttu-id="a6990-308">Es wird außerdem empfohlen, dass Sie ein Quellsteuerungssystem verwenden, wie Azure DevOps, bei dem noch keine Dateien geändert wurden.</span><span class="sxs-lookup"><span data-stu-id="a6990-308">We also recommend that you use a source control system, such as Azure DevOps, where no files have been changed yet.</span></span>

<span data-ttu-id="a6990-309">Gehen Sie folgendermaßen vor, um eine Entwicklungsumgebung einzurichten, damit Sie das Beispiel testen und erweitern können.</span><span class="sxs-lookup"><span data-stu-id="a6990-309">Follow these steps to set up a development environment so that you can test and extend the sample.</span></span>

### <a name="enable-commerce-runtime-extensions"></a><span data-ttu-id="a6990-310">Commerce-Laufzeiterweiterungen aktivieren</span><span class="sxs-lookup"><span data-stu-id="a6990-310">Enable Commerce runtime extensions</span></span>

<span data-ttu-id="a6990-311">Die CRT-Erweiterungskomponenten sind in den CRT-Beispielen enthalten.</span><span class="sxs-lookup"><span data-stu-id="a6990-311">The CRT extension components are included in the CRT samples.</span></span> <span data-ttu-id="a6990-312">Um die folgenden Prozeduren abzuschließen, öffnen Sie die CRT-Lösung, **CommerceRuntimeSamples.sln**, unter **RetailSdk\\SampleExtensions\\CommerceRuntime**.</span><span class="sxs-lookup"><span data-stu-id="a6990-312">To complete the following procedures, open the CRT solution, **CommerceRuntimeSamples.sln**, under **RetailSdk\\SampleExtensions\\CommerceRuntime**.</span></span>

#### <a name="documentproviderefrsample-component"></a><span data-ttu-id="a6990-313">DocumentProvider.EFRSample-Komponente</span><span class="sxs-lookup"><span data-stu-id="a6990-313">DocumentProvider.EFRSample component</span></span>

1. <span data-ttu-id="a6990-314">Suchen Sie das Projekt **Runtime.Extensions.DocumentProvider.EFRSample**, und erstellen Sie es.</span><span class="sxs-lookup"><span data-stu-id="a6990-314">Find the **Runtime.Extensions.DocumentProvider.EFRSample** project, and build it.</span></span>
2. <span data-ttu-id="a6990-315">Im Ordner **Runtime.Extensions.DocumentProvider.EFRSample\\bin\\Debug** suchen Sie die Assembly-Datei **Contoso.Commerce.Runtime.DocumentProvider.EFRSample.dll**.</span><span class="sxs-lookup"><span data-stu-id="a6990-315">In the **Runtime.Extensions.DocumentProvider.EFRSample\\bin\\Debug** folder, find the **Contoso.Commerce.Runtime.DocumentProvider.EFRSample.dll** assembly file.</span></span>
3. <span data-ttu-id="a6990-316">Kopieren Sie die Assemblydatei in den CRT-Erweiterungsordner:</span><span class="sxs-lookup"><span data-stu-id="a6990-316">Copy the assembly file to the CRT extensions folder:</span></span>

    - <span data-ttu-id="a6990-317">**Retail Server:** Kopieren Sie die Assembly in den Ordner **\\bin\\ext** unter dem Microsoft Internet Information Services (IIS) Retail Server-Websitespeicherort.</span><span class="sxs-lookup"><span data-stu-id="a6990-317">**Retail Server:** Copy the assembly to the **\\bin\\ext** folder under the Microsoft Internet Information Services (IIS) Retail Server site location.</span></span>
    - <span data-ttu-id="a6990-318">**Lokales CRT i Modern POS:** Kopieren Sie die Assembly in den Ordner **\\ext** unter dem lokalen CRT-Clientbroker-Speicherort.</span><span class="sxs-lookup"><span data-stu-id="a6990-318">**Local CRT on Modern POS:** Copy the assembly to the **\\ext** folder under the local CRT client broker location.</span></span>

4. <span data-ttu-id="a6990-319">Suchen Sie die Erweiterungskonfigurationsdatei für CRT:</span><span class="sxs-lookup"><span data-stu-id="a6990-319">Find the extension configuration file for CRT:</span></span>

    - <span data-ttu-id="a6990-320">**Retail Server:** Die Datei hat den Namen **commerceruntime.ext.config**, und sie befindet sich im Ordner **bin\\ext** unter dem IIS Retail Server-Websitespeicherort.</span><span class="sxs-lookup"><span data-stu-id="a6990-320">**Retail Server:** The file is named **commerceruntime.ext.config**, and it's in the **bin\\ext** folder under the IIS Retail Server site location.</span></span>
    - <span data-ttu-id="a6990-321">**Lokales CRT in Modern POS:** Die Datei hat den Namen **CommerceRuntime.MPOSOffline.Ext.config**, und sie befindet sich unter dem lokalen CRT-Clientbroker-Speicherort.</span><span class="sxs-lookup"><span data-stu-id="a6990-321">**Local CRT on Modern POS:** The file is named **CommerceRuntime.MPOSOffline.Ext.config**, and it's under the local CRT client broker location.</span></span>

5. <span data-ttu-id="a6990-322">Erfassen Sie die CRT-Änderung in der Erweiterungskonfigurationsdatei.</span><span class="sxs-lookup"><span data-stu-id="a6990-322">Register the CRT change in the extension configuration file.</span></span>

    ``` xml
    <add source="assembly" value="Contoso.Commerce.Runtime.DocumentProvider.EFRSample" />
    ```

#### <a name="documentproviderdatamodelefr-component"></a><span data-ttu-id="a6990-323">DocumentProvider.DataModelEFR-Komponente</span><span class="sxs-lookup"><span data-stu-id="a6990-323">DocumentProvider.DataModelEFR component</span></span>

1. <span data-ttu-id="a6990-324">Suchen Sie das Projekt **Runtime.Extensions.DocumentProvider.DataModelEFR**, und erstellen Sie es.</span><span class="sxs-lookup"><span data-stu-id="a6990-324">Find the **Runtime.Extensions.DocumentProvider.DataModelEFR** project, and build it.</span></span>
2. <span data-ttu-id="a6990-325">Im Ordner **Runtime.Extensions.DocumentProvider.DataModelEFR\\bin\\Debug** suchen Sie die Assembly-Datei **Contoso.Commerce.Runtime.DocumentProvider.DataModelEFR.dll**.</span><span class="sxs-lookup"><span data-stu-id="a6990-325">In the **Runtime.Extensions.DocumentProvider.DataModelEFR\\bin\\Debug** folder, find the **Contoso.Commerce.Runtime.DocumentProvider.DataModelEFR.dll** assembly file.</span></span>
3. <span data-ttu-id="a6990-326">Kopieren Sie die Assemblydatei in den CRT-Erweiterungsordner:</span><span class="sxs-lookup"><span data-stu-id="a6990-326">Copy the assembly file to the CRT extensions folder:</span></span>

    - <span data-ttu-id="a6990-327">**Retail Server:** Kopieren Sie die Assembly in den Ordner **\\bin\\ext** unter dem IIS Retail Server-Websitespeicherort.</span><span class="sxs-lookup"><span data-stu-id="a6990-327">**Retail Server:** Copy the assembly to the **\\bin\\ext** folder under the IIS Retail Server site location.</span></span>
    - <span data-ttu-id="a6990-328">**Lokales CRT i Modern POS:** Kopieren Sie die Assembly in den Ordner **\\ext** unter dem lokalen CRT-Clientbroker-Speicherort.</span><span class="sxs-lookup"><span data-stu-id="a6990-328">**Local CRT on Modern POS:** Copy the assembly to the **\\ext** folder under the local CRT client broker location.</span></span>

4. <span data-ttu-id="a6990-329">Suchen Sie die Erweiterungskonfigurationsdatei für CRT:</span><span class="sxs-lookup"><span data-stu-id="a6990-329">Find the extension configuration file for CRT:</span></span>

    - <span data-ttu-id="a6990-330">**Retail Server:** Die Datei hat den Namen **commerceruntime.ext.config**, und sie befindet sich im Ordner **bin\\ext** unter dem IIS Retail Server-Websitespeicherort.</span><span class="sxs-lookup"><span data-stu-id="a6990-330">**Retail Server:** The file is named **commerceruntime.ext.config**, and it's in the **bin\\ext** folder under the IIS Retail Server site location.</span></span>
    - <span data-ttu-id="a6990-331">**Lokales CRT in Modern POS:** Die Datei hat den Namen **CommerceRuntime.MPOSOffline.Ext.config**, und sie befindet sich unter dem lokalen CRT-Clientbroker-Speicherort.</span><span class="sxs-lookup"><span data-stu-id="a6990-331">**Local CRT on Modern POS:** The file is named **CommerceRuntime.MPOSOffline.Ext.config**, and it's under the local CRT client broker location.</span></span>

5. <span data-ttu-id="a6990-332">Erfassen Sie die CRT-Änderung in der Erweiterungskonfigurationsdatei.</span><span class="sxs-lookup"><span data-stu-id="a6990-332">Register the CRT change in the extension configuration file.</span></span>

    ``` xml
    <add source="assembly" value="Contoso.Commerce.Runtime.DocumentProvider.DataModelEFR" />
    ```

#### <a name="update-extension-configuration-file"></a><span data-ttu-id="a6990-333">Erweiterungskonfigurationsdatei aktualisieren</span><span class="sxs-lookup"><span data-stu-id="a6990-333">Update extension configuration file</span></span>

1. <span data-ttu-id="a6990-334">Suchen Sie die Erweiterungskonfigurationsdatei für CRT:</span><span class="sxs-lookup"><span data-stu-id="a6990-334">Find the extension configuration file for CRT:</span></span>

    - <span data-ttu-id="a6990-335">**Retail Server:** Die Datei hat den Namen **commerceruntime.ext.config**, und sie befindet sich im Ordner **bin\\ext** unter dem IIS Retail Server-Websitespeicherort.</span><span class="sxs-lookup"><span data-stu-id="a6990-335">**Retail Server:** The file is named **commerceruntime.ext.config**, and it's in the **bin\\ext** folder under the IIS Retail Server site location.</span></span>
    - <span data-ttu-id="a6990-336">**Lokales CRT in Modern POS:** Die Datei hat den Namen **CommerceRuntime.MPOSOffline.Ext.config**, und sie befindet sich unter dem lokalen CRT-Clientbroker-Speicherort.</span><span class="sxs-lookup"><span data-stu-id="a6990-336">**Local CRT on Modern POS:** The file is named **CommerceRuntime.MPOSOffline.Ext.config**, and it's under the local CRT client broker location.</span></span>

2. <span data-ttu-id="a6990-337">Erfassen Sie die CRT-Änderung in der Erweiterungskonfigurationsdatei.</span><span class="sxs-lookup"><span data-stu-id="a6990-337">Register the CRT change in the extension configuration file.</span></span>

    ``` xml
    <add source="assembly" value="Microsoft.Dynamics.Commerce.Runtime.ReceiptsAustria" />
    <add source="assembly" value="Microsoft.Dynamics.Commerce.Runtime.RegisterAuditEventAustria" />
    <add source="assembly" value="Microsoft.Dynamics.Commerce.Runtime.XZReportsAustria" />
    ```

### <a name="enable-hardware-station-extensions"></a><span data-ttu-id="a6990-338">Hardware station-Erweiterungen aktivieren</span><span class="sxs-lookup"><span data-stu-id="a6990-338">Enable Hardware station extensions</span></span>

<span data-ttu-id="a6990-339">Die Hardware station-Erweiterungskomponenten sind in den Hardware station-Beispielen enthalten.</span><span class="sxs-lookup"><span data-stu-id="a6990-339">The Hardware station extension components are included in the Hardware station samples.</span></span> <span data-ttu-id="a6990-340">Um die folgenden Prozeduren abzuschließen, öffnen Sie die Lösung, **HardwareStationSamples.sln.sln**, unter **RetailSdk\\SampleExtensions\\HardwareStation**.</span><span class="sxs-lookup"><span data-stu-id="a6990-340">To complete the following procedures, open the solution, **HardwareStationSamples.sln.sln**, under **RetailSdk\\SampleExtensions\\HardwareStation**.</span></span>

#### <a name="efrsample-component"></a><span data-ttu-id="a6990-341">EFRSample-Komponente</span><span class="sxs-lookup"><span data-stu-id="a6990-341">EFRSample component</span></span>

1. <span data-ttu-id="a6990-342">Suchen Sie das Projekt **HardwareStation.Extension.EFRSample**, und erstellen Sie es.</span><span class="sxs-lookup"><span data-stu-id="a6990-342">Find the **HardwareStation.Extension.EFRSample** project, and build it.</span></span>
2. <span data-ttu-id="a6990-343">Im Ordner **Extension.EFRSample\\bin\\Debug** suchen Sie folgende Dateien:</span><span class="sxs-lookup"><span data-stu-id="a6990-343">In the **Extension.EFRSample\\bin\\Debug** folder, find following files:</span></span>

    - <span data-ttu-id="a6990-344">Die **Contoso.Commerce.HardwareStation.EFRSample.dll**-Assembly</span><span class="sxs-lookup"><span data-stu-id="a6990-344">The **Contoso.Commerce.HardwareStation.EFRSample.dll** assembly</span></span>
    - <span data-ttu-id="a6990-345">Die **Contoso.Commerce.Runtime.DocumentProvider.DataModelEFR.dll**-Assembly</span><span class="sxs-lookup"><span data-stu-id="a6990-345">The **Contoso.Commerce.Runtime.DocumentProvider.DataModelEFR.dll** assembly</span></span>

3. <span data-ttu-id="a6990-346">Kopieren Sie die Assembly-Dateien in den Hardware stations-Erweiterungsordner:</span><span class="sxs-lookup"><span data-stu-id="a6990-346">Copy the assembly files to the Hardware station extensions folder:</span></span>

    - <span data-ttu-id="a6990-347">**Freigegebene Hardware station:** Kopieren Sie die Dateien in den Ordner **Lagerfach** unter dem IIS Hardware stations-Websitespeicherort.</span><span class="sxs-lookup"><span data-stu-id="a6990-347">**Shared hardware station:** Copy the files to the **bin** folder under the IIS Hardware station site location.</span></span>
    - <span data-ttu-id="a6990-348">**Dedizierte Hardware station auf Modern POS:** Kopieren Sie die Dateien zum Modern POS-Client-Broker-Speicherort.</span><span class="sxs-lookup"><span data-stu-id="a6990-348">**Dedicated hardware station on Modern POS:** Copy the files to the Modern POS client broker location.</span></span>

4. <span data-ttu-id="a6990-349">Suchen Sie die Erweiterungskonfigurationsdatei für die Erweiterungen der Hardware station.</span><span class="sxs-lookup"><span data-stu-id="a6990-349">Find the extension configuration file for the Hardware station's extensions.</span></span> <span data-ttu-id="a6990-350">Die Datei hat den Namen **HardwareStation.Extension.config**.</span><span class="sxs-lookup"><span data-stu-id="a6990-350">The file is named **HardwareStation.Extension.config**.</span></span>

    - <span data-ttu-id="a6990-351">**Freigegebene Hardware station:** Die Datei befindet sich unter dem IIS Hardware station-Websitespeicherort.</span><span class="sxs-lookup"><span data-stu-id="a6990-351">**Shared hardware station:** The file is located under the IIS Hardware station site location.</span></span>
    - <span data-ttu-id="a6990-352">**Dedizierte Hardware station auf Modern POS:** Die Datei befindet sich unter dem Modern POS-Client-Broker-Speicherort.</span><span class="sxs-lookup"><span data-stu-id="a6990-352">**Dedicated hardware station on Modern POS:** The file is located under the Modern POS client broker location.</span></span>

5. <span data-ttu-id="a6990-353">Fügen Sie die folgende Position zum Abschnitt **Anordnung** der Konfigurationsdatei hinzu.</span><span class="sxs-lookup"><span data-stu-id="a6990-353">Add the following line to the **composition** section of the configuration file.</span></span>

    ``` xml
    <add source="assembly" value="Contoso.Commerce.HardwareStation.EFRSample.dll" />
    ```

### <a name="enable-modern-pos-extension-components"></a><span data-ttu-id="a6990-354">Modern POS-Erweiterungskomponenten aktivieren</span><span class="sxs-lookup"><span data-stu-id="a6990-354">Enable Modern POS extension components</span></span>

1. <span data-ttu-id="a6990-355">Öffnen Sie die Lösung unter **RetailSdk\\POS\\ModernPOS.sln**, und stellen Sie sicher, dass sie fehlerfrei kompiliert werden kann.</span><span class="sxs-lookup"><span data-stu-id="a6990-355">Open the solution at **RetailSdk\\POS\\ModernPOS.sln**, and make sure that it can be compiled without errors.</span></span> <span data-ttu-id="a6990-356">Außerdem stellen Sie sicher, dass Sie Modern POS von Microsoft Visual Studio aus ausführen können, indem Sie den Befehl **Run** verwenden.</span><span class="sxs-lookup"><span data-stu-id="a6990-356">Additionally, make sure that you can run Modern POS from Microsoft Visual Studio by using the **Run** command.</span></span>

    > [!NOTE]
    > <span data-ttu-id="a6990-357">Modern POS darf nicht angepasst werden.</span><span class="sxs-lookup"><span data-stu-id="a6990-357">Modern POS must not be customized.</span></span> <span data-ttu-id="a6990-358">Sie müssen die Benutzerkontensteuerung (UAC) aktivieren, und Sie müssen zuvor installierte Instanzen von Modern POS bei Bedarf deinstallieren.</span><span class="sxs-lookup"><span data-stu-id="a6990-358">You must enable User Account Control (UAC), and you must uninstall previously installed instances of Modern POS as required.</span></span>

2. <span data-ttu-id="a6990-359">Aktivieren Sie das Laden der Instanzen, indem Sie die folgenden Zeilen in **extensions.json** hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="a6990-359">Enable the extensions to be loaded by adding the following lines in **extensions.json**.</span></span>

    ``` json
    {
        "extensionPackages": [
            {
                "baseUrl": "Microsoft/AuditEvent.AT"
            }
        ]
    }
    ```

    > [!NOTE]
    > <span data-ttu-id="a6990-360">Weitere Informationen und Beispiele, die zeigen, wie Quellcodeordner einbezogen werden und das Laden von Erweiterungen ermöglicht wird, finden Sie in den Anleitungen in der readme.md-Datei im Projekt **Pos.Extensions**.</span><span class="sxs-lookup"><span data-stu-id="a6990-360">For more information, and for samples that show how to include source code folders and enable extensions to be loaded, see the instructions in the readme.md file in the **Pos.Extensions** project.</span></span>

3. <span data-ttu-id="a6990-361">Erstellen Sie die Lösung neu.</span><span class="sxs-lookup"><span data-stu-id="a6990-361">Rebuild the solution.</span></span>
4. <span data-ttu-id="a6990-362">Führen Sie Modern POS im Debugger aus, und testen Sie die Funktionen.</span><span class="sxs-lookup"><span data-stu-id="a6990-362">Run Modern POS in the debugger, and test the functionality.</span></span>

### <a name="enable-cloud-pos-extension-components"></a><span data-ttu-id="a6990-363">Cloud POS-Erweiterungskomponenten aktivieren</span><span class="sxs-lookup"><span data-stu-id="a6990-363">Enable Cloud POS extension components</span></span>

1. <span data-ttu-id="a6990-364">Öffnen Sie die Lösung unter **RetailSdk\\POS\\CloudPOS.sln**, und stellen Sie sicher, dass sie fehlerfrei kompiliert werden kann.</span><span class="sxs-lookup"><span data-stu-id="a6990-364">Open the solution at **RetailSdk\\POS\\CloudPOS.sln**, and make sure that it can be compiled without errors.</span></span>
2. <span data-ttu-id="a6990-365">Aktivieren Sie das Laden der Instanzen, indem Sie die folgenden Zeilen in **extensions.json** hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="a6990-365">Enable the extensions to be loaded by adding the following lines in **extensions.json**.</span></span>

    ``` json
    {
        "extensionPackages": [
            {
                "baseUrl": "Microsoft/AuditEvent.AT"
            }
        ]
    }
    ```

    > [!NOTE]
    > <span data-ttu-id="a6990-366">Weitere Informationen und Beispiele, die zeigen, wie Quellcodeordner einbezogen werden und das Laden von Erweiterungen ermöglicht wird, finden Sie in den Anleitungen in der readme.md-Datei im Projekt **Pos.Extensions**.</span><span class="sxs-lookup"><span data-stu-id="a6990-366">For more information, and for samples that show how to include source code folders and enable extensions to be loaded, see the instructions in the readme.md file in the **Pos.Extensions** project.</span></span>

3. <span data-ttu-id="a6990-367">Erstellen Sie die Lösung neu.</span><span class="sxs-lookup"><span data-stu-id="a6990-367">Rebuild the solution.</span></span>
4. <span data-ttu-id="a6990-368">Führen Sie Lösung aus, indem Sie den Befehl **Run** verwenden, und folgen Sie den Schritten im Retail SDK-Handbuch.</span><span class="sxs-lookup"><span data-stu-id="a6990-368">Run the solution by using the **Run** command and following the steps in the Retail SDK handbook.</span></span>

### <a name="set-up-the-registration-process"></a><span data-ttu-id="a6990-369">Den Erfassungsprozess einrichten</span><span class="sxs-lookup"><span data-stu-id="a6990-369">Set up the registration process</span></span>

<span data-ttu-id="a6990-370">Um den Erfassungsprozess zu aktivieren, führen Sie diese Schritte aus, um Retail Headquarters einzurichten.</span><span class="sxs-lookup"><span data-stu-id="a6990-370">To enable the registration process, follow these steps to set up Retail Headquarters.</span></span> <span data-ttu-id="a6990-371">Weitere Informationen finden [Ein Steuererfassungsprozess einrichten](setting-up-fiscal-integration-for-retail-channel.md#set-up-a-fiscal-registration-process).</span><span class="sxs-lookup"><span data-stu-id="a6990-371">For more details, see [Set up a fiscal registration process](setting-up-fiscal-integration-for-retail-channel.md#set-up-a-fiscal-registration-process).</span></span>

1. <span data-ttu-id="a6990-372">Gehen Sie zu **Einzelhandel \> Zentralverwaltungseinrichtung \> Parameter \> Freigegebene Retail-Parameter**.</span><span class="sxs-lookup"><span data-stu-id="a6990-372">Go to **Retail \> Headquarters setup \> Parameters \> Retail shared parameters**.</span></span> <span data-ttu-id="a6990-373">Auf der Registerkarte **Allgemein** legen Sie die Option **Steuerintegration aktivieren** auf **Ja** fest.</span><span class="sxs-lookup"><span data-stu-id="a6990-373">On the **General** tab, set the **Enable fiscal integration** option to **Yes**.</span></span>
2. <span data-ttu-id="a6990-374">Gehen Sie zu **Retail \> Channel-Einstellungen \> Steuerintegration \> Steuerkonnektoren**, und laden Sie die Konnektorkonfiguration.</span><span class="sxs-lookup"><span data-stu-id="a6990-374">Go to **Retail \> Channel setup \> Fiscal integration \> Fiscal connectors**, and load the connector configuration.</span></span> <span data-ttu-id="a6990-375">Der Dateispeicherort ist **RetailSdk\\SampleExtensions\\HardwareStation\\Extension.EFRSample\\Configuration\\ConnectorEFRSample.xml**.</span><span class="sxs-lookup"><span data-stu-id="a6990-375">The file location is **RetailSdk\\SampleExtensions\\HardwareStation\\Extension.EFRSample\\Configuration\\ConnectorEFRSample.xml**.</span></span>
3. <span data-ttu-id="a6990-376">Wechseln Sie zu **Retail \> Channel-Einstellungen \> Steuerintegration \> Steuerdokumentanbieter**, und laden Sie die Dokumentanbieterkonfigurationen.</span><span class="sxs-lookup"><span data-stu-id="a6990-376">Go to **Retail \> Channel setup \> Fiscal integration \> Fiscal document providers**, and load the document provider configurations.</span></span> <span data-ttu-id="a6990-377">Die Konfigurationsdateien befinden sich unter **RetailSdk\\SampleExtensions\\CommerceRuntime\\Extensions.DocumentProvider.EFRSample\\Configuration**:</span><span class="sxs-lookup"><span data-stu-id="a6990-377">The configuration files are located under **RetailSdk\\SampleExtensions\\CommerceRuntime\\Extensions.DocumentProvider.EFRSample\\Configuration**:</span></span>

    - <span data-ttu-id="a6990-378">DocumentProviderEFRSampleAustria.xml</span><span class="sxs-lookup"><span data-stu-id="a6990-378">DocumentProviderEFRSampleAustria.xml</span></span>
    - <span data-ttu-id="a6990-379">DocumentProviderNonFiscalEFRSampleAustria.xml</span><span class="sxs-lookup"><span data-stu-id="a6990-379">DocumentProviderNonFiscalEFRSampleAustria.xml</span></span>

4. <span data-ttu-id="a6990-380">Wechseln Sie zu **Retail \> Channel-Einstellungen \> Steuerintegration \> Konnektorfunktionsprofile**.</span><span class="sxs-lookup"><span data-stu-id="a6990-380">Go to **Retail \> Channel setup \> Fiscal integration \> Connector functional profiles**.</span></span> <span data-ttu-id="a6990-381">Erstellen Sie zwei Konnektorfunktionsprofile, eines für jeden Dokumentanbieter, den Sie zuvor geladen haben, und wählen Sie den Konnektor aus, den Sie zuvor geladen haben.</span><span class="sxs-lookup"><span data-stu-id="a6990-381">Create two new connector functional profiles, one for each document provider that you loaded earlier, and select the connector that you loaded earlier.</span></span> <span data-ttu-id="a6990-382">Aktualisieren Sie die Datenzuordnungseinstellungen nach Bedarf.</span><span class="sxs-lookup"><span data-stu-id="a6990-382">Update the data mapping settings as required.</span></span>
5. <span data-ttu-id="a6990-383">Wechseln Sie zu **Retail \> Channel-Einstellungen \> Steuerintegration \> Technische Konnektorprofile**.</span><span class="sxs-lookup"><span data-stu-id="a6990-383">Go to **Retail \> Channel setup \> Fiscal integration \> Connector technical profiles**.</span></span> <span data-ttu-id="a6990-384">Erstellen Sie ein neues technisches Konnektorprofil, und wählen Sie den Konnektor aus, den Sie vorher geladen haben.</span><span class="sxs-lookup"><span data-stu-id="a6990-384">Create a new connector technical profile, and select the connector that you loaded earlier.</span></span> <span data-ttu-id="a6990-385">Aktualisieren Sie die Verbindungseinstellungen nach Bedarf.</span><span class="sxs-lookup"><span data-stu-id="a6990-385">Update the connection settings as required.</span></span>
6. <span data-ttu-id="a6990-386">Wechseln Sie zu **Retail \> Channel-Einstellungen \> Steuerintegration \> Steuerkonnektorgruppen**.</span><span class="sxs-lookup"><span data-stu-id="a6990-386">Go to **Retail \> Channel setup \> Fiscal integration \> Fiscal connector groups**.</span></span> <span data-ttu-id="a6990-387">Erstellen Sie zwei neue Steuerkonnektorgruppen, eine für jedes Konnektorfunktionsprofil, das Sie vorher erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="a6990-387">Create two new fiscal connector groups, one for each connector functional profile that you created earlier.</span></span>
7. <span data-ttu-id="a6990-388">Wechseln Sie zu **Retail \> Channel-Einstellungen \> Steuerintegration \> Steuererfassungsprozesse**.</span><span class="sxs-lookup"><span data-stu-id="a6990-388">Go to **Retail \> Channel setup \> Fiscal integration \> Fiscal registration processes**.</span></span> <span data-ttu-id="a6990-389">Erstellen Sie einen neuen Steuererfassungsprozess, zwei Steuererfassungsprozess-Schritte, und wählen Sie die Steuerkonnektorgruppen aus, die Sie vorher erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="a6990-389">Create a new fiscal registration process, two fiscal registration process steps, and select the fiscal connector groups that you created earlier.</span></span>
8. <span data-ttu-id="a6990-390">Wechseln Sie zu **Retail \> Channel-Einstellungen \> POS-Einstellungen \> POS-Profile \> Funktionsprofile**.</span><span class="sxs-lookup"><span data-stu-id="a6990-390">Go to **Retail \> Channel setup \> POS setup \> POS profiles \> Functionality profiles**.</span></span> <span data-ttu-id="a6990-391">Wählen Sie ein Funktionsprofil aus, das mit dem Einzelhandelsgeschäft verbunden ist, wo der Erfassungsprozess aktiviert werden soll.</span><span class="sxs-lookup"><span data-stu-id="a6990-391">Select a functionality profile that is linked to the store where the registration process should be activated.</span></span> <span data-ttu-id="a6990-392">Im Inforegister **Steuererfassungsprozess** aktivieren Sie den Steuererfassungsprozess, den Sie vorher erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="a6990-392">On the **Fiscal registration process** FastTab, select the fiscal registration process that you created earlier.</span></span> <span data-ttu-id="a6990-393">Um die Erfassung von nicht-steuerlichen Ereignisse im POS zu ermöglichen, legen Sie im Inforegister **Funktionen** unter **POS** die Option **Überwachen** auf **Ja** fest.</span><span class="sxs-lookup"><span data-stu-id="a6990-393">To enable registration of non-fiscal events on the POS, on the **Functions** FastTab, under **POS**, set the **Audit** option to **Yes**.</span></span>
9. <span data-ttu-id="a6990-394">Wechseln Sie zu **Retail \> Channel-Einstellungen \> POS-Einstellungen \> POS-Profile \> Hardwareprofile**.</span><span class="sxs-lookup"><span data-stu-id="a6990-394">Go to **Retail \> Channel setup \> POS setup \> POS profiles \> Hardware profiles**.</span></span> <span data-ttu-id="a6990-395">Wählen Sie ein Hardwareprofil aus, das mit der Hardware station verknüpft ist, mit der der Belegdrucker verbunden wird.</span><span class="sxs-lookup"><span data-stu-id="a6990-395">Select a hardware profile that is linked to the Hardware station that the fiscal printer will be connected to.</span></span> <span data-ttu-id="a6990-396">Im Inforegister **Peripheriegeräte für die Steuerverwaltung** aktivieren Sie das technische Konnektorprofil, das Sie vorher erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="a6990-396">On the **Fiscal peripherals** FastTab, select the connector technical profile that you created earlier.</span></span>
10. <span data-ttu-id="a6990-397">Öffnen Sie den Vertriebsplan (**Retail \> Retail IT \> Vertriebsplan**), und wählen Sie Einzelvorgänge **1070** und **1090** aus, um Daten zur Kanaldatenbank zu übertragen.</span><span class="sxs-lookup"><span data-stu-id="a6990-397">Open the distribution schedule (**Retail \> Retail IT \> Distribution schedule**), and select jobs **1070** and **1090** to transfer data to the channel database.</span></span>

### <a name="production-environment"></a><span data-ttu-id="a6990-398">Produktionsumgebung</span><span class="sxs-lookup"><span data-stu-id="a6990-398">Production environment</span></span>

<span data-ttu-id="a6990-399">Die vorherige Prozedur aktiviert die Erweiterungen, die Komponenten des Steuererfassungsdienst-Integrationsbeispiels sind.</span><span class="sxs-lookup"><span data-stu-id="a6990-399">The previous procedure enables the extensions that are components of the fiscal registration service integration sample.</span></span> <span data-ttu-id="a6990-400">Darüber hinaus müssen Sie diese Schritte ausführen, um bereitstellbare Pakete zu erstellen, die Retail-Komponenten enthalten, und diese Pakete in einer Produktionsumgebung anzuwenden.</span><span class="sxs-lookup"><span data-stu-id="a6990-400">In addition, you must follow these steps to create deployable packages that contain Retail components, and to apply those packages in a production environment.</span></span>

1. <span data-ttu-id="a6990-401">Nehmen Sie die folgenden Änderungen in den Paketkonfigurationsdateien unter dem Ordner **RetailSdk\\Assets** vor:</span><span class="sxs-lookup"><span data-stu-id="a6990-401">Make the following changes in the package configuration files under the **RetailSdk\\Assets** folder:</span></span>

    - <span data-ttu-id="a6990-402">In den Konfigurationsdateien **commerceruntime.ext.config** und **CommerceRuntime.MPOSOffline.Ext.config** fügen Sie die folgenden Positionen zum Abschnitt **Anordnung** hinzu.</span><span class="sxs-lookup"><span data-stu-id="a6990-402">In the **commerceruntime.ext.config** and **CommerceRuntime.MPOSOffline.Ext.config** configuration files, add the following lines to the **composition** section.</span></span>

        ``` xml 
        <add source="assembly" value="Contoso.Commerce.Runtime.DocumentProvider.EFRSample" />
        <add source="assembly" value="Contoso.Commerce.Runtime.DocumentProvider.DataModelEFR" />
        <add source="assembly" value="Microsoft.Dynamics.Commerce.Runtime.ReceiptsAustria" />
        <add source="assembly" value="Microsoft.Dynamics.Commerce.Runtime.RegisterAuditEventAustria" />
        <add source="assembly" value="Microsoft.Dynamics.Commerce.Runtime.XZReportsAustria" />
        ```

    - <span data-ttu-id="a6990-403">In der Konfigurationsdatei **HardwareStation.Extension.config** fügen Sie die folgende Position dem Abschnitt **Anordnung** hinzu.</span><span class="sxs-lookup"><span data-stu-id="a6990-403">In the **HardwareStation.Extension.config** configuration file, add the following line to the **composition** section.</span></span>

        ``` xml
        <add source="assembly" value="Contoso.Commerce.HardwareStation.EFRSample" />
        ```

2. <span data-ttu-id="a6990-404">Nehmen Sie die folgenden Änderungen in der Paketanpassungs-Konfigurationsdatei **BuildTools\\Customization.settings** vor:</span><span class="sxs-lookup"><span data-stu-id="a6990-404">Make the following changes in the **BuildTools\\Customization.settings** package customization configuration file:</span></span>

    - <span data-ttu-id="a6990-405">Fügen Sie die folgenden Zeilen hinzu, um die CRT-Erweiterungen in die bereitstellbaren Paketen einzuschließen.</span><span class="sxs-lookup"><span data-stu-id="a6990-405">Add the following lines to include the CRT extensions in the deployable packages.</span></span>

        ``` xml
        <ISV_CommerceRuntime_CustomizableFile Include="$(SdkReferencesPath)\Contoso.Commerce.Runtime.DocumentProvider.EFRSample.dll" />
        <ISV_CommerceRuntime_CustomizableFile Include="$(SdkReferencesPath)\Contoso.Commerce.Runtime.DocumentProvider.DataModelEFR.dll" />
        <ISV_HardwareStation_CustomizableFile Include="$(SdkReferencesPath)\Contoso.Commerce.Runtime.DocumentProvider.DataModelEFR.dll" />
        ```

    - <span data-ttu-id="a6990-406">Fügen Sie die folgende Zeilen hinzu, um die Hardware station-Erweiterung in die bereitstellbaren Pakete einzuschließen.</span><span class="sxs-lookup"><span data-stu-id="a6990-406">Add the following line to include the Hardware station extension in the deployable packages.</span></span>

        ``` xml
        <ISV_HardwareStation_CustomizableFile Include="$(SdkReferencesPath)\Contoso.Commerce.HardwareStation.EFRSample" />
        ```

3. <span data-ttu-id="a6990-407">Starten Sie die MSBuild-Eingabeaufforderung für Visual Studio-Hilfsprogramm und führen Sie **msbuild** unter dem Ordner Retail SDK aus, um bereitstellbare Pakete zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="a6990-407">Start the MSBuild Command Prompt for Visual Studio utility, and run **msbuild** under the Retail SDK folder to create deployable packages.</span></span>
4. <span data-ttu-id="a6990-408">Übernehmen Sie die Pakete über Microsoft Dynamics Lifecycle Services (LCS) oder manuell.</span><span class="sxs-lookup"><span data-stu-id="a6990-408">Apply the packages via Microsoft Dynamics Lifecycle Services (LCS) or manually.</span></span> <span data-ttu-id="a6990-409">Weitere Informationen finden Sie unter [Bereitstellbare Einzelhandelspakete erstellen](../dev-itpro/retail-sdk/retail-sdk-packaging.md).</span><span class="sxs-lookup"><span data-stu-id="a6990-409">For more information, see [Create retail deployable packages](../dev-itpro/retail-sdk/retail-sdk-packaging.md).</span></span>
5. <span data-ttu-id="a6990-410">Schließen Sie alle erforderlichen Setupaufgaben ab, die im Abschnitt [Retail für Österreich einrichten](#set-up-retail-for-austria) beschrieben sind.</span><span class="sxs-lookup"><span data-stu-id="a6990-410">Complete all the required setup tasks that are described in the [Set up Retail for Austria](#set-up-retail-for-austria) section.</span></span>

## <a name="design-of-extensions"></a><span data-ttu-id="a6990-411">Entwurf von Erweiterungen</span><span class="sxs-lookup"><span data-stu-id="a6990-411">Design of extensions</span></span>

### <a name="commerce-runtime-extension-design"></a><span data-ttu-id="a6990-412">Commerce-Laufzeiterweiterungsentwurf</span><span class="sxs-lookup"><span data-stu-id="a6990-412">Commerce runtime extension design</span></span>

<span data-ttu-id="a6990-413">Der Zweck der Erweiterung ist es, dass ein Steuerdokumentanbieter dienstspezifische Dokumente erzeugt und Antworten aus dem Steuererfassungsdienst handhabt.</span><span class="sxs-lookup"><span data-stu-id="a6990-413">The purpose of the extension that is a fiscal document provider is to generate service-specific documents and handle responses from the fiscal registration service.</span></span>

<span data-ttu-id="a6990-414">Die CRT-Erweiterung ist **Runtime.Extensions.DocumentProvider.EFRSample**.</span><span class="sxs-lookup"><span data-stu-id="a6990-414">The CRT extension is **Runtime.Extensions.DocumentProvider.EFRSample**.</span></span>

<span data-ttu-id="a6990-415">Genauere Informationen zum Entwurf der Steuerintegrationslösung finden Sie unter [Steuererfassungsprozess und Steuerintegrationsbeispiele für steuerbezogene Geräte](fiscal-integration-for-retail-channel.md#fiscal-registration-process-and-fiscal-integration-samples-for-fiscal-devices).</span><span class="sxs-lookup"><span data-stu-id="a6990-415">For more details about the design of the fiscal integration solution, see [Fiscal registration process and fiscal integration samples for fiscal devices](fiscal-integration-for-retail-channel.md#fiscal-registration-process-and-fiscal-integration-samples-for-fiscal-devices).</span></span>

#### <a name="request-handler"></a><span data-ttu-id="a6990-416">Anforderungshandler</span><span class="sxs-lookup"><span data-stu-id="a6990-416">Request handler</span></span>
    
<span data-ttu-id="a6990-417">Es gibt zwei Anforderungshandler für Dokumentanbieter:</span><span class="sxs-lookup"><span data-stu-id="a6990-417">There are two request handlers for document providers:</span></span>

- <span data-ttu-id="a6990-418">**DocumentProviderEFRFiscalAUT** – Dieser Handler wird verwendet, um Steuerdokumente für den Steuererfassungsdienst zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="a6990-418">**DocumentProviderEFRFiscalAUT** – This handler is used to generate fiscal documents for the fiscal registration service.</span></span>
- <span data-ttu-id="a6990-419">**DocumentProviderEFRNonFiscalAUT** – Dieser Handler wird verwendet, um Steuerdokumente für den Steuererfassungsdienst zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="a6990-419">**DocumentProviderEFRNonFiscalAUT** – This handler is used to generate non-fiscal documents for the fiscal registration service.</span></span>

<span data-ttu-id="a6990-420">Diese Handler werden von der Oberfläche **INamedRequestHandler** geerbt.</span><span class="sxs-lookup"><span data-stu-id="a6990-420">These handlers are inherited from the **INamedRequestHandler** interface.</span></span> <span data-ttu-id="a6990-421">Die Methode **HandlerName** ist für die Rückgabe des Namens des Handlers zuständig.</span><span class="sxs-lookup"><span data-stu-id="a6990-421">The **HandlerName** method is responsible for returning the name of the handler.</span></span> <span data-ttu-id="a6990-422">Der Handlername sollte mit dem Name des Konnektordokumentanbieters übereinstimmen, der in Retail Headquarters angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="a6990-422">The handler name should match the connector document provider name that is specified in Retail Headquarters.</span></span>

<span data-ttu-id="a6990-423">Der Konnektor unterstützt die folgenden Anforderungen:</span><span class="sxs-lookup"><span data-stu-id="a6990-423">The connector supports the following requests:</span></span>

- <span data-ttu-id="a6990-424">**GetFiscalDocumentDocumentProviderRequest** – Diese Anforderung enthält Informationen darüber, welches Dokument generiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="a6990-424">**GetFiscalDocumentDocumentProviderRequest** – This request contains information about what document should be generated.</span></span> <span data-ttu-id="a6990-425">Sie gibt ein dienstspezifisches Dokument zurück, dass im Steuererfassungsdienst erfasst werden soll.</span><span class="sxs-lookup"><span data-stu-id="a6990-425">It returns a service-specific document that should be registered in the fiscal registration service.</span></span>
- <span data-ttu-id="a6990-426">**GetNonFiscalDocumentDocumentProviderRequest** – Diese Anforderung enthält Informationen darüber, welches nicht-steuerliche Dokument generiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="a6990-426">**GetNonFiscalDocumentDocumentProviderRequest** – This request contains information about what non-fiscal document should be generated.</span></span> <span data-ttu-id="a6990-427">Sie gibt ein dienstspezifisches Dokument zurück, dass im Steuererfassungsdienst erfasst werden soll.</span><span class="sxs-lookup"><span data-stu-id="a6990-427">It returns a service-specific document that should be registered in the fiscal registration service.</span></span>
- <span data-ttu-id="a6990-428">**GetSupportedRegistrableEventsDocumentProviderRequest** – Diese Anforderung gibt die Liste der Ereignisse zurück, die Sie abonnieren können.</span><span class="sxs-lookup"><span data-stu-id="a6990-428">**GetSupportedRegistrableEventsDocumentProviderRequest** – This request returns the list of events to subscribe to.</span></span> <span data-ttu-id="a6990-429">Aktuell werden die folgenden Ereignisse unterstützt: Vertrieb, Drucken von X-Bericht, Drucken von Z-Bericht, Debitorenkonto-Einzahlungen, Debitorenauftragseinzahlungen, Überwachungsereignisse und Nicht-Vertriebsbuchungen.</span><span class="sxs-lookup"><span data-stu-id="a6990-429">Currently, the following events are supported: sales, printing X report, printing Z report, customer account deposits, customer order deposits, audit events, and non-sales transactions.</span></span>
- <span data-ttu-id="a6990-430">**GetFiscalRegisterResponseToSaveDocumentProviderRequest** – Diese Anforderung gibt die Antwort vom Steuererfassungsdienst zurück.</span><span class="sxs-lookup"><span data-stu-id="a6990-430">**GetFiscalRegisterResponseToSaveDocumentProviderRequest** – This request returns the response from the fiscal registration service.</span></span> <span data-ttu-id="a6990-431">Diese Antwort wird serialisiert, um eine Zeichenfolge zu bilden, sodass sie bereit zum Speichern ist.</span><span class="sxs-lookup"><span data-stu-id="a6990-431">This response is serialized to form a string so that it's ready to be saved.</span></span>

#### <a name="configuration"></a><span data-ttu-id="a6990-432">Variante</span><span class="sxs-lookup"><span data-stu-id="a6990-432">Configuration</span></span>

<span data-ttu-id="a6990-433">Die Konfigurationsdateien befinden sich im Ordner **Konfiguration** des Erweiterungsprojekts:</span><span class="sxs-lookup"><span data-stu-id="a6990-433">The configuration files are located in the **Configuration** folder of the extension project:</span></span>

- <span data-ttu-id="a6990-434">**DocumentProviderFiscalEFRSampleAustria** – Für Steuerdokumente.</span><span class="sxs-lookup"><span data-stu-id="a6990-434">**DocumentProviderFiscalEFRSampleAustria** – For fiscal documents.</span></span>
- <span data-ttu-id="a6990-435">**DocumentProviderNonFiscalEFRSampleAustria** – Für nicht-steuerliche Dokumente.</span><span class="sxs-lookup"><span data-stu-id="a6990-435">**DocumentProviderNonFiscalEFRSampleAustria** – For non-fiscal documents.</span></span>

<span data-ttu-id="a6990-436">Der Zweck dieser Dateien ist es, Einstellungen zu aktivieren, damit der Dokumentanbieter von Retail Headquarters aus konfiguriert werden kann.</span><span class="sxs-lookup"><span data-stu-id="a6990-436">The purpose of these files is to enable settings for the document provider to be configured from Retail Headquarters.</span></span> <span data-ttu-id="a6990-437">Das Dateiformat wird mit den Anforderungen für die Steuerintegrationskonfiguration ausgerichtet.</span><span class="sxs-lookup"><span data-stu-id="a6990-437">The file format is aligned with the requirements for fiscal integration configuration.</span></span> <span data-ttu-id="a6990-438">Die folgende Einstellung wird hinzugefügt:</span><span class="sxs-lookup"><span data-stu-id="a6990-438">The following setting is added:</span></span>

- <span data-ttu-id="a6990-439">Zuordnung von MwSt.-Sätzen</span><span class="sxs-lookup"><span data-stu-id="a6990-439">VAT rates mapping</span></span>

### <a name="hardware-station-extension-design"></a><span data-ttu-id="a6990-440">Hardware station-Erweiterungsentwurf</span><span class="sxs-lookup"><span data-stu-id="a6990-440">Hardware station extension design</span></span>

<span data-ttu-id="a6990-441">Der Zweck der Erweiterung, die ein Steuerkonnektor ist, ist die Kommunikation mit dem Steuererfassungsdienst.</span><span class="sxs-lookup"><span data-stu-id="a6990-441">The purpose of the extension that is a fiscal connector is to communicate with the fiscal registration service.</span></span>

<span data-ttu-id="a6990-442">Die Hardware station-Erweiterung ist **HardwareStation.Extension.EFRSample**.</span><span class="sxs-lookup"><span data-stu-id="a6990-442">The Hardware station extension is **HardwareStation.Extension.EFRSample**.</span></span> <span data-ttu-id="a6990-443">Die Hardwarestation-Erweiterung verwendet das HTTP-Protokoll, um Dokumente, die die CRT-Erweiterung generiert, zum Steuererfassungsdienst zu übermitteln.</span><span class="sxs-lookup"><span data-stu-id="a6990-443">The Hardware station extension uses the HTTP protocol to submit documents that the CRT extension generates to the fiscal registration service.</span></span> <span data-ttu-id="a6990-444">Sie handhabt auch die Antworten, die vom Steuererfassungsdienst empfangen werden.</span><span class="sxs-lookup"><span data-stu-id="a6990-444">It also handles the responses that are received from the fiscal registration service.</span></span>

#### <a name="request-handler"></a><span data-ttu-id="a6990-445">Anforderungshandler</span><span class="sxs-lookup"><span data-stu-id="a6990-445">Request handler</span></span>

<span data-ttu-id="a6990-446">Der Anforderungshandler **EFRHandler** ist der Einstiegspunkt für die Handhabung von Anforderungen an den Steuererfassungsdienst.</span><span class="sxs-lookup"><span data-stu-id="a6990-446">The **EFRHandler** request handler is the entry point for handling requests to the fiscal registration service.</span></span>

<span data-ttu-id="a6990-447">Der Handler wird von der Oberfläche **INamedRequestHandler** geerbt.</span><span class="sxs-lookup"><span data-stu-id="a6990-447">The handler is inherited from the **INamedRequestHandler** interface.</span></span> <span data-ttu-id="a6990-448">Die Methode **HandlerName** ist für die Rückgabe des Namens des Handlers zuständig.</span><span class="sxs-lookup"><span data-stu-id="a6990-448">The **HandlerName** method is responsible for returning the name of the handler.</span></span> <span data-ttu-id="a6990-449">Der Handlername sollte mit dem Name des Steuerkonnektors übereinstimmen, der in Retail Headquarters angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="a6990-449">The handler name should match the fiscal connector name that is specified in Retail Headquarters.</span></span>

<span data-ttu-id="a6990-450">Der Konnektor unterstützt die folgenden Anforderungen:</span><span class="sxs-lookup"><span data-stu-id="a6990-450">The connector supports the following requests:</span></span>

- <span data-ttu-id="a6990-451">**SubmitDocumentFiscalDeviceRequest** – Diese Anforderung sendet Dokumente an den Steuererfassungsdienst und gibt eine Antwort von ihm zurück.</span><span class="sxs-lookup"><span data-stu-id="a6990-451">**SubmitDocumentFiscalDeviceRequest** – This request sends documents to the fiscal registration service and returns a response from it.</span></span>
- <span data-ttu-id="a6990-452">**IsReadyFiscalDeviceRequest** – Diese Anforderung wird für eine Integritätsprüfung des Steuererfassungsdiensts verwendet.</span><span class="sxs-lookup"><span data-stu-id="a6990-452">**IsReadyFiscalDeviceRequest** – This request is used for a health check of the fiscal registration service.</span></span>
- <span data-ttu-id="a6990-453">**InitializeFiscalDeviceRequest** – Diese Anforderung wird für Initialisierung des Steuererfassungsdiensts verwendet.</span><span class="sxs-lookup"><span data-stu-id="a6990-453">**InitializeFiscalDeviceRequest** – This request is used to initialize the fiscal registration service.</span></span>

#### <a name="configuration"></a><span data-ttu-id="a6990-454">Variante</span><span class="sxs-lookup"><span data-stu-id="a6990-454">Configuration</span></span>

<span data-ttu-id="a6990-455">Die Konfigurationsdatei befindet sich im Ordner **Konfiguration** des Erweiterungsprojekts.</span><span class="sxs-lookup"><span data-stu-id="a6990-455">The configuration file is located in the **Configuration** folder of the extension project.</span></span> <span data-ttu-id="a6990-456">Der Zweck dieser Datei ist es, Einstellungen zu aktivieren, damit der Steuerkonnektor von Retail Headquarters aus konfiguriert werden kann.</span><span class="sxs-lookup"><span data-stu-id="a6990-456">The purpose of the file is to enable settings for the fiscal connector to be configured from Retail Headquarters.</span></span> <span data-ttu-id="a6990-457">Das Dateiformat wird mit den Anforderungen für die Steuerintegrationskonfiguration ausgerichtet.</span><span class="sxs-lookup"><span data-stu-id="a6990-457">The file format is aligned with the requirements for fiscal integration configuration.</span></span> <span data-ttu-id="a6990-458">Die folgenden Einstellungen werden hinzugefügt:</span><span class="sxs-lookup"><span data-stu-id="a6990-458">The following settings are added:</span></span>

- <span data-ttu-id="a6990-459">**Endpunktadresse** – Die URL des Steuererfassungsdiensts.</span><span class="sxs-lookup"><span data-stu-id="a6990-459">**Endpoint address** – The URL of the fiscal registration service.</span></span>
- <span data-ttu-id="a6990-460">**Zeitlimit** – Die Zeitdauer in Millisekunden, die der Treiber auf eine Antwort vom Steuererfassungsdienst wartet.</span><span class="sxs-lookup"><span data-stu-id="a6990-460">**Timeout** – The amount of time, in milliseconds, that the driver will wait for a response from the fiscal registration service.</span></span>
